<<<<<<< HEAD
function HashTable(a){this.length=0;var m={},q=new SortedArray,d;for(d in a)a.hasOwnProperty(d)&&(m[d]=a[d],this.length++);this.setItem=function(c,b){var e=void 0;-1!=q.search(c)?e=m[c]:this.length++;m[c]=b;q.uniqueInsert(c);return e};this.getItem=function(c){return-1!=q.search(c)?m[c]:void 0};this.hasItem=function(c){return-1!=q.search(c)};this.removeItem=function(c){if(-1!=q.search(c))return previous=m[c],this.length--,delete m[c],q.remove(c),previous};this.keys=function(){return q};this.values=
function(){for(var c=[],b,e=0;e<q.getArray().length;e++)b=q.getArray()[e],c.push(m[b]);return c};this.each=function(c){for(var b in q)c(b,m[b])};this.clear=function(){m={};q=new SortedArray;this.length=0}}
var jSVG=new function(){function a(m){function q(c,e,d,h){e=new a(e);var g;h=JSON.parse(JSON.stringify(h));if(d)for(g in d)h[g]=d[g];g=h;h={};for(var f in g)h[f]=new b(null,f,g[f]);e.attributes(h);c&&c.appendChild(e);return e}var d={width:500,height:500,version:"1.1"},c={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},b=function(c,b,e){this.namespace=c;this.name=b;this.value=e},e={},p={},g="",n=void 0,f=[];this.svg=function(c){c||
(c={});return q(null,"svg",c,d)};this.elementByName=function(b,e){return q(this,b,e,c)};this.g=function(b){return q(this,"g",b,c)};this.path=function(b){return q(this,"path",b,c)};this.rectangle=function(b){return q(this,"rect",b,c)};this.circle=function(b){return q(this,"circle",b,c)};this.line=function(b){return q(this,"line",b,c)};this.text=function(b){var e=q(this,"text",b,c);e.value(b.value);return e};this.a=function(b,e){var a=q(this,"a",b,c);a.attribute("http://www.w3.org/1999/xlink","xlink:href",
e);return a};this.attribute=function(c,a,d){e[a]=new b(c,a,d);return this};this.attributes=function(b){e=b;return this};this.style=function(b){g=b;return this};this.value=function(b){n=b;return this};this.event=function(b,c){p[b]=c;return this};this.width=function(){return e.width.value};this.height=function(){return e.height.value};this.appendChild=function(b){f.push(b)};this.render=function(){var b=document.createElementNS("http://www.w3.org/2000/svg",m),c;for(c in e){var a=e[c];b.setAttributeNS(a.namespace,
a.name,a.value)}b.setAttributeNS(null,"style",g);for(var d in p)b[d]=p[d];for(c=0;c<f.length;c++)b.appendChild(f[c].render());n&&(c=document.createTextNode(n),b.appendChild(c));return b};this.toString=function(){var b="",c;for(c in e)var a=e[c],b=b+String.format(' {0}="{1}"',a.name,a.value);c="";for(a=0;a<f.length;a++)c+=f[a].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',m,"http://www.w3.org/2000/svg",b,g,c,n?n:"")}}return new a};
String.format=function(a){for(var m=1;m<arguments.length;m++)a=a.replace(RegExp("\\{"+(m-1)+"\\}","g"),arguments[m]);return a};String.prototype.toFirstUpperCase=function(){var a=this[0].toUpperCase(),m=this.substr(1);return a+m};"undefined"===typeof exports&&(exports={});if("undefined"===typeof wesCountry)var wesCountry={};
wesCountry.charts=new function(){function a(c,b){if(b instanceof Array)return b;if("object"===typeof b){for(var e in b)c[e]=a(c[e],b[e]);return c}return b}function m(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(c){if(d){var b=c?c:event;c=b.clientX;b=b.clientY;diffX=24;diffY=0;d.style.top=b-2+diffY+document.body.scrollTop+"px";d.style.left=c-2+diffX+document.body.scrollLeft+"px"}}this.defaultOptions={width:600,height:400,chartType:"bar",container:"body",margins:[10,
20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica",
"font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es",
"http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"},tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(c,b,e){c=String.format("Series '{0}': ({1}, {2})",c,b,e);console.log(c);wesCountry.charts.showTooltip(c)},onmouseout:function(){wesCountry.charts.hideTooltip()},onclick:function(){}}};this.sortSeries=
function(c){c.sort(function(b,c){for(var a=b.values,d=c.values,n=Math.max(a.length,d.length),f=0,k=0;k<n;k++)(a[k]?a[k]:0)>(d[k]?d[k]:0)&&f++;return f>=n/2?-1:1});return c};this.getSVG=function(c){return jSVG.svg({width:c.width,height:c.height})};this.showLegend=function(c,b,a){for(var d=a.series.length,g=b.width-0.2*b.marginRight,n=0;n<d;n++){var f=b.marginTop+2.5*(b.legendItemSize+b.barMargin)*n;c.circle({cx:g,cy:f,r:b.legendItemSize}).style(String.format("fill: {0}",a.serieColours[n%a.serieColours.length]));
c.text({x:g-2*b.legendItemSize,y:f,value:a.series[n].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.legend["font-colour"],a.legend["font-family"],a.legend["font-size"]))}};this.mergeOptionsAndDefaultOptions=function(c,b){if(c){"string"===typeof c&&(c={container:c});var e=this.clone(b),d;for(d in c)e[d]=a(e[d],c[d]);c=e}else c=this.clone(b);return c};this.clone=function(c){if(null==c||"object"!=typeof c)return c;var b=c.constructor(),
a;for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);return b};this.setAxisY=function(c,b,a){c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.yAxisMargin,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.yAxis.colour));for(var d=b.ticksY+1,g=0;g<d;g++)c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:b.marginTop+g*b.yTickHeight,y2:b.marginTop+g*b.yTickHeight}).style(String.format("stroke: {0}",a.yAxis.tickColour));for(g=0;g<d;g++)c.text({x:b.marginLeft+
b.yAxisMargin/1.8,y:b.marginTop+g*b.yTickHeight,value:(b.maxValue-g*b.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));d=b.marginLeft;b=b.marginTop+(b.innerHeight-b.xAxisMargin)/2;c.text({x:d,y:b,value:a.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",d,b)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.yAxis["font-colour"],
a.yAxis["font-family"],a.yAxis["font-size"]))};this.setAxisX=function(c,b,a){var d=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(b.maxValue-b.minValue)*(b.innerHeight-b.xAxisMargin);c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",a.xAxis.colour));for(var d=b.maxValueLength,g=0;g<d;g++){var n=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*g;c.line({x1:n,x2:n,y1:b.marginTop,y2:b.innerHeight+
b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.xAxis.tickColour));c.text({x:n,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:a.xAxis.values[g]?a.xAxis.values[g]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}c.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:a.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))};this.getMaxAndMinValuesAxisY=function(c){for(var b=0,a=Number.MAX_VALUE,d=c.series.length,g=null,n=null,f=0,k=0;k<d;k++){g=c.series[k].values.length;g>f&&(f=g);for(var l=0;l<g;l++)n=c.series[k].values[l],n instanceof Array&&(n=n[1]?n[1]:0),n>b&&(b=n),n<a&&(a=n)}!0==c.yAxis["from-zero"]&&0<a&&(a=0);c=this.getNearestNumber(a,b);return{max:c.max,min:c.min,valueLength:f,inc:c.inc}};this.setBackground=function(c,b,a){c.rectangle({x:0,
y:0,width:b.width,height:b.height}).style(String.format("fill: {0}",a.backgroundColour))};this.getNearestNumber=function(c,b){var a;a=b-c;var d=0;15>a?d=1:30>a?d=5:(a=1+Math.floor(Math.log(a)/Math.log(10)),d=Math.pow(10,a-1));a=d;return{max:Math.ceil(b/a)*a,min:Math.floor(c/a)*a,inc:a}};this.guid=function(){return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m()};var d=null;this.createTooltip=function(a){if(!0==a.tooltip.show){if(d=document.getElementById("wesCountryTooltip"),!d){d=document.createElement("span");
d.id="wesCountryTooltip";document.body.appendChild(d);var b="",e;for(e in a.tooltip.style)b+=String.format("{0}:{1};",e,a.tooltip.style[e]);d.setAttribute("style",b)}}else d=null};this.showTooltip=function(a){d&&(q(),d.innerHTML=a,d.style.display="block",window.onscroll=q)};this.hideTooltip=function(){d&&(d.style.display="none")}};
wesCountry.charts.barChart=function(a){function m(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,g=b*d.margins[2]/100,n=c*d.margins[3]/100,f=d.yAxis.margin*c/100,k=d.xAxis.margin*b/100,l=c-n-p,t=b-e-g,h=wesCountry.charts.getMaxAndMinValuesAxisY(d),r=h.max,u=0<h.min?0:h.min,v=h.valueLength,s=(r-u)/h.inc,h=(l-f)/h.valueLength,y=d.groupMargin*h/100,h=h-2*y,m=h/d.series.length,x=d.barMargin*m/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:g,marginLeft:n,
innerWidth:l,innerHeight:t,yAxisMargin:f,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:v,ticksY:s,yTickHeight:0!=s?(t-k)/s:0,xTickWidth:h,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:y,barWidth:m-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.yAxis["from-zero"]=!0;a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var q=wesCountry.charts.getSVG(a),d=m(q,a),c=q.g();wesCountry.charts.setBackground(c,
d,a);wesCountry.charts.setAxisY(c,d,a);wesCountry.charts.setAxisX(c,d,a);for(var b=d.maxValueLength,e=a.series.length,p=d.barWidth,g=d.innerHeight-d.xAxisMargin,n=d.minValue/(d.maxValue-d.minValue)*g,f=0;f<b;f++)for(var k=0;k<e;k++){var l=a.series[k].name,t=a.series[k].values[f],h=a.series[k].urls?a.series[k].urls[f]:"",r=a.xAxis.values[k];t||(t=0);var u=d.marginLeft+d.yAxisMargin+d.groupMargin*(2*f+1)+d.barMargin+d.xTickWidth*f+(p+2*d.barMargin)*k,v=0<=t?d.marginTop+d.innerHeight-d.xAxisMargin+n-
t/(d.maxValue-d.minValue)*g:d.marginTop+d.innerHeight-d.xAxisMargin+n,s=Math.abs(t)/(d.maxValue-d.minValue)*g,l={x:u,y:v,width:p,height:s,serie:l,value:t,pos:r},r=String.format("fill: {0}",a.serieColours[k]),s=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},y=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
w=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};h&&""!=h?c.a({},h?h:"").rectangle(l).style(r).event("onmouseover",s).event("onmouseout",y).event("onclick",w):c.rectangle(l).style(r).event("onmouseover",s).event("onmouseout",y).event("onclick",w);!0==a.valueOnItem.show&&c.text({x:u+p/2,y:v-a.height/100*a.valueOnItem.margin,value:t.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]))}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return q}()};wesCountry.charts.lineChart=function(a){return this.generateLineChart(a,!1)};wesCountry.charts.areaChart=function(a){return this.generateLineChart(a,!0)};
wesCountry.charts.generateLineChart=function(a,m){function q(a,b,d,p){return b.marginTop+b.innerHeight-b.xAxisMargin+d-a/(b.maxValue-b.minValue)*p}function d(a,b){var d=a.width(),p=a.height(),g=p*b.margins[0]/100,n=d*b.margins[1]/100,f=p*b.margins[2]/100,k=d*b.margins[3]/100,l=b.yAxis.margin*d/100,t=b.xAxis.margin*p/100,h=d-k-n,r=p-g-f,u=wesCountry.charts.getMaxAndMinValuesAxisY(b),v=u.max,s=u.min,q=u.valueLength;s==v&&(s=0<=s?0:s-2,v+=2);var m=(v-s)/u.inc,u=(h-l)/u.valueLength,x=b.groupMargin*u/
100,u=u-2*x,B=u/b.series.length,z=b.barMargin*B/100;return{width:d,height:p,marginTop:g,marginRight:n,marginBottom:f,marginLeft:k,innerWidth:h,innerHeight:r,yAxisMargin:l,xAxisMargin:t,maxValue:v,minValue:s,maxValueLength:q,ticksY:m,yTickHeight:0!=m?(r-t)/m:0,xTickWidth:u,valueInc:0!=m?(v-s)/m:0,barMargin:z,groupMargin:x,barWidth:B-2*z,legendItemSize:b.legend.itemSize*d/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=
wesCountry.charts.sortSeries(a.series));var c=wesCountry.charts.getSVG(a),b=d(c,a),e=c.g();wesCountry.charts.setBackground(e,b,a);wesCountry.charts.setAxisY(e,b,a);wesCountry.charts.setAxisX(e,b,a);for(var p=a.series.length,g=b.maxValueLength,n=b.innerHeight-b.xAxisMargin,f=b.minValue/(b.maxValue-b.minValue)*n,k=0;k<p;k++){var l="";if(m)var t=e.path();for(var h=Math.max(0,b.minValue),h=q(h,b,f,n),r="l"+wesCountry.charts.guid(),u=0;u<g;u++){var v=a.series[k].values[u],s=0<u?a.series[k].values[u-1]:
0,y=a.series[k].urls?a.series[k].urls[u]:"",w=a.series[k].name,x=a.xAxis.values[u];v||(v=0);s||(s=0);var B=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*u,z=q(v,b,f,n),E=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*(u-1),s=q(s,b,f,n),w={cx:B,cy:z,r:5,"class":r,serie:w,value:v,pos:x},x=String.format("fill: {0}",a.serieColours[k%a.serieColours.length]),C=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,h=0;h<d;h++)c[h].setAttribute("stroke-width",b)},G=function(){this.setAttribute("r",8);C(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},D=function(){this.setAttribute("r",5);C(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},A=function(){this.setAttribute("r",5);C(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};
y&&""!=y?e.a({},y?y:"").circle(w).style(x).event("onmouseover",G).event("onmouseout",D).event("onclick",A):e.circle(w).style(x).event("onmouseover",G).event("onmouseout",D).event("onclick",A);!0==a.valueOnItem.show&&e.text({x:B,y:z-a.height/100*a.valueOnItem.margin,value:0==v?"0":v.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));0<u?(e.line({x1:E,
x2:B,y1:s,y2:z,"stroke-width":1,"class":r}).style(String.format("stroke: {0}",a.serieColours[k%a.serieColours.length])).event("onmouseover",function(){C(this,2)}).event("onmouseout",function(){C(this,1)}),l+=String.format(" L{0} {1}",B,z)):l=String.format("M{0} {1} L{2} {3}",B,h,B,z)}l+=String.format(" L{0} {1} Z",B,h);m&&t.attribute(null,"d",l).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[k%a.serieColours.length]))}a.legend.show&&wesCountry.charts.showLegend(e,b,a);wesCountry.charts.createTooltip(a);
return c}()};
wesCountry.charts.pieChart=function(a){function m(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,g=b*d.margins[2]/100,n=c*d.margins[3]/100,f=d.yAxis.margin*c/100,k=d.xAxis.margin*b/100,l=c-n-p,t=b-e-g,h=wesCountry.charts.getMaxAndMinValuesAxisY(d),r=h.max,u=h.min,v=h.valueLength,s=(r-u)/h.inc,h=(l-f)/h.valueLength,m=d.groupMargin*h/100,h=h-2*m,w=h/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:g,marginLeft:n,innerWidth:l,
innerHeight:t,yAxisMargin:f,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:v,ticksY:s,yTickHeight:0!=s?(t-k)/s:0,xTickWidth:h,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:m,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var q=wesCountry.charts.getSVG(a),d=m(q,a),c=q.g();wesCountry.charts.setBackground(c,d,a);var b=d.maxValueLength;
if(1==b)var e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/2,p=d.innerWidth/2,g=d.innerHeight/2,n=0,f=1;else 2==b?(e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/4,p=d.marginLeft+e,g=d.innerHeight/2,n=d.innerWidth-2*e,f=2):(8<b&&(b=8),e=Math.min(d.innerWidth,d.innerHeight-2*d.xAxisMargin)/4,f=Math.ceil(b/2),p=d.marginLeft+e,g=d.marginTop+e,n=(d.innerWidth-2*f*e)/(f-1)+2*e);for(var k=0;k<b;k++){if(k<f)var l=p+n*k,t=g;else l=b-f,t=(d.innerWidth-2*l*e)/
(l<f?l+1:l-1),n=t+2*e,l=d.marginLeft+(l<f?t:0)+e+n*(k%f),t=d.marginTop+d.innerHeight-d.xAxisMargin-e;c.text({x:l,y:t+e+d.xAxisMargin/2,value:a.xAxis.values[k]?a.xAxis.values[k]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));for(var h=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),
this.getAttribute("value"))},r=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},u=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},v=0,s=0,y=a.series.length,w=0;w<y;w++){var x=Math.abs(a.series[w].values[k]);x||(x=0);0!=x&&s++;v+=x}for(var B=[],w=0;w<y;w++)(x=Math.abs(2*(a.series[w].values[k]/v)*Math.PI))||(x=0),B[w]=x;if(1==
s){for(var z="",s=x=v="",w=0;w<y;w++)if(0!=B[w]){z=a.serieColours[w];v=a.series[w].name;x=Math.abs(a.series[0].values[w]).toFixed(2);s=a.xAxis.values[k];break}c.circle({cx:l,cy:t,r:e,serie:v,value:x,pos:s}).event("onmouseover",h).event("onmouseout",r).event("onclick",u).style(String.format("fill: {0}",z))}else for(w=z=0;w<y;w++){var E=z+B[w],x=Math.abs(a.series[w].values[k]).toFixed(2),v=a.series[w].name,s=a.xAxis.values[k],C=l+e*Math.sin(z),G=t-e*Math.cos(z),D=l+e*Math.sin(E),A=t-e*Math.cos(E),H=
z+(E-z)/2,F=e+e/100*a.valueOnItem.margin,J=l+F*Math.sin(H),H=t-F*Math.cos(H),F=0;E-z>Math.PI&&(F=1);c.path({d:"M "+l+","+t+" L "+C+","+G+" A "+e+","+e+" 0 "+F+" 1 "+D+","+A+" Z",serie:v,value:x,pos:s}).event("onmouseover",h).event("onmouseout",r).event("onclick",u).style(String.format("fill: {0}",a.serieColours[w]));!0==a.valueOnItem.show&&c.text({x:J,y:H,value:x}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],
a.valueOnItem["font-family"],a.valueOnItem["font-size"]));z=E}}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return q}()};
wesCountry.charts.polarChart=function(a){function m(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,g=b*d.margins[2]/100,n=c*d.margins[3]/100,f=d.yAxis.margin*c/100,k=d.xAxis.margin*b/100,l=c-n-p,t=b-e-g,h=wesCountry.charts.getMaxAndMinValuesAxisY(d),r=h.max,u=0<h.min?0:h.min,v=h.valueLength,s=(r-u)/h.inc,h=(l-f)/h.valueLength,m=d.groupMargin*h/100,h=h-2*m,w=h/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:g,marginLeft:n,
innerWidth:l,innerHeight:t,yAxisMargin:f,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:v,ticksY:s,yTickHeight:0!=s?(t-k)/s:0,xTickWidth:h,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:m,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var q=wesCountry.charts.getSVG(a),d=m(q,a),c=q.g();wesCountry.charts.setBackground(c,d,a);for(var b=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-
2*d.xAxisMargin)/2,e=d.maxValueLength,p=d.width/2,g=d.height/2,n=[],f=0;f<e;f++)n.push({x:p+b*Math.cos(2*Math.PI*f/e-Math.PI/2),y:g+b*Math.sin(2*Math.PI*f/e-Math.PI/2)});for(f=0;f<e;f++){var k=n[f];c.line({x1:p,y1:g,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}for(f=0;f<e;f++){var k=p+(b+d.xAxisMargin/2)*Math.cos(2*Math.PI*f/e-Math.PI/2),l=g+(b+d.xAxisMargin/2)*Math.sin(2*Math.PI*f/e-Math.PI/2),t=a.xAxis.values[f]?a.xAxis.values[f]:"";c.text({x:k,y:l,value:t}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}for(var h=d.maxValue,r=d.minValue,h=5*Math.ceil(h/5),r=5*Math.floor(r/5),u=b/5,t=(h-r)/5,f=0;5>=f;f++){n=[];k=u*f;c.text({x:p-d.xAxisMargin/2,y:g-k,value:r+f*t}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));for(var v=0;v<e;v++)n.push({x:p+k*Math.cos(2*Math.PI*v/e-Math.PI/2),y:g+k*Math.sin(2*Math.PI*v/e-
Math.PI/2)});for(v=0;v<e;v++){var k=n[v],s=0==v?n[e-1]:n[v-1];c.line({x1:s.x,y1:s.y,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}}s=Math.abs(r/(h-r))*b;u=a.series.length;n=[];for(f=0;f<u;f++)for(n[f]=[],v=0;v<e;v++)(t=a.series[f].values[v])||(t=0),t=0>t?s-Math.abs(t/r)*s:t/h*(b-s)+s,k=p+t*Math.cos(2*Math.PI*v/e-Math.PI/2),l=g+t*Math.sin(2*Math.PI*v/e-Math.PI/2),n[f].push({x:k,y:l});for(var y=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,h=0;h<d;h++)c[h].setAttribute("stroke-width",b)},b=function(){this.setAttribute("r",8);y(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},p=function(){this.setAttribute("r",5);y(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},g=function(){this.setAttribute("r",5);y(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
f=0;f<u;f++)for(h="l"+wesCountry.charts.guid(),v=0;v<e;v++)k=n[f][v],s=0==v?n[f][e-1]:n[f][v-1],t=a.series[f].values[v],c.circle({cx:k.x,cy:k.y,r:5,serie:a.series[f].name,value:t,pos:a.xAxis.values[v],"class":h}).style(String.format("fill: {0}",a.serieColours[f%a.serieColours.length])).event("onmouseover",b).event("onmouseout",p).event("onclick",g),c.line({x1:s.x,y1:s.y,x2:k.x,y2:k.y,"class":h}).style(String.format("stroke: {0};",a.serieColours[f%a.serieColours.length]));a.legend.show&&wesCountry.charts.showLegend(c,
d,a);wesCountry.charts.createTooltip(a);return q}()};
wesCountry.charts.scatterPlot=function(a){function m(a,c){var b=a.width(),e=a.height(),p=e*c.margins[0]/100,g=b*c.margins[1]/100,n=e*c.margins[2]/100,f=b*c.margins[3]/100,k=c.yAxis.margin*b/100,l=c.xAxis.margin*e/100,t=b-f-g,h=e-p-n,r=wesCountry.charts.getMaxAndMinValuesAxisY(c),u=r.max,v=r.min,s=r.valueLength,m=(u-v)/r.inc,r=(t-k)/r.valueLength,q=c.groupMargin*r/100,r=r-2*q,x=r/c.series.length,B=c.barMargin*x/100;return{width:b,height:e,marginTop:p,marginRight:g,marginBottom:n,marginLeft:f,innerWidth:t,
innerHeight:h,yAxisMargin:k,xAxisMargin:l,maxValue:u,minValue:v,maxValueLength:s,ticksY:m,yTickHeight:0!=m?(h-l)/m:0,xTickWidth:r,valueInc:0!=m?(u-v)/m:0,barMargin:B,groupMargin:q,barWidth:x-2*B,legendItemSize:c.legend.itemSize*b/100}}function q(a,c,b){var e=c.marginTop+c.innerHeight-c.xAxisMargin+c.minValue/(0!=c.maxValue-c.minValue?c.maxValue-c.minValue:1)*(c.innerHeight-c.xAxisMargin);a.line({x1:c.marginLeft+c.yAxisMargin,x2:c.marginLeft+c.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",
b.xAxis.colour));for(var e=0,p=Number.MAX_VALUE,g=b.series.length,n=null,f=null,k=0;k<g;k++)for(var n=b.series[k].values.length,l=0;l<n;l++)f=b.series[k].values[l][0]?b.series[k].values[l][0]:0,f>e&&(e=f),f<p&&(p=f);for(var e=wesCountry.charts.getNearestNumber(p,e),e={max:e.max,min:e.min,inc:e.inc},p=e.max,g=e.min,n=e.valueLength,f=(p-g)/e.inc,k=(c.innerWidth-c.yAxisMargin)/f,l=e.inc,t=f+1,h=0;h<t;h++){var r=c.marginLeft+c.yAxisMargin+k*h;a.line({x1:r,x2:r,y1:c.marginTop,y2:c.innerHeight+c.marginTop-
c.xAxisMargin}).style(String.format("stroke: {0}",b.xAxis.tickColour));a.text({x:r,y:c.marginTop+c.innerHeight-c.xAxisMargin/2,value:g+l*h}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]))}a.text({x:c.marginLeft+c.yAxisMargin+(c.innerWidth-c.yAxisMargin)/2,y:c.marginTop+c.innerHeight+c.xAxisMargin/2,value:b.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]));return{maxAndMinValues:e,maxValue:p,minValue:g,maxValueLength:n,ticksX:f,xTickWidth:k,incX:l}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var d=wesCountry.charts.getSVG(a),c=m(d,a),b=d.g();wesCountry.charts.setBackground(b,c,a);wesCountry.charts.setAxisY(b,c,a);var e=q(b,c,a),p=a.series.length,g=c.innerHeight-c.xAxisMargin,n=c.innerWidth-c.yAxisMargin,f=0;0>=c.minValue&&
0!=c.maxValue-c.minValue&&(f=c.minValue/(c.maxValue-c.minValue)*g);var k=0;0>=e.minValue&&(k=e.xTickWidth*Math.abs(e.minValue));for(var l=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},t=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},h=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},r=0;r<p;r++)for(var u=a.series[r].values,v=u.length,s=0;s<v;s++){var y=u[s][0]?u[s][0]:0,w=0,x=a.series[r].values[s],B=a.series[r].name,z=y;0<s&&(w=u[s-1][0]?u[s-1][0]:0);y||(y=0);w||(w=0);var w=u[s][1]?u[s][1]:0,E=0;0<s&&(E=u[s-1][1]?u[s-1][1]:0);w||(w=0);E||(E=0);b.circle({cx:c.marginLeft+c.yAxisMargin+k+(0==e.maxValue-e.minValue?0:(y-e.minValue)/(e.maxValue-e.minValue))*n,cy:c.marginTop+c.innerHeight-c.xAxisMargin+f-(0==c.maxValue-c.minValue?
1:(w-c.minValue)/(c.maxValue-c.minValue))*g,r:5,serie:B,value:x,pos:z}).style(String.format("fill: {0}",a.serieColours[r%a.serieColours.length])).event("onmouseover",l).event("onmouseout",t).event("onclick",h)}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return d}()};NodeList.prototype.indexOf=function(a){for(var m=0;m<this.length;m++)if(this[m]==a)return m;return-1};
wesCountry.charts.chart=function(a){var m;m="string"!==typeof a.container?a.container:void 0;a.container="string"===typeof a.container?a.container:wesCountry.charts.defaultOptions.container;a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var q;switch(a.chartType.toLowerCase()){case "bar":q=this.barChart(a);break;case "line":q=this.lineChart(a);break;case "pie":q=this.pieChart(a);break;case "area":q=this.areaChart(a)}void 0===m&&(m=document.querySelector(a.container));
m.appendChild(q.render());return m.parentNode};var optionsSave=[],pushIndex=optionsSave.length;wesCountry.charts.multiChartRemoveData=function(a,m){optionsSave.splice(a,m)};wesCountry.charts.setPushIndex=function(a){pushIndex="length"===a?optionsSave.length:a};
wesCountry.charts.multiChart=function(a,m,q){function d(a){var b=k.querySelector(".active").innerHTML.toLowerCase();options.chartType=b;options.container=void 0===a?".chartDiv":a;return wesCountry.charts.chart(options)}function c(a){a.querySelector(".chartDiv").innerHTML="";d(a.querySelector(".chartDiv"))}function b(){for(var a=this.innerHTML,b=this.parentNode.parentNode,d=b.querySelector(".active"),b=b.querySelectorAll(".inactive"),g=b.length,f=0;f<g;f++)b[f].className=a===b[f].innerHTML?"active":
"inactive";a!==d.innerHTML&&(d.className="inactive");a=this.parentNode.parentNode.parentNode.parentNode;d=p(this.parentNode.parentNode);options.series=d.series;options.xAxis.values=d.xAxisValues;c(a)}function e(){for(var a=p(this),b=this.parentNode.querySelectorAll("input"),d=a.series.length,f=0;f<d;f++)b[f].checked||delete a.series[f];b=[];for(f=0;f<d;f++)void 0!==a.series[f]&&b.push(a.series[f]);options.series=b;options.xAxis.values=a.xAxisValues;c(this.parentNode.parentNode)}function p(a){a=g(a);
return{series:wesCountry.charts.clone(optionsSave[a].series),xAxisValues:wesCountry.charts.clone(optionsSave[a].xAxis.values)}}function g(a){a=a.parentNode;return document.querySelectorAll("."+a.className).indexOf(a)}var n=a.container;a.container="body";options=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);options.container=n;a.container=n;m||void 0===m?(a=wesCountry.charts.clone(options),a.xAxis=wesCountry.charts.clone(options.xAxis),optionsSave.splice(pushIndex,
0,a),wesCountry.charts.setPushIndex("length")):(a=g(q),optionsSave[a].series=wesCountry.charts.clone(options.series),options.xAxis=wesCountry.charts.clone(options.xAxis));var f=options.chartType,f=f instanceof Array?f:[f],k=document.createElement("div");"string"===typeof options.container?document.querySelector(options.container).appendChild(k):options.container.appendChild(k);(function(){var a=document.createElement("div");a.className="chartSelector";for(var c=document.createElement("ul"),d=0;d<
f.length;d++){var g=document.createElement("li"),e=document.createElement("a");e.className="inactive";e.onclick=b;e.innerHTML=f[d].toFirstUpperCase();g.appendChild(e);c.appendChild(g)}a.appendChild(c);a.querySelector("li a").className="active";k.appendChild(a)})();(function(){var a=document.createElement("div");a.className="seriesSelector";for(var b=0;b<options.series.length;b++){var c=document.createElement("input"),d=document.createElement("label");c.id=options.series[b].name+"Checkbox"+wesCountry.charts.guid();
c.type="checkbox";c.className="checks";c.onchange=e;c.checked=!0;d.for=c.id;d.innerHTML=options.series[b].name;a.appendChild(c);a.appendChild(d)}k.appendChild(a)})();return function(){var a=document.createElement("div");a.className="chartDiv";k.appendChild(a);return d(a)}()};Element.prototype.insertAfter=function(a){this.parentNode.insertBefore(a,this.nextSibling)};Array.prototype.pushIfNotExist=function(a){0>this.indexOf(a)&&this.push(a)};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.data=new function(){var a,m,q,d,c,b;function e(a){this.parseByIndicator=function(){var a=c(b,"indicatorCode","countryName","value","year");g.indicator=a[0];return a[1]};this.parseByTime=function(){var a=c(void 0,"year","countryName","value","indicatorCode");g.time=a[0];return a[1]};this.parseByRegion=function(){var a=c(b,"countryName","indicatorCode","value","year");g.region=a[0];return a[1]};this.parseByIndicatorAndTime=function(){var a=c(b,"indicatorCode","year","value","countryName");
g.indicatorAndTime=a[0];return a[1]};this.parseByIndicatorAndRegion=function(){var a=c(b,"indicatorCode","countryName","value","year");g.indicatorAndRegion=a[0];return a[1]};this.parseByTimeAndRegion=function(){var a=c(b,"year","countryName","value","indicatorCode");g.timeAndRegion=a[0];return a[1]};var b=function(a,b){return a.year-b.year},c=function(b,c,d,f,g){function e(a){return a[c]===v}function n(a){0>k.indexOf(a)&&k.push(a)}function p(b,c){for(var d=0;d<a.length;d++)c.pushIfNotExist(a[d][b])}
var k=[],l=new HashTable;p("year",t);p("countryName",r);p("indicatorCode",h);for(var m=0;m<a.length;m++){var v=a[m][c];if(!l.hasItem(v)){for(var q=a.filter(e),q=q.sort(b),s=new HashTable,I=0;I<q.length;I++){if(s.hasItem(q[I][d])){var K=s.getItem(q[I][d]);K.push(parseFloat(q[I][f]))}else K=[parseFloat(q[I][f])];s.setItem(q[I][d],K);n(q[I][g])}l.setItem(a[m][c],s)}}return[l,k]}}function p(g){function e(){var a,b,c,d,g;this.createSelect=function(b,c){a=document.createElement("select");b.appendChild(a);
a.onchange=this.onIndicatorChanged;for(var d=0;d<c.length;d++){var g=document.createElement("option");g.innerHTML=c[d];a.appendChild(g)}};this.drawSelectedIndicator=function(a,e,h,n,p,k,l){b=h;c=n;d=p;g=k;f(a,l)};var f=function(f,e){n.series=b[f];if(1===a.options.length){var h=document.createElement("p");h.innerHTML=g[0];a.parentNode.insertBefore(h,a);a.remove()}h=wesCountry.charts.multiChart(n,e,a);h.insertBefore(c,h.childNodes[0]);d.appendChild(h)};this.onIndicatorChanged=function(){var b=this.parentNode.parentNode;
f(a.selectedIndex,!1);b.remove()};this.putSeriesByIndicator=function(a,b,c,d,g,f,e){a:{for(var h=0;h<e.length;h++)if(e[h]===f){e=h;break a}e=void 0}for(h=0;h<d.length;h++)void 0!==f?b.push({name:d[h],values:[a.getItem(c[g]).getItem(d[h])[e]]}):b.push({name:d[h],values:a.getItem(c[g]).getItem(d[h])})};this.by=(new x).by}function p(){var a,b,c,d,g,f,e;this.createSelect=function(c,d,g){a=document.createElement("select");b=document.createElement("select");c.appendChild(a);c.appendChild(b);a.onchange=
this.onIndicatorChanged;b.onchange=this.onIndicatorChanged;for(c=0;c<d.length;c++){var f=document.createElement("option");f.innerHTML=d[c];a.appendChild(f)}for(c=0;c<g.length;c++)f=document.createElement("option"),f.innerHTML=g[c],b.appendChild(f)};this.drawSelectedIndicator=function(n,p,k,l,r,u,m,q){c=k;d=l;g=r;f=u;e=m;1===a.options.length&&(k=document.createElement("p"),k.innerHTML=f[0],a.parentNode.insertBefore(k,a),a.style.display="none");1===b.options.length&&(k=document.createElement("p"),k.innerHTML=
e[0],b.parentNode.insertBefore(k,b),b.style.display="none");h(n,p,q)};var h=function(b,f,e){n.series=c[b][f];b=wesCountry.charts.multiChart(n,e,a);b.insertBefore(d,b.childNodes[0]);g.appendChild(b)};this.onIndicatorChanged=function(){var c=this.parentNode.parentNode;h(a.selectedIndex,b.selectedIndex,!1);c.remove()};this.putSeriesByIndicator=function(a,b,c,d,g,f,e){a:{for(var h=0;h<e.length;h++)if(e[h]===f){e=h;break a}e=void 0}for(h=0;h<d.length;h++)void 0!==f?(b[h]=[],b[h].push({name:d[h],values:[a.getItem(c[g]).getItem(d[h])[e]]})):
(b[h]=[],b[h].push({name:d[h],values:a.getItem(c[g]).getItem(d[h])}))};this.by=(new x).by}function y(a,b){var c,d,g;this.createSelect=function(){};this.drawSelectedIndicator=function(a,b,f,h,e,p,k,l){c=f;d=h;g=e;n.series=c[a][b];a=wesCountry.charts.multiChart(n,l,void 0);a.insertBefore(d,a.childNodes[0]);g.appendChild(a)};this.putSeriesByIndicator=function(c,d,g,f,h,e,n){for(var p=function(){for(var a=0;a<n.length;a++)if(n[a]===e)return a}(),k=0;k<f.length;k++)void 0!==e?(d[k]=[],d[k].push({name:f[k],
values:[c.getItem(g[h]).getItem(f[k])[p]]})):(d[k]=[],d[k].push({name:f[k],values:c.getItem(g[h]).getItem(f[k])}));var l;"max"===b?l=function(a,b){return a<b}:"min"===b&&(l=function(a,b){return a>b});c=d[0][0].values;for(h=0;h<c.length;h++)for(d=c.length;d>h;d--)l(c[h],c[d])&&(g=c[h],c[h]=c[d],c[d]=g,g=n[h],n[h]=n[d],n[d]=g);c=c.slice(0,a)};this.by=(new x).by}function w(){var a;this.createSelect=function(){};this.drawSelectedIndicator=function(c,d,g,f,h,e,n,k){a=g;b(c,d,k)};var b=function(b,c,d){b=
a[0][0][0].values;var g={};g.sum=b.reduce(function(a,b){return a+b});g.average=g.sum/b.length;g.max=b.reduce(function(a,b){return a>b?a:b});g.min=b.reduce(function(a,b){return a<b?a:b});b.sort();g.median=0==b.length%2?(b[b.length/2]+b[b.length/2-1])/2:b[(b.length-1)/2];(function(){var a=document.createElement("table"),b=document.createElement("thead");a.appendChild(b);var c=document.createElement("tr");b.appendChild(c);for(var d=["Statistical aggregate","Value"],f=0;f<d.length;f++)b=document.createElement("td"),
b.innerHTML=d[f],c.appendChild(b);d=document.createElement("tbody");a.appendChild(d);for(var h in g)c=document.createElement("tr"),d.appendChild(c),b=document.createElement("td"),b.innerHTML=h,c.appendChild(b),b=document.createElement("td"),b.innerHTML=g[h],c.appendChild(b);("string"===typeof n.container?document.querySelector(n.container):n.container).appendChild(a)})()};this.putSeriesByIndicator=function(a,b,c,d,g,f,h){a:{for(var e=0;e<h.length;e++)if(h[e]===f){h=e;break a}h=void 0}for(e=0;e<d.length;e++)void 0!==
f?(b[e]=[],b[e].push({name:d[e],values:[a.getItem(c[g]).getItem(d[e])[h]]})):(b[e]=[],b[e].push({name:d[e],values:a.getItem(c[g]).getItem(d[e])}))};this.by=(new x).by}function x(){this.by=function(a,b,c,d,g,h){function e(a){return a===d}function p(a){return a===g}if(null!==a){var l=document.createElement("div");l.className="indicatorSelector";for(var r=void 0!==d?a.keys().array.filter(e):a.keys().array,u=0;u<r.length;u++){var m=void 0!==g?a.getItem(r[u]).keys().array.filter(p):a.getItem(r[u]).keys().array,
q=[];this.putSeriesByIndicator(a,q,r,m,u,h,b);c.push(q)}this.createSelect(l,r,m);a=document.createElement("div");null===f?("string"===typeof n.container?document.querySelector(n.container):n.container).appendChild(a):"above"===f.toLowerCase()?k.insertAfter(a):"below"===f.toLowerCase()&&k.parentNode.insertBefore(a,k);n.xAxis.values=b;this.drawSelectedIndicator(0,0,c,l,a,r,m)}}}this.selectBy=function(a,b){function c(){for(var f=document.querySelectorAll(".chartDiv"),e=g.querySelectorAll(".chartDiv"),
h=document.querySelectorAll(".chartDiv"),k=[],p=0;p<h.length;p++)k.pushIfNotExist(h[p].parentNode.parentNode.parentNode);h={};h[a]=d.options[d.selectedIndex].innerHTML;if(0>=g.querySelectorAll(".chartDiv").length)for(var l=0;l<b.length;l++)this[b[l]+"Filtered"](h);else{p=e[0];k=f.indexOf(p);wesCountry.charts.multiChartRemoveData(k,e.length);k=e.length;n.container=p.parentNode.parentNode.parentNode;p=[];for(l=0;l<k;l++)p.push(f.indexOf(e[l])),e[l].parentNode.parentNode.remove();for(f=0;f<k;f++)wesCountry.charts.setPushIndex(p[f]),
this[b[f]+"Filtered"](h),wesCountry.charts.setPushIndex("length")}}var d=document.createElement("select"),g="string"===typeof n.container?document.querySelector(n.container):n.container;g.appendChild(d);var f;switch(a){case "indicator":f=h;break;case "time":f=t;break;case "region":f=r}for(var e=0;e<f.length;e++){var k=document.createElement("option");k.innerHTML=f[e];d.appendChild(k)}c.bind(this)();d.onchange=c.bind(this)};this.byIndicator=function(b){var c=g.indicator;a=[];(new e).by(c,l.indicator,
a,b)};this.byIndicatorFiltered=function(b){var c=g.indicator;a=[];(new e).by(c,l.indicator,a,b.indicator,b.region,b.time)};this.byTime=function(a){var b=g.time;m=[];(new e).by(b,l.time,m,a)};this.byTimeFiltered=function(a){var b=g.time;m=[];(new e).by(b,l.time,m,a.time,a.region,a.indicator)};this.byRegion=function(a){var b=g.region;q=[];(new e).by(b,l.region,q,a)};this.byRegionFiltered=function(a){var b=g.region;q=[];(new e).by(b,l.region,q,a.region,a.indicator,a.time)};this.byIndicatorAndTime=function(a,
b){var c=g.indicatorAndTime;d=[];(new p).by(c,l.indicatorAndTime,d,a,b)};this.byIndicatorAndTimeFiltered=function(a){var b=g.indicatorAndTime;d=[];(new p).by(b,l.indicatorAndTime,d,a.indicator,a.time,a.region)};this.byIndicatorAndRegion=function(a,b){var d=g.indicatorAndRegion;c=[];(new p).by(d,l.indicatorAndRegion,c,a,b)};this.byIndicatorAndRegionFiltered=function(a){var b=g.indicatorAndRegion;c=[];(new p).by(b,l.indicatorAndRegion,c,a.indicator,a.region,a.time)};this.byTimeAndRegion=function(a,
c){var d=g.timeAndRegion;b=[];(new p).by(d,l.timeAndRegion,b,a,c)};this.byTimeAndRegionFiltered=function(a){var c=g.timeAndRegion;b=[];(new p).by(c,l.timeAndRegion,b,a.time,a.region,a.indicator)};this.max=function(a,b,c){var f=g.indicatorAndTime;d=[];(new y(a,"max")).by(f,l.indicatorAndTime,d,b,c)};this.min=function(a,b,c){var f=g.indicatorAndTime;d=[];(new y(a,"min")).by(f,l.indicatorAndTime,d,b,c)};this.statisticalAggregates=function(a,b){var d=g.indicatorAndRegion;c=[];(new w).by(d,l.indicatorAndRegion,
c,a,b)}}var g={},n={},f=null,k,l={};b=c=d=q=m=a=void 0;var t=[],h=[],r=[];this.parseJSON=function(a){n=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a=n.data;l.time=(new e(a)).parseByTime();l.indicator=(new e(a)).parseByIndicator();l.region=(new e(a)).parseByRegion();l.indicatorAndTime=(new e(a)).parseByIndicatorAndTime();l.indicatorAndRegion=(new e(a)).parseByIndicatorAndRegion();l.timeAndRegion=(new e(a)).parseByTimeAndRegion();return this};this.parseTable=
function(a,b,c){for(var d=document.querySelectorAll(".graphs"),g=0;g<d.length;g++){k=d[g];for(var h=d[g].querySelectorAll("th"),e=d[g].querySelectorAll("tr"),p=[],n=1;n<e.length;n++){for(var l={},r=e[n].querySelectorAll("td"),m=0;m<r.length;m++)l[h[m].className]=r[m].innerHTML;p.push(l)}a.data=p;void 0===a.container&&(f=a.tablePosition);this.parseJSON(a).iterate()[b](c)}};this.iterate=function(){return new p(g)}};"undefined"===typeof wesCountry&&(wesCountry={});wesCountry.table={};
wesCountry.table.pages=new function(){function a(a){for(var b=a.querySelectorAll("tr.empty"),c=b.length,f=0;f<c;f++)b[f].parentNode.removeChild(b[f]);a.numberOfPages=Math.ceil(a.numberOfRows/a.rowsPerPage);var b=a.numberOfPages*a.rowsPerPage,c=0<a.numberOfColumns?a.numberOfColumns:1,e=a.tBodies;if(1<a.numberOfPages&&b>a.numberOfRows&&0<e.length)for(var l=a.numberOfRows;b>l;){var t=document.createElement("tr");t.className="empty";for(f=0;f<c;f++){var h=document.createElement("td");h.innerHTML="&nbsp";
t.appendChild(h)}e[0].appendChild(t);l++}a.selectedPage=1;q(a);a.changePage=m;a.reloadPage=function(){q(this)};d(a)}function m(a){a>this.numberOfPages||1>a||(this.firstShownRow=(a-1)*this.rowsPerPage,this.selectedPage=a,q(this))}function q(a){for(var b=a.firstShownRow,c=a.tBodies,d=0,e=0,l=b+1*a.rowsPerPage-1,m=c.length,h=0,r=0;r<m;r++)for(var q=c[r].rows,v=q.length,s=0;s<v;s++){var y=q[s];y.style.display=!0==(d>=b&&d<=l)?"table-row":"none";y.cells.length>h&&(h=y.cells.length);"empty"!=y.className&&
e++;d++}b=a.selectedPage;c=a.numberOfPages;if(d=a.querySelector("tFoot a.first"))d.className=1<b?"not-number first":"not-number first disabled",d.index=1<b?1:-1;if(d=a.querySelector("tFoot a.previous"))d.className=1<b?"not-number previous":"not-number previous disabled",d.index=1<b?b-1:-1;if(d=a.querySelector("tFoot a.next"))d.className=b<c?"not-number next":"not-number next disabled",d.index=b<c?b+1:-1;if(d=a.querySelector("tFoot a.last"))d.className=b<c?"not-number last":"not-number last disabled",
d.index=b<c?c:-1;c=a.querySelectorAll("tFoot a.number");d=c.length;l=Math.min(a.numberFooterAnchors,d);l=Math.floor(l/2);m=b>l?l:b-1;l=b-m;m=b+(a.numberFooterAnchors-1-m);m>d&&(l-=m-d,m=d);for(r=1;r<=d;r++)c[r-1].className=(r==b?"number selected ":"number ")+(r>=l&&r<=m?"shown":"hidden");b=(b-1)*a.rowsPerPage+1;c=b+a.rowsPerPage-1>a.numberOfRows?a.numberOfRows:b+a.rowsPerPage-1;if(d=a.querySelector("tFoot span.details"))d.innerHTML=b+" - "+c+" of "+a.numberOfRows+" items.";a.numberOfRows=e;a.numberOfColumns=
h}function d(a){var b=a.querySelector("tFoot.pagination");b||(b=document.createElement("tFoot"),b.className="pagination",a.appendChild(b),a.navFooter=b);b.innerHTML="";var c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);b.colSpan=a.numberOfColumns;c=document.createElement("span");c.className="details";b.appendChild(c);c.innerHTML=(0<a.numberOfRows?1:0)+" - "+(a.numberOfRows>a.rowsPerPage?a.rowsPerPage:a.numberOfRows)+" of "+a.numberOfRows+" items.";
c=e(a,"<<","not-number first disabled",-1);b.appendChild(c);c=e(a,"<","not-number previous disabled",-1);b.appendChild(c);for(var d=a.numberOfPages,k=1;k<=d;k++)c=e(a,k,(1==k?"number selected ":"number ")+(k>a.numberFooterAnchors?"hidden":"shown"),k),b.appendChild(c);c=e(a,">",1<d?"not-number next":"not-number next disabled",1<d?2:-1);b.appendChild(c);c=e(a,">>",1<d?"not-number last":"not-number last disabled",1<d?d:-1);b.appendChild(c)}function c(c){var d=c.tHead,e=c.numberOfRows,f=0==e?1:Math.floor(Math.log(e)/
Math.LN10)+1;if(d&&1<f){var k=document.createElement("tr");k.className="select";d.insertBefore(k,d.firstChild);d=document.createElement("th");d.colSpan=c.numberOfColumns;k.appendChild(d);var l=document.createElement("span");l.className="show";d.appendChild(l);l.appendChild(document.createTextNode("Show "));k=document.createElement("select");d.appendChild(k);k.table=c;l=document.createElement("span");l.className="entries";d.appendChild(l);l.appendChild(document.createTextNode(" entries"));f=Math.pow(10,
f-1);for(d=1;4>=d;d++){l=f*d;if(l>e)break;b(k,l,l)}b(k,"all",e);k.onchange=function(){this.table.rowsPerPage=this.options[this.selectedIndex].value;a(this.table);c.changePage(1)}}}function b(a,b,c){var d=document.createElement("option");d.text=b;d.value=c;a.appendChild(d)}function e(a,b,c,d){var e=document.createElement("a");e.className=c;e.table=a;e.index=d;e.onclick=function(){this.table.changePage(this.index)};a=document.createTextNode(b);e.appendChild(a);return e}(function(){for(var b=document.querySelectorAll("table.pages"),
d=b.length,e=0;e<d;e++){var f=b[e];f.isPaged=!0;f.firstShownRow=0;f.numberFooterAnchors=5;for(var k=f.tBodies,d=k.length,l=0,m=0;m<d;m++)l+=k[m].rows.length;f.numberOfRows=l;k=0==f.numberOfRows?1:Math.floor(Math.log(f.numberOfRows)/Math.LN10)+1;f.rowsPerPage=Math.pow(10,k-1);a(f);c(f)}})()};
wesCountry.table.sort=new function(){function a(a){for(var c=a.tHead.rows,b=c.length,e=0;e<b;e++)if("select"!=c[e].className){c[e].className="sorter";for(var q=c[e].cells.length,g=0;g<q;g++){c[e].cells[g].table=a;c[e].cells[g].index=g;c[e].cells[g].sort="empty";var n=new Image;n.className="empty";c[e].cells[g].appendChild(n);c[e].cells[g].onclick=function(){m(this.table,this.index,this)}}}}function m(a,c,b){for(var e=[],m=a.tBodies.length,g=0;g<m;g++)for(var n=a.tBodies[g],f=0;f<n.rows.length;f++)e.push(n.rows[f]);
b.sort="empty"==b.sort||"down"==b.sort?"up":"down";e.sort(function(a,d){if("empty"==a.className||"empty"==d.className)return 1;a=a.cells[c].innerHTML.toString();d=d.cells[c].innerHTML.toString();return a<d?"up"==b.sort?-1:1:a>d?"up"==b.sort?1:-1:0});b.querySelector("img").className=b.sort;n=a.querySelectorAll("tHead tr.sorter th");m=n.length;for(g=0;g<m;g++)g!=c&&q(n[g]);m=a.tHead;for(g=a.tFoot;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(m);g&&a.appendChild(g);n=document.createElement("tbody");
a.appendChild(n);m=e.length;for(g=0;g<m;g++)n.appendChild(e[g]);a.changePage&&a.changePage(1)}function q(a){var c=a.querySelectorAll("img");c&&c.length&&0<c.length&&(c[0].className="empty");a.sort="empty"}(function(){for(var d=document.querySelectorAll("table.sortable"),c=d.length,b=0;b<c;b++)a(d[b])})()};
function SortedArray(){var a=0;this.array=[];for(var m=arguments.length;a<m;)this.insert(arguments[a++]);this.length=0;this.insert=function(a){var d=this.array,c=d.length;d.push(a);for(this.length=this.array.length;c;){a=c;var b=--c;if(d[a]<d[b]){var e=d[a];d[a]=d[b];d[b]=e}}return this};this.get=function(a){return this.array[a]};this.getArray=function(){return this.array};this.uniqueInsert=function(a){-1==this.search(a)&&this.insert(a)};this.search=function(a){for(var d=0,c=this.array,b=c.length;b>
d;){var e=(b+d)/2>>>0,m=c[e];if(m<a)d=e+1;else if(m>a)b=e;else return e}return-1};this.remove=function(a){a=this.search(a);0<=a&&this.array.splice(a,1);this.length=this.array.length;return this}}"undefined"===typeof exports&&(exports={});
var Selector=exports.Selector=function(a,m){function q(a,b,e,f,g){var l=document.createElement("ul");l.className=m["ul-class"];a.sort(function(a,b){return a.label<b.label?-1:a.label>b.label?1:0});for(var n=a.length,p=null,t=!1,z=[],E=0;E<n;E++){var C=a[E],G=C.children&&C.children.length?C.children.length:0,D=document.createElement("li");l.appendChild(D);D.code=C.code;D.liParent=b;D.data=C;D.isSelected=!1;var A=document.createElement("a");A.href="javascript: void(0)";A.value=C.label;-1!=m.selectedItems.indexOf(D.code)&&
(t=!0,z.push(A));null==g&&k.push(A);A.previousSiblingLink=f;A.nextSiblingLink=null;A.parentLink=g;f&&(f.nextSiblingLink=A);0==E&&(p=A);A.className="circleAndText";D.appendChild(A);A.liParent=D;A.onclick=function(a){c(this.liParent,m.callback);a&&a.stopPropagation()};var H=document.createElement("div");H.className=0<G?"plusOrMinus":"hidden-plusOrMinus";H.innerHTML="+";A.appendChild(H);0<G&&(H.onclick=function(a){d(this);a.stopPropagation()});A.plusOrMinus=H;A.onkeydown=function(a){if(13==a.keyCode)return c(this.liParent,
m.callback),a.stopPropagation(),!1;if(38==a.keyCode)return this.previousSiblingLink&&this.previousSiblingLink.focus(),a.stopPropagation(),!1;if(40==a.keyCode)return this.plusOrMinus.opened&&this.firstChildLink?this.firstChildLink.focus():this.nextSiblingLink?this.nextSiblingLink.focus():this.parentLink.nextSiblingLink&&this.parentLink.nextSiblingLink.focus(),a.stopPropagation(),!1;if(37==a.keyCode||39==a.keyCode)return a.stopPropagation(),d(this.plusOrMinus),a.keyCode=9,a.keyCode};var F=document.createElement("div");
F.className="circle";A.appendChild(F);f=document.createElement("div");f.className="title";A.appendChild(f);var J=document.createTextNode(C.label);f.appendChild(J);f=A;0<G&&(G=document.createElement("span"),G.className="empty-counter",F.appendChild(G),J=document.createTextNode("0"),G.appendChild(J),D.counter={div:G,value:0},F=q(C.children,D,e+1,f,A),D.appendChild(F.ul),A.firstChildLink=F.firstChildLink,H.childrenUl=F.ul,!0==F.selected&&(t=!0,H.innerHTML="-"),z=z.concat(F.selectedItems));D.childNumber=
C.children?C.children.length:0}1<e&&!1==t&&(l.style.display="none");return{ul:l,firstChildLink:p,selected:t,selectedItems:z}}function d(a){"+"==a.innerHTML?(a.innerHTML="&#8212;",a.childrenUl&&(a.childrenUl.style.display="block"),a.opened=!0):(a.innerHTML="+",a.childrenUl&&(a.childrenUl.style.display="none"),a.opened=!1)}function c(a,c){var d=!a.isSelected;d&&0<m.maxSelectedItems&&l.length>=m.maxSelectedItems||b(a,c,d)}function b(a,b,c){e(a,c);if(a.liParent){var d=a.liParent.counter.value,d=c?d+1:
d-1;p(a.liParent,d);c?d==a.liParent.childNumber&&(a.liParent.className="selected",a.liParent.isSelected=!0,g(a.liParent.code,!0)):(a.liParent.className="not-selected",a.liParent.isSelected=!1,g(a.liParent.code,!1))}0<a.childNumber&&p(a,c?a.childNumber:0);b&&b.call(a,a.data,l)}function e(a,b){"li"==a.tagName.toLowerCase()&&(a.isSelected=b,a.className=b?"selected":"not-selected",g(a.code,b),a.firstChild.title=a.firstChild.value+(b?" is selected":""));for(var c=a&&a.children&&a.children.length?a.children.length:
0,d=0;d<c;d++)e(a.children[d],b)}function p(a,b){var c=a.counter;c.value=b;c.div.innerHTML=c.value;c.div.className=0<c.value?"counter":"empty-counter";b=a.firstChild.value;a.firstChild.title=b+": "+c.value+(1!=c.value?" selected countries":" selected country")}function g(a,b){a&&(b?l.uniqueInsert(a):l.remove(a))}function n(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var c in b)a[c]=n(a[c],b[c]);return a}return b}var f={"ul-class":"default-selector",callback:null,maxSelectedItems:-1,
selectedItems:[]},k=[],l=new SortedArray,t=null;(function(){var b=m;if(b){"string"===typeof b&&(b={container:b});var c=JSON.parse(JSON.stringify(f)),d;for(d in b)c[d]=n(c[d],b[d]);b=c}else b=JSON.parse(JSON.stringify(f));m=b;b=q(a,null,1,null,null);t=b.ul;b=b.selectedItems;c=b.length;for(d=0;d<c;d++)b[d].onclick()})();this.render=function(){return t};this.clear=function(){for(var a=t.children.length,c=0;c<a;c++)b(t.children[c],null,!1)};this.selectAll=function(){for(var a=k.length,b=0;b<a;b++)c(k[b].liParent,
=======
function HashTable(c){this.length=0;var h={},q=new SortedArray,e;for(e in c)c.hasOwnProperty(e)&&(h[e]=c[e],this.length++);this.setItem=function(b,a){var d=void 0;-1!=q.search(b)?d=h[b]:this.length++;h[b]=a;q.uniqueInsert(b);return d};this.getItem=function(b){return-1!=q.search(b)?h[b]:void 0};this.hasItem=function(b){return-1!=q.search(b)};this.removeItem=function(b){if(-1!=q.search(b))return previous=h[b],this.length--,delete h[b],q.remove(b),previous};this.keys=function(){return q};this.values=
function(){for(var b=[],a,d=0;d<q.getArray().length;d++)a=q.getArray()[d],b.push(h[a]);return b};this.each=function(b){for(var a in q)b(a,h[a])};this.clear=function(){h={};q=new SortedArray;this.length=0}}String.format=function(c){for(var h=1;h<arguments.length;h++)c=c.replace(RegExp("\\{"+(h-1)+"\\}","g"),arguments[h]);return c};
var wesCountry=new function(){function c(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this.version="1.0.0.0";this.guid=function(){return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}},jSVG=new function(){function c(h){function q(b,d,s,f){d=new c(d);var l;f=JSON.parse(JSON.stringify(f));if(s)for(l in s)f[l]=s[l];l=f;f={};for(var e in l)f[e]=new a(null,e,l[e]);d.attributes(f);b&&b.appendChild(d);return d}var e={width:500,height:500,version:"1.1"},b={fill:"black",stroke:"none",
"stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},a=function(b,a,d){this.namespace=b;this.name=a;this.value=d},d={},s={},l="",n=void 0,f=[];this.svg=function(b){b||(b={});return q(null,"svg",b,e)};this.elementByName=function(a,d){return q(this,a,d,b)};this.g=function(a){return q(this,"g",a,b)};this.path=function(a){return q(this,"path",a,b)};this.rectangle=function(a){return q(this,"rect",a,b)};this.circle=function(a){return q(this,"circle",a,b)};this.line=
function(a){return q(this,"line",a,b)};this.text=function(a){var d=q(this,"text",a,b);d.value(a.value);return d};this.a=function(a,d){var c=q(this,"a",a,b);c.attribute("http://www.w3.org/1999/xlink","xlink:href",d);return c};this.attribute=function(b,c,s){d[c]=new a(b,c,s);return this};this.attributes=function(a){d=a;return this};this.style=function(a){l=a;return this};this.value=function(a){n=a;return this};this.event=function(a,b){s[a]=b;return this};this.width=function(){return d.width.value};
this.height=function(){return d.height.value};this.appendChild=function(a){f.push(a)};this.render=function(){var a=document.createElementNS("http://www.w3.org/2000/svg",h),b;for(b in d){var c=d[b];a.setAttributeNS(c.namespace,c.name,c.value)}a.setAttributeNS(null,"style",l);for(var e in s)a[e]=s[e];for(b=0;b<f.length;b++)a.appendChild(f[b].render());n&&(b=document.createTextNode(n),a.appendChild(b));return a};this.toString=function(){var a="",b;for(b in d)var c=d[b],a=a+String.format(' {0}="{1}"',
c.name,c.value);b="";for(c=0;c<f.length;c++)b+=f[c].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',h,"http://www.w3.org/2000/svg",a,l,b,n?n:"")}}return new c};String.format=function(c){for(var h=1;h<arguments.length;h++)c=c.replace(RegExp("\\{"+(h-1)+"\\}","g"),arguments[h]);return c};String.prototype.toFirstUpperCase=function(){var c=this[0].toUpperCase(),h=this.substr(1);return c+h};"undefined"===typeof exports&&(exports={});
"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.charts=new function(){function c(b,a){if(a instanceof Array)return a;if("object"===typeof a){for(var d in a)b[d]=c(b[d],a[d]);return b}return a}function h(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(b){if(e){var a=b?b:event;b=a.clientX;a=a.clientY;diffX=24;diffY=0;e.style.top=a-2+diffY+document.body.scrollTop+"px";e.style.left=b-2+diffX+document.body.scrollLeft+"px"}}this.defaultOptions={width:600,height:400,chartType:"bar",container:"body",margins:[10,
20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica",
"font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es",
"http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px",onchange:function(b,a,d){for(b=0;b<d.length;b++)console.log(d[b])}},tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(b,a,d){b=String.format("Series '{0}': ({1}, {2})",b,a,d);console.log(b);wesCountry.charts.showTooltip(b)},onmouseout:function(){wesCountry.charts.hideTooltip()},
onclick:function(){}}};this.sortSeries=function(b){b.sort(function(a,b){for(var c=a.values,l=b.values,e=Math.max(c.length,l.length),f=0,g=0;g<e;g++)(c[g]?c[g]:0)>(l[g]?l[g]:0)&&f++;return f>=e/2?-1:1});return b};this.getSVG=function(b){return jSVG.svg({width:b.width,height:b.height})};this.showLegend=function(b,a,d){var c=d.series.length,l=a.width-0.2*a.marginRight;b=b.g({"class":"legend"});for(var e=[],f=0;f<c;f++)e.push(!0);for(f=0;f<c;f++){var g=a.marginTop+2.5*(a.legendItemSize+a.barMargin)*f,
k=b.g({selected:"true",pos:f,graphId:d.legend.graphId,graphOptions:d}).style("cursor:pointer"),q=d.serieColours[f%d.serieColours.length];k.circle({cx:l,cy:g,r:a.legendItemSize,fill:q,stroke:q});k.text({x:l-2*a.legendItemSize,y:g,value:d.series[f].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle;user-select: none;-webkit-user-select: none;-moz-user-select: none;",d.legend["font-colour"],d.legend["font-family"],d.legend["font-size"]));k.event("onclick",
function(){var a=this.getAttribute("selected"),a="true"===a?"false":"true";this.setAttribute("selected",a);var b=this.querySelector("circle"),c="true"===a?b.getAttribute("stroke"):"#fff";b.setAttribute("fill",c);b=parseInt(this.getAttribute("pos"));e[b]="true"===a;a=this.getAttribute("graphId");d.legend.onchange(a,d,e)})}};this.mergeOptionsAndDefaultOptions=function(b,a){if(b){"string"===typeof b&&(b={container:b});var d=this.clone(a),s;for(s in b)d[s]=c(d[s],b[s]);b=d}else b=this.clone(a);return b};
this.clone=function(b){if(null==b||"object"!=typeof b)return b;var a=b.constructor(),d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a};this.setAxisY=function(b,a,d){b.line({x1:a.marginLeft+a.yAxisMargin,x2:a.marginLeft+a.yAxisMargin,y1:a.marginTop,y2:a.innerHeight+a.marginTop-a.xAxisMargin}).style(String.format("stroke: {0}",d.yAxis.colour));for(var c=a.ticksY+1,l=0;l<c;l++)b.line({x1:a.marginLeft+a.yAxisMargin,x2:a.marginLeft+a.innerWidth,y1:a.marginTop+l*a.yTickHeight,y2:a.marginTop+l*a.yTickHeight}).style(String.format("stroke: {0}",
d.yAxis.tickColour));for(l=0;l<c;l++)b.text({x:a.marginLeft+a.yAxisMargin/1.8,y:a.marginTop+l*a.yTickHeight,value:(a.maxValue-l*a.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",d.yAxis["font-colour"],d.yAxis["font-family"],d.yAxis["font-size"]));c=a.marginLeft;a=a.marginTop+(a.innerHeight-a.xAxisMargin)/2;b.text({x:c,y:a,value:d.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",c,a)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
d.yAxis["font-colour"],d.yAxis["font-family"],d.yAxis["font-size"]))};this.setAxisX=function(b,a,d){var c=a.marginTop+a.innerHeight-a.xAxisMargin+a.minValue/(a.maxValue-a.minValue)*(a.innerHeight-a.xAxisMargin);b.line({x1:a.marginLeft+a.yAxisMargin,x2:a.marginLeft+a.innerWidth,y1:c,y2:c}).style(String.format("stroke: {0}",d.xAxis.colour));for(var c=a.maxValueLength,l=0;l<c;l++){var e=a.marginLeft+a.yAxisMargin+a.groupMargin+a.xTickWidth/2+(a.xTickWidth+2*a.groupMargin)*l;b.line({x1:e,x2:e,y1:a.marginTop,
y2:a.innerHeight+a.marginTop-a.xAxisMargin}).style(String.format("stroke: {0}",d.xAxis.tickColour));b.text({x:e,y:a.marginTop+a.innerHeight-a.xAxisMargin/2,value:d.xAxis.values[l]?d.xAxis.values[l]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]))}b.text({x:a.marginLeft+a.yAxisMargin+(a.innerWidth-a.yAxisMargin)/2,y:a.marginTop+a.innerHeight+a.xAxisMargin/2,value:d.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]))};this.getMaxAndMinValuesAxisY=function(b){for(var a=0,d=Number.MAX_VALUE,c=b.series.length,e=null,n=null,f=0,g=0;g<c;g++){e=b.series[g].values.length;e>f&&(f=e);for(var k=0;k<e;k++)n=b.series[g].values[k],n instanceof Array&&(n=n[1]?n[1]:0),n>a&&(a=n),n<d&&(d=n)}!0==b.yAxis["from-zero"]&&0<d&&(d=0);b=this.getNearestNumber(d,a);return{max:b.max,min:b.min,valueLength:f,inc:b.inc}};this.setBackground=function(b,a,d){b.rectangle({x:0,
y:0,width:a.width,height:a.height}).style(String.format("fill: {0}",d.backgroundColour))};this.getNearestNumber=function(b,a){var d;d=a-b;var c=0;15>d?c=1:30>d?c=5:(d=1+Math.floor(Math.log(d)/Math.log(10)),c=Math.pow(10,d-1));d=c;return{max:Math.ceil(a/d)*d,min:Math.floor(b/d)*d,inc:d}};this.guid=function(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h()};var e=null;this.createTooltip=function(b){if(!0==b.tooltip.show){if(e=document.getElementById("wesCountryTooltip"),!e){e=document.createElement("span");
e.id="wesCountryTooltip";document.body.appendChild(e);var a="",d;for(d in b.tooltip.style)a+=String.format("{0}:{1};",d,b.tooltip.style[d]);e.setAttribute("style",a)}}else e=null};this.showTooltip=function(b){e&&(q(),e.innerHTML=b,e.style.display="block",window.onscroll=q)};this.hideTooltip=function(){e&&(e.style.display="none")}};
wesCountry.charts.barChart=function(c){function h(c,e){var b=c.width(),a=c.height(),d=a*e.margins[0]/100,s=b*e.margins[1]/100,l=a*e.margins[2]/100,n=b*e.margins[3]/100,f=e.yAxis.margin*b/100,g=e.xAxis.margin*a/100,k=b-n-s,u=a-d-l,m=wesCountry.charts.getMaxAndMinValuesAxisY(e),p=m.max,t=0<m.min?0:m.min,v=m.valueLength,r=(p-t)/m.inc,m=(k-f)/m.valueLength,h=e.groupMargin*m/100,m=m-2*h,w=m/e.series.length,y=e.barMargin*w/100;return{width:b,height:a,marginTop:d,marginRight:s,marginBottom:l,marginLeft:n,
innerWidth:k,innerHeight:u,yAxisMargin:f,xAxisMargin:g,maxValue:p,minValue:t,maxValueLength:v,ticksY:r,yTickHeight:0!=r?(u-g)/r:0,xTickWidth:m,valueInc:0!=r?(p-t)/r:0,barMargin:y,groupMargin:h,barWidth:w-2*y,legendItemSize:e.legend.itemSize*b/100}}return function(){c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);c.yAxis["from-zero"]=!0;c.sortSeries&&(c.series=wesCountry.charts.sortSeries(c.series));var q=wesCountry.charts.getSVG(c),e=h(q,c),b=q.g();wesCountry.charts.setBackground(b,
e,c);wesCountry.charts.setAxisY(b,e,c);wesCountry.charts.setAxisX(b,e,c);for(var a=e.maxValueLength,d=c.series.length,s=e.barWidth,l=e.innerHeight-e.xAxisMargin,n=e.minValue/(e.maxValue-e.minValue)*l,f=0;f<a;f++)for(var g=0;g<d;g++){var k=c.series[g].name,u=c.series[g].values[f],m=c.series[g].urls?c.series[g].urls[f]:"",p=c.xAxis.values[g];u||(u=0);var t=e.marginLeft+e.yAxisMargin+e.groupMargin*(2*f+1)+e.barMargin+e.xTickWidth*f+(s+2*e.barMargin)*g,v=0<=u?e.marginTop+e.innerHeight-e.xAxisMargin+n-
u/(e.maxValue-e.minValue)*l:e.marginTop+e.innerHeight-e.xAxisMargin+n,r=Math.abs(u)/(e.maxValue-e.minValue)*l,k={x:t,y:v,width:s,height:r,serie:k,value:u,pos:p},p=String.format("fill: {0}",c.serieColours[g]),r=function(){this.colour=this.style.fill;this.style.fill=c.overColour;c.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},x=function(){this.style.fill=this.colour;c.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
w=function(){this.style.fill=this.colour;c.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};m&&""!=m?b.a({},m?m:"").rectangle(k).style(p).event("onmouseover",r).event("onmouseout",x).event("onclick",w):b.rectangle(k).style(p).event("onmouseover",r).event("onmouseout",x).event("onclick",w);!0==c.valueOnItem.show&&b.text({x:t+s/2,y:v-c.height/100*c.valueOnItem.margin,value:u.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
c.valueOnItem["font-colour"],c.valueOnItem["font-family"],c.valueOnItem["font-size"]))}wesCountry.charts.createTooltip(c);return{svg:q,g:b,sizes:e,render:function(){return q.render()},toString:function(){return q.toString()}}}()};wesCountry.charts.lineChart=function(c){return wesCountry.charts.generateLineChart(c,!1)};wesCountry.charts.areaChart=function(c){return wesCountry.charts.generateLineChart(c,!0)};
wesCountry.charts.generateLineChart=function(c,h){function q(b,a,c,e){return a.marginTop+a.innerHeight-a.xAxisMargin+c-b/(a.maxValue-a.minValue)*e}function e(b,a){var c=b.width(),e=b.height(),l=e*a.margins[0]/100,n=c*a.margins[1]/100,f=e*a.margins[2]/100,g=c*a.margins[3]/100,k=a.yAxis.margin*c/100,q=a.xAxis.margin*e/100,m=c-g-n,p=e-l-f,t=wesCountry.charts.getMaxAndMinValuesAxisY(a),v=t.max,h=t.min,x=t.valueLength;h==v&&(h=0<=h?0:h-2,v+=2);var w=(v-h)/t.inc,t=(m-k)/t.valueLength,y=a.groupMargin*t/
100,t=t-2*y,B=t/a.series.length,z=a.barMargin*B/100;return{width:c,height:e,marginTop:l,marginRight:n,marginBottom:f,marginLeft:g,innerWidth:m,innerHeight:p,yAxisMargin:k,xAxisMargin:q,maxValue:v,minValue:h,maxValueLength:x,ticksY:w,yTickHeight:0!=w?(p-q)/w:0,xTickWidth:t,valueInc:0!=w?(v-h)/w:0,barMargin:z,groupMargin:y,barWidth:B-2*z,legendItemSize:a.legend.itemSize*c/100}}return function(){c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);c.sortSeries&&(c.series=
wesCountry.charts.sortSeries(c.series));var b=wesCountry.charts.getSVG(c),a=e(b,c),d=b.g();wesCountry.charts.setBackground(d,a,c);wesCountry.charts.setAxisY(d,a,c);wesCountry.charts.setAxisX(d,a,c);for(var s=c.series.length,l=a.maxValueLength,n=a.innerHeight-a.xAxisMargin,f=a.minValue/(a.maxValue-a.minValue)*n,g=0;g<s;g++){var k="";if(h)var u=d.path();for(var m=Math.max(0,a.minValue),m=q(m,a,f,n),p="l"+wesCountry.charts.guid(),t=0;t<l;t++){var v=c.series[g].values[t],r=0<t?c.series[g].values[t-1]:
0,x=c.series[g].urls?c.series[g].urls[t]:"",w=c.series[g].name,y=c.xAxis.values[t];v||(v=0);r||(r=0);var B=a.marginLeft+a.yAxisMargin+a.groupMargin+a.xTickWidth/2+(a.xTickWidth+2*a.groupMargin)*t,z=q(v,a,f,n),E=a.marginLeft+a.yAxisMargin+a.groupMargin+a.xTickWidth/2+(a.xTickWidth+2*a.groupMargin)*(t-1),r=q(r,a,f,n),w={cx:B,cy:z,r:5,"class":p,serie:w,value:v,pos:y},y=String.format("fill: {0}",c.serieColours[g%c.serieColours.length]),C=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,e=0;e<d;e++)c[e].setAttribute("stroke-width",b)},G=function(){this.setAttribute("r",8);C(this,2);c.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},D=function(){this.setAttribute("r",5);C(this,1);c.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},A=function(){this.setAttribute("r",5);C(this,1);c.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};
x&&""!=x?d.a({},x?x:"").circle(w).style(y).event("onmouseover",G).event("onmouseout",D).event("onclick",A):d.circle(w).style(y).event("onmouseover",G).event("onmouseout",D).event("onclick",A);!0==c.valueOnItem.show&&d.text({x:B,y:z-c.height/100*c.valueOnItem.margin,value:0==v?"0":v.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",c.valueOnItem["font-colour"],c.valueOnItem["font-family"],c.valueOnItem["font-size"]));0<t?(d.line({x1:E,
x2:B,y1:r,y2:z,"stroke-width":1,"class":p}).style(String.format("stroke: {0}",c.serieColours[g%c.serieColours.length])).event("onmouseover",function(){C(this,2)}).event("onmouseout",function(){C(this,1)}),k+=String.format(" L{0} {1}",B,z)):k=String.format("M{0} {1} L{2} {3}",B,m,B,z)}k+=String.format(" L{0} {1} Z",B,m);h&&u.attribute(null,"d",k).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",c.serieColours[g%c.serieColours.length]))}c.legend.show&&wesCountry.charts.showLegend(d,a,c);wesCountry.charts.createTooltip(c);
return b}()};
wesCountry.charts.pieChart=function(c){function h(c,e){var b=c.width(),a=c.height(),d=a*e.margins[0]/100,s=b*e.margins[1]/100,l=a*e.margins[2]/100,n=b*e.margins[3]/100,f=e.yAxis.margin*b/100,g=e.xAxis.margin*a/100,k=b-n-s,h=a-d-l,m=wesCountry.charts.getMaxAndMinValuesAxisY(e),p=m.max,t=m.min,v=m.valueLength,r=(p-t)/m.inc,m=(k-f)/m.valueLength,x=e.groupMargin*m/100,m=m-2*x,w=m/e.series.length,y=e.barMargin*w/100;return{width:b,height:a,marginTop:d,marginRight:s,marginBottom:l,marginLeft:n,innerWidth:k,
innerHeight:h,yAxisMargin:f,xAxisMargin:g,maxValue:p,minValue:t,maxValueLength:v,ticksY:r,yTickHeight:0!=r?(h-g)/r:0,xTickWidth:m,valueInc:0!=r?(p-t)/r:0,barMargin:y,groupMargin:x,barWidth:w-2*y,legendItemSize:e.legend.itemSize*b/100}}return function(){c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);c.sortSeries&&(c.series=wesCountry.charts.sortSeries(c.series));var q=wesCountry.charts.getSVG(c),e=h(q,c),b=q.g();wesCountry.charts.setBackground(b,e,c);var a=e.maxValueLength;
if(1==a)var d=Math.min(e.innerWidth-2*e.yAxisMargin,e.innerHeight-2*e.xAxisMargin)/2,s=e.innerWidth/2,l=e.innerHeight/2,n=0,f=1;else 2==a?(d=Math.min(e.innerWidth-2*e.yAxisMargin,e.innerHeight-2*e.xAxisMargin)/4,s=e.marginLeft+d,l=e.innerHeight/2,n=e.innerWidth-2*d,f=2):(8<a&&(a=8),d=Math.min(e.innerWidth,e.innerHeight-2*e.xAxisMargin)/4,f=Math.ceil(a/2),s=e.marginLeft+d,l=e.marginTop+d,n=(e.innerWidth-2*f*d)/(f-1)+2*d);for(var g=0;g<a;g++){if(g<f)var k=s+n*g,u=l;else k=a-f,u=(e.innerWidth-2*k*d)/
(k<f?k+1:k-1),n=u+2*d,k=e.marginLeft+(k<f?u:0)+d+n*(g%f),u=e.marginTop+e.innerHeight-e.xAxisMargin-d;b.text({x:k,y:u+d+e.xAxisMargin/2,value:c.xAxis.values[g]?c.xAxis.values[g]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",c.xAxis["font-colour"],c.xAxis["font-family"],c.xAxis["font-size"]));for(var m=function(){this.colour=this.style.fill;this.style.fill=c.overColour;c.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),
this.getAttribute("value"))},p=function(){this.style.fill=this.colour;c.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},t=function(){this.style.fill=this.colour;c.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},v=0,r=0,x=c.series.length,w=0;w<x;w++){var y=Math.abs(c.series[w].values[g]);y||(y=0);0!=y&&r++;v+=y}for(var B=[],w=0;w<x;w++)(y=Math.abs(2*(c.series[w].values[g]/v)*Math.PI))||(y=0),B[w]=y;if(1==
r){for(var z="",r=y=v="",w=0;w<x;w++)if(0!=B[w]){z=c.serieColours[w];v=c.series[w].name;y=Math.abs(c.series[0].values[w]).toFixed(2);r=c.xAxis.values[g];break}b.circle({cx:k,cy:u,r:d,serie:v,value:y,pos:r}).event("onmouseover",m).event("onmouseout",p).event("onclick",t).style(String.format("fill: {0}",z))}else for(w=z=0;w<x;w++){var E=z+B[w],y=Math.abs(c.series[w].values[g]).toFixed(2),v=c.series[w].name,r=c.xAxis.values[g],C=k+d*Math.sin(z),G=u-d*Math.cos(z),D=k+d*Math.sin(E),A=u-d*Math.cos(E),H=
z+(E-z)/2,F=d+d/100*c.valueOnItem.margin,I=k+F*Math.sin(H),H=u-F*Math.cos(H),F=0;E-z>Math.PI&&(F=1);b.path({d:"M "+k+","+u+" L "+C+","+G+" A "+d+","+d+" 0 "+F+" 1 "+D+","+A+" Z",serie:v,value:y,pos:r}).event("onmouseover",m).event("onmouseout",p).event("onclick",t).style(String.format("fill: {0}",c.serieColours[w]));!0==c.valueOnItem.show&&b.text({x:I,y:H,value:y}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",c.valueOnItem["font-colour"],
c.valueOnItem["font-family"],c.valueOnItem["font-size"]));z=E}}c.legend.show&&wesCountry.charts.showLegend(b,e,c);wesCountry.charts.createTooltip(c);return q}()};
wesCountry.charts.polarChart=function(c){function h(c,e){var b=c.width(),a=c.height(),d=a*e.margins[0]/100,s=b*e.margins[1]/100,l=a*e.margins[2]/100,n=b*e.margins[3]/100,f=e.yAxis.margin*b/100,g=e.xAxis.margin*a/100,k=b-n-s,h=a-d-l,m=wesCountry.charts.getMaxAndMinValuesAxisY(e),p=m.max,t=0<m.min?0:m.min,v=m.valueLength,r=(p-t)/m.inc,m=(k-f)/m.valueLength,x=e.groupMargin*m/100,m=m-2*x,w=m/e.series.length,y=e.barMargin*w/100;return{width:b,height:a,marginTop:d,marginRight:s,marginBottom:l,marginLeft:n,
innerWidth:k,innerHeight:h,yAxisMargin:f,xAxisMargin:g,maxValue:p,minValue:t,maxValueLength:v,ticksY:r,yTickHeight:0!=r?(h-g)/r:0,xTickWidth:m,valueInc:0!=r?(p-t)/r:0,barMargin:y,groupMargin:x,barWidth:w-2*y,legendItemSize:e.legend.itemSize*b/100}}return function(){c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);var q=wesCountry.charts.getSVG(c),e=h(q,c),b=q.g();wesCountry.charts.setBackground(b,e,c);for(var a=Math.min(e.innerWidth-2*e.yAxisMargin,e.innerHeight-
2*e.xAxisMargin)/2,d=e.maxValueLength,s=e.width/2,l=e.height/2,n=[],f=0;f<d;f++)n.push({x:s+a*Math.cos(2*Math.PI*f/d-Math.PI/2),y:l+a*Math.sin(2*Math.PI*f/d-Math.PI/2)});for(f=0;f<d;f++){var g=n[f];b.line({x1:s,y1:l,x2:g.x,y2:g.y}).style(String.format("stroke: {0};",c.yAxis.tickColour))}for(f=0;f<d;f++){var g=s+(a+e.xAxisMargin/2)*Math.cos(2*Math.PI*f/d-Math.PI/2),k=l+(a+e.xAxisMargin/2)*Math.sin(2*Math.PI*f/d-Math.PI/2),u=c.xAxis.values[f]?c.xAxis.values[f]:"";b.text({x:g,y:k,value:u}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
c.xAxis["font-colour"],c.xAxis["font-family"],c.xAxis["font-size"]))}for(var m=e.maxValue,p=e.minValue,m=5*Math.ceil(m/5),p=5*Math.floor(p/5),t=a/5,u=(m-p)/5,f=0;5>=f;f++){n=[];g=t*f;b.text({x:s-e.xAxisMargin/2,y:l-g,value:p+f*u}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",c.yAxis["font-colour"],c.yAxis["font-family"],c.yAxis["font-size"]));for(var v=0;v<d;v++)n.push({x:s+g*Math.cos(2*Math.PI*v/d-Math.PI/2),y:l+g*Math.sin(2*Math.PI*v/d-
Math.PI/2)});for(v=0;v<d;v++){var g=n[v],r=0==v?n[d-1]:n[v-1];b.line({x1:r.x,y1:r.y,x2:g.x,y2:g.y}).style(String.format("stroke: {0};",c.yAxis.tickColour))}}r=Math.abs(p/(m-p))*a;t=c.series.length;n=[];for(f=0;f<t;f++)for(n[f]=[],v=0;v<d;v++)(u=c.series[f].values[v])||(u=0),u=0>u?r-Math.abs(u/p)*r:u/m*(a-r)+r,g=s+u*Math.cos(2*Math.PI*v/d-Math.PI/2),k=l+u*Math.sin(2*Math.PI*v/d-Math.PI/2),n[f].push({x:g,y:k});for(var x=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,e=0;e<d;e++)c[e].setAttribute("stroke-width",b)},a=function(){this.setAttribute("r",8);x(this,2);c.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},s=function(){this.setAttribute("r",5);x(this,1);c.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},l=function(){this.setAttribute("r",5);x(this,1);c.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
f=0;f<t;f++)for(m="l"+wesCountry.charts.guid(),v=0;v<d;v++)g=n[f][v],r=0==v?n[f][d-1]:n[f][v-1],u=c.series[f].values[v],b.circle({cx:g.x,cy:g.y,r:5,serie:c.series[f].name,value:u,pos:c.xAxis.values[v],"class":m}).style(String.format("fill: {0}",c.serieColours[f%c.serieColours.length])).event("onmouseover",a).event("onmouseout",s).event("onclick",l),b.line({x1:r.x,y1:r.y,x2:g.x,y2:g.y,"class":m}).style(String.format("stroke: {0};",c.serieColours[f%c.serieColours.length]));c.legend.show&&wesCountry.charts.showLegend(b,
e,c);wesCountry.charts.createTooltip(c);return q}()};
wesCountry.charts.scatterPlot=function(c){function h(c,b){var a=c.width(),d=c.height(),s=d*b.margins[0]/100,l=a*b.margins[1]/100,n=d*b.margins[2]/100,f=a*b.margins[3]/100,g=b.yAxis.margin*a/100,k=b.xAxis.margin*d/100,h=a-f-l,m=d-s-n,p=wesCountry.charts.getMaxAndMinValuesAxisY(b),t=p.max,q=p.min,r=p.valueLength,x=(t-q)/p.inc,p=(h-g)/p.valueLength,w=b.groupMargin*p/100,p=p-2*w,y=p/b.series.length,B=b.barMargin*y/100;return{width:a,height:d,marginTop:s,marginRight:l,marginBottom:n,marginLeft:f,innerWidth:h,
innerHeight:m,yAxisMargin:g,xAxisMargin:k,maxValue:t,minValue:q,maxValueLength:r,ticksY:x,yTickHeight:0!=x?(m-k)/x:0,xTickWidth:p,valueInc:0!=x?(t-q)/x:0,barMargin:B,groupMargin:w,barWidth:y-2*B,legendItemSize:b.legend.itemSize*a/100}}function q(c,b,a){var d=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(0!=b.maxValue-b.minValue?b.maxValue-b.minValue:1)*(b.innerHeight-b.xAxisMargin);c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",
a.xAxis.colour));for(var d=0,s=Number.MAX_VALUE,l=a.series.length,n=null,f=null,g=0;g<l;g++)for(var n=a.series[g].values.length,k=0;k<n;k++)f=a.series[g].values[k][0]?a.series[g].values[k][0]:0,f>d&&(d=f),f<s&&(s=f);for(var d=wesCountry.charts.getNearestNumber(s,d),d={max:d.max,min:d.min,inc:d.inc},s=d.max,l=d.min,n=d.valueLength,f=(s-l)/d.inc,g=(b.innerWidth-b.yAxisMargin)/f,k=d.inc,h=f+1,m=0;m<h;m++){var p=b.marginLeft+b.yAxisMargin+g*m;c.line({x1:p,x2:p,y1:b.marginTop,y2:b.innerHeight+b.marginTop-
b.xAxisMargin}).style(String.format("stroke: {0}",a.xAxis.tickColour));c.text({x:p,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:l+k*m}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}c.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:a.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));return{maxAndMinValues:d,maxValue:s,minValue:l,maxValueLength:n,ticksX:f,xTickWidth:g,incX:k}}return function(){c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);var e=wesCountry.charts.getSVG(c),b=h(e,c),a=e.g();wesCountry.charts.setBackground(a,b,c);wesCountry.charts.setAxisY(a,b,c);var d=q(a,b,c),s=c.series.length,l=b.innerHeight-b.xAxisMargin,n=b.innerWidth-b.yAxisMargin,f=0;0>=b.minValue&&
0!=b.maxValue-b.minValue&&(f=b.minValue/(b.maxValue-b.minValue)*l);var g=0;0>=d.minValue&&(g=d.xTickWidth*Math.abs(d.minValue));for(var k=function(){this.colour=this.style.fill;this.style.fill=c.overColour;c.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},u=function(){this.style.fill=this.colour;c.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},m=function(){this.style.fill=this.colour;c.events.onclick(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},p=0;p<s;p++)for(var t=c.series[p].values,v=t.length,r=0;r<v;r++){var x=t[r][0]?t[r][0]:0,w=0,y=c.series[p].values[r],B=c.series[p].name,z=x;0<r&&(w=t[r-1][0]?t[r-1][0]:0);x||(x=0);w||(w=0);var w=t[r][1]?t[r][1]:0,E=0;0<r&&(E=t[r-1][1]?t[r-1][1]:0);w||(w=0);E||(E=0);a.circle({cx:b.marginLeft+b.yAxisMargin+g+(0==d.maxValue-d.minValue?0:(x-d.minValue)/(d.maxValue-d.minValue))*n,cy:b.marginTop+b.innerHeight-b.xAxisMargin+f-(0==b.maxValue-b.minValue?
1:(w-b.minValue)/(b.maxValue-b.minValue))*l,r:5,serie:B,value:y,pos:z}).style(String.format("fill: {0}",c.serieColours[p%c.serieColours.length])).event("onmouseover",k).event("onmouseout",u).event("onclick",m)}c.legend.show&&wesCountry.charts.showLegend(a,b,c);wesCountry.charts.createTooltip(c);return e}()};
wesCountry.charts.chart=function(c){function h(a,b){a.innerHTML="";switch(b.chartType){case "bar":e=wesCountry.charts.barChart(b);break;case "line":e=wesCountry.charts.lineChart(b);break;case "pie":e=wesCountry.charts.pieChart(b);break;case "area":e=wesCountry.charts.areaChart(b)}a.appendChild(e.render());return q.parentNode}var q;q="string"!==typeof c.container?c.container:void 0;c.container="string"===typeof c.container?c.container:wesCountry.charts.defaultOptions.container;c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,
wesCountry.charts.defaultOptions);var e;void 0===q&&(q=document.querySelector(c.container));var b=document.createElement("div");b.id=wesCountry.charts.guid();q.appendChild(b);c.legend.graphId=b.id;c.legend.onchange=function(a,b,c){h(document.getElementById(a),b);console.log(1)};return h(b,c)};
wesCountry.charts.multiChart=function(c){function h(a){var b=d.querySelector(".active").innerHTML.toLowerCase();c.chartType=b;c.container=void 0===a?".chartDiv":a;return new wesCountry.charts.chart(c)}function q(a){a.querySelector(".chartDiv").innerHTML="";h(a.querySelector(".chartDiv"))}function e(){for(var a=this.innerHTML,b=this.parentNode.parentNode,c=b.querySelector(".active"),b=b.querySelectorAll(".inactive"),d=b.length,e=0;e<d;e++)b[e].className=a===b[e].innerHTML?"active":"inactive";a!==c.innerHTML&&
(c.className="inactive");q(this.parentNode.parentNode.parentNode.parentNode)}function b(){for(var a=wesCountry.charts.clone(seriesSave),b=this.parentNode.querySelectorAll("input"),d=a.length,e=0;e<d;e++)b[e].checked||delete a[e];b=[];for(e=0;e<d;e++)void 0!==a[e]&&b.push(a[e]);c.series=b;q(this.parentNode.parentNode)}c=wesCountry.charts.mergeOptionsAndDefaultOptions(c,wesCountry.charts.defaultOptions);seriesSave=wesCountry.charts.clone(c.series);var a=c.chartType,a=a instanceof Array?a:[a],d=document.createElement("div");
document.querySelector(c.container).appendChild(d);(function(){var b=document.createElement("div");b.className="chartSelector";for(var c=document.createElement("ul"),n=0;n<a.length;n++){var f=document.createElement("li"),g=document.createElement("a");g.className="inactive";g.onclick=e;g.innerHTML=a[n].toFirstUpperCase();f.appendChild(g);c.appendChild(f)}b.appendChild(c);b.querySelector("li a").className="active";d.appendChild(b)})();(function(){var a=document.createElement("div");a.className="seriesSelector";
for(var c=0;c<seriesSave.length;c++){var e=document.createElement("input"),f=document.createElement("label");e.id=seriesSave[c].name+"Checkbox"+wesCountry.charts.guid();e.type="checkbox";e.className="checks";e.onchange=b;e.checked=!0;f.for=e.id;f.innerHTML=seriesSave[c].name;a.appendChild(e);a.appendChild(f)}d.appendChild(a)})();return function(){var a=document.createElement("div");a.className="chartDiv";d.appendChild(a);return h(a)}()};
Element.prototype.insertAfter=function(c){this.parentNode.insertBefore(c,this.nextSibling)};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.data=new function(){var c=null,h={},q=[],e=null,b;this.parseJSON=function(b){function e(b){return b.indicatorCode===g}function l(b){0>h.xAxis.values.indexOf(b)&&h.xAxis.values.push(b)}q=[];h=wesCountry.charts.mergeOptionsAndDefaultOptions(b,wesCountry.charts.defaultOptions);h.xAxis.values=[];b=h.data;for(var n=new HashTable,f=0;f<b.length;f++){var g=b[f].indicatorCode;if(!n.hasItem(g)){for(var k=b.filter(e),k=k.sort(a),u=new HashTable,m=0;m<k.length;m++){if(u.hasItem(k[m].countryName)){var p=
u.getItem(k[m].countryName);p.push(parseFloat(k[m].value));-1<h.xAxis.values.indexOf(k[m].year)}else p=[parseFloat(k[m].value)];u.setItem(k[m].countryName,p);l(k[m].year)}n.setItem(b[f].indicatorCode,u)}}c=n;return this};this.parseTable=function(a){for(var c=document.querySelectorAll(".graphs"),l=0;l<c.length;l++){b=c[l];for(var n=c[l].querySelectorAll("th"),f=c[l].querySelectorAll("tr"),g=[],k=1;k<f.length;k++){for(var h={},m=f[k].querySelectorAll("td"),p=0;p<m.length;p++)h[n[p].className]=m[p].innerHTML;
g.push(h)}a.data=g;void 0===a.container&&(e=a.tablePosition);this.parseJSON(a).iterate()}};this.iterate=function(){function a(){this.parentNode.parentNode.remove();s()}function s(){h.series=q[n.selectedIndex];var a=wesCountry.charts.multiChart(h);a.insertBefore(l,a.childNodes[0]);p.appendChild(a)}if(null!==c){var l=document.createElement("div");l.className="indicatorSelector";var n=document.createElement("select");l.appendChild(n);n.onchange=a;for(var f=c.keys(),f=f.array,g=0;g<f.length;g++){for(var k=
c.getItem(f[g]).keys().array,u=[],m=0;m<k.length;m++)u.push({name:k[m],values:c.getItem(f[g]).getItem(k[m])});q.push(u);k=document.createElement("option");k.innerHTML=f[g];n.appendChild(k)}var p=document.createElement("div");null===e?document.querySelector(h.container).appendChild(p):"above"===e.toLowerCase()?b.insertAfter(p):"below"===e.toLowerCase()&&b.parentNode.insertBefore(p,b);s()}};var a=function(a,b){return a.year-b.year}};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.table={};
wesCountry.table.pages=new function(){function c(a){for(var b=a.querySelectorAll("tr.empty"),c=b.length,d=0;d<c;d++)b[d].parentNode.removeChild(b[d]);a.numberOfPages=Math.ceil(a.numberOfRows/a.rowsPerPage);var b=a.numberOfPages*a.rowsPerPage,c=0<a.numberOfColumns?a.numberOfColumns:1,g=a.tBodies;if(1<a.numberOfPages&&b>a.numberOfRows&&0<g.length)for(var k=a.numberOfRows;b>k;){var u=document.createElement("tr");u.className="empty";for(d=0;d<c;d++){var m=document.createElement("td");m.innerHTML="&nbsp";
u.appendChild(m)}g[0].appendChild(u);k++}a.selectedPage=1;q(a);a.changePage=h;a.reloadPage=function(){q(this)};e(a)}function h(a){a>this.numberOfPages||1>a||(this.firstShownRow=(a-1)*this.rowsPerPage,this.selectedPage=a,q(this))}function q(a){for(var b=a.firstShownRow,c=a.tBodies,d=0,e=0,k=b+1*a.rowsPerPage-1,h=c.length,m=0,p=0;p<h;p++)for(var t=c[p].rows,q=t.length,r=0;r<q;r++){var x=t[r];x.style.display=!0==(d>=b&&d<=k)?"table-row":"none";x.cells.length>m&&(m=x.cells.length);"empty"!=x.className&&
e++;d++}b=a.selectedPage;c=a.numberOfPages;if(d=a.querySelector("tFoot a.first"))d.className=1<b?"not-number first":"not-number first disabled",d.index=1<b?1:-1;if(d=a.querySelector("tFoot a.previous"))d.className=1<b?"not-number previous":"not-number previous disabled",d.index=1<b?b-1:-1;if(d=a.querySelector("tFoot a.next"))d.className=b<c?"not-number next":"not-number next disabled",d.index=b<c?b+1:-1;if(d=a.querySelector("tFoot a.last"))d.className=b<c?"not-number last":"not-number last disabled",
d.index=b<c?c:-1;c=a.querySelectorAll("tFoot a.number");d=c.length;k=Math.min(a.numberFooterAnchors,d);k=Math.floor(k/2);h=b>k?k:b-1;k=b-h;h=b+(a.numberFooterAnchors-1-h);h>d&&(k-=h-d,h=d);for(p=1;p<=d;p++)c[p-1].className=(p==b?"number selected ":"number ")+(p>=k&&p<=h?"shown":"hidden");b=(b-1)*a.rowsPerPage+1;c=b+a.rowsPerPage-1>a.numberOfRows?a.numberOfRows:b+a.rowsPerPage-1;if(d=a.querySelector("tFoot span.details"))d.innerHTML=b+" - "+c+" of "+a.numberOfRows+" items.";a.numberOfRows=e;a.numberOfColumns=
m}function e(a){var b=a.querySelector("tFoot.pagination");b||(b=document.createElement("tFoot"),b.className="pagination",a.appendChild(b),a.navFooter=b);b.innerHTML="";var c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);b.colSpan=a.numberOfColumns;c=document.createElement("span");c.className="details";b.appendChild(c);c.innerHTML=(0<a.numberOfRows?1:0)+" - "+(a.numberOfRows>a.rowsPerPage?a.rowsPerPage:a.numberOfRows)+" of "+a.numberOfRows+" items.";
c=d(a,"<<","not-number first disabled",-1);b.appendChild(c);c=d(a,"<","not-number previous disabled",-1);b.appendChild(c);for(var e=a.numberOfPages,g=1;g<=e;g++)c=d(a,g,(1==g?"number selected ":"number ")+(g>a.numberFooterAnchors?"hidden":"shown"),g),b.appendChild(c);c=d(a,">",1<e?"not-number next":"not-number next disabled",1<e?2:-1);b.appendChild(c);c=d(a,">>",1<e?"not-number last":"not-number last disabled",1<e?e:-1);b.appendChild(c)}function b(b){var d=b.tHead,e=b.numberOfRows,f=0==e?1:Math.floor(Math.log(e)/
Math.LN10)+1;if(d&&1<f){var g=document.createElement("tr");g.className="select";d.insertBefore(g,d.firstChild);d=document.createElement("th");d.colSpan=b.numberOfColumns;g.appendChild(d);var k=document.createElement("span");k.className="show";d.appendChild(k);k.appendChild(document.createTextNode("Show "));g=document.createElement("select");d.appendChild(g);g.table=b;k=document.createElement("span");k.className="entries";d.appendChild(k);k.appendChild(document.createTextNode(" entries"));f=Math.pow(10,
f-1);for(d=1;4>=d;d++){k=f*d;if(k>e)break;a(g,k,k)}a(g,"all",e);g.onchange=function(){this.table.rowsPerPage=this.options[this.selectedIndex].value;c(this.table);b.changePage(1)}}}function a(a,b,c){var d=document.createElement("option");d.text=b;d.value=c;a.appendChild(d)}function d(a,b,c,d){var e=document.createElement("a");e.className=c;e.table=a;e.index=d;e.onclick=function(){this.table.changePage(this.index)};a=document.createTextNode(b);e.appendChild(a);return e}(function(){for(var a=document.querySelectorAll("table.pages"),
d=a.length,e=0;e<d;e++){var f=a[e];f.isPaged=!0;f.firstShownRow=0;f.numberFooterAnchors=5;for(var g=f.tBodies,d=g.length,k=0,h=0;h<d;h++)k+=g[h].rows.length;f.numberOfRows=k;g=0==f.numberOfRows?1:Math.floor(Math.log(f.numberOfRows)/Math.LN10)+1;f.rowsPerPage=Math.pow(10,g-1);c(f);b(f)}})()};
wesCountry.table.sort=new function(){function c(c){for(var b=c.tHead.rows,a=b.length,d=0;d<a;d++)if("select"!=b[d].className){b[d].className="sorter";for(var q=b[d].cells.length,l=0;l<q;l++){b[d].cells[l].table=c;b[d].cells[l].index=l;b[d].cells[l].sort="empty";var n=new Image;n.className="empty";b[d].cells[l].appendChild(n);b[d].cells[l].onclick=function(){h(this.table,this.index,this)}}}}function h(c,b,a){for(var d=[],h=c.tBodies.length,l=0;l<h;l++)for(var n=c.tBodies[l],f=0;f<n.rows.length;f++)d.push(n.rows[f]);
a.sort="empty"==a.sort||"down"==a.sort?"up":"down";d.sort(function(c,d){if("empty"==c.className||"empty"==d.className)return 1;c=c.cells[b].innerHTML.toString();d=d.cells[b].innerHTML.toString();return c<d?"up"==a.sort?-1:1:c>d?"up"==a.sort?1:-1:0});a.querySelector("img").className=a.sort;n=c.querySelectorAll("tHead tr.sorter th");h=n.length;for(l=0;l<h;l++)l!=b&&q(n[l]);h=c.tHead;for(l=c.tFoot;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(h);l&&c.appendChild(l);n=document.createElement("tbody");
c.appendChild(n);h=d.length;for(l=0;l<h;l++)n.appendChild(d[l]);c.changePage&&c.changePage(1)}function q(c){var b=c.querySelectorAll("img");b&&b.length&&0<b.length&&(b[0].className="empty");c.sort="empty"}(function(){for(var e=document.querySelectorAll("table.sortable"),b=e.length,a=0;a<b;a++)c(e[a])})()};
function SortedArray(){var c=0;this.array=[];for(var h=arguments.length;c<h;)this.insert(arguments[c++]);this.length=0;this.insert=function(c){var e=this.array,b=e.length;e.push(c);for(this.length=this.array.length;b;){c=b;var a=--b;if(e[c]<e[a]){var d=e[c];e[c]=e[a];e[a]=d}}return this};this.get=function(c){return this.array[c]};this.getArray=function(){return this.array};this.uniqueInsert=function(c){-1==this.search(c)&&this.insert(c)};this.search=function(c){for(var e=0,b=this.array,a=b.length;a>
e;){var d=(a+e)/2>>>0,h=b[d];if(h<c)e=d+1;else if(h>c)a=d;else return d}return-1};this.remove=function(c){c=this.search(c);0<=c&&this.array.splice(c,1);this.length=this.array.length;return this}}"undefined"===typeof exports&&(exports={});
var Selector=exports.Selector=function(c,h){function q(a,c,d,f,k){var l=document.createElement("ul");l.className=h["ul-class"];a.sort(function(a,b){return a.label<b.label?-1:a.label>b.label?1:0});for(var n=a.length,s=null,u=!1,z=[],E=0;E<n;E++){var C=a[E],G=C.children&&C.children.length?C.children.length:0,D=document.createElement("li");l.appendChild(D);D.code=C.code;D.liParent=c;D.data=C;D.isSelected=!1;var A=document.createElement("a");A.href="javascript: void(0)";A.value=C.label;-1!=h.selectedItems.indexOf(D.code)&&
(u=!0,z.push(A));null==k&&g.push(A);A.previousSiblingLink=f;A.nextSiblingLink=null;A.parentLink=k;f&&(f.nextSiblingLink=A);0==E&&(s=A);A.className="circleAndText";D.appendChild(A);A.liParent=D;A.onclick=function(a){b(this.liParent,h.callback);a&&a.stopPropagation()};var H=document.createElement("div");H.className=0<G?"plusOrMinus":"hidden-plusOrMinus";H.innerHTML="+";A.appendChild(H);0<G&&(H.onclick=function(a){e(this);a.stopPropagation()});A.plusOrMinus=H;A.onkeydown=function(a){if(13==a.keyCode)return b(this.liParent,
h.callback),a.stopPropagation(),!1;if(38==a.keyCode)return this.previousSiblingLink&&this.previousSiblingLink.focus(),a.stopPropagation(),!1;if(40==a.keyCode)return this.plusOrMinus.opened&&this.firstChildLink?this.firstChildLink.focus():this.nextSiblingLink?this.nextSiblingLink.focus():this.parentLink.nextSiblingLink&&this.parentLink.nextSiblingLink.focus(),a.stopPropagation(),!1;if(37==a.keyCode||39==a.keyCode)return a.stopPropagation(),e(this.plusOrMinus),a.keyCode=9,a.keyCode};var F=document.createElement("div");
F.className="circle";A.appendChild(F);f=document.createElement("div");f.className="title";A.appendChild(f);var I=document.createTextNode(C.label);f.appendChild(I);f=A;0<G&&(G=document.createElement("span"),G.className="empty-counter",F.appendChild(G),I=document.createTextNode("0"),G.appendChild(I),D.counter={div:G,value:0},F=q(C.children,D,d+1,f,A),D.appendChild(F.ul),A.firstChildLink=F.firstChildLink,H.childrenUl=F.ul,!0==F.selected&&(u=!0,H.innerHTML="-"),z=z.concat(F.selectedItems));D.childNumber=
C.children?C.children.length:0}1<d&&!1==u&&(l.style.display="none");return{ul:l,firstChildLink:s,selected:u,selectedItems:z}}function e(a){"+"==a.innerHTML?(a.innerHTML="&#8212;",a.childrenUl&&(a.childrenUl.style.display="block"),a.opened=!0):(a.innerHTML="+",a.childrenUl&&(a.childrenUl.style.display="none"),a.opened=!1)}function b(b,c){var d=!b.isSelected;d&&0<h.maxSelectedItems&&k.length>=h.maxSelectedItems||a(b,c,d)}function a(a,b,c){d(a,c);if(a.liParent){var e=a.liParent.counter.value,e=c?e+1:
e-1;s(a.liParent,e);c?e==a.liParent.childNumber&&(a.liParent.className="selected",a.liParent.isSelected=!0,l(a.liParent.code,!0)):(a.liParent.className="not-selected",a.liParent.isSelected=!1,l(a.liParent.code,!1))}0<a.childNumber&&s(a,c?a.childNumber:0);b&&b.call(a,a.data,k)}function d(a,b){"li"==a.tagName.toLowerCase()&&(a.isSelected=b,a.className=b?"selected":"not-selected",l(a.code,b),a.firstChild.title=a.firstChild.value+(b?" is selected":""));for(var c=a&&a.children&&a.children.length?a.children.length:
0,e=0;e<c;e++)d(a.children[e],b)}function s(a,b){var c=a.counter;c.value=b;c.div.innerHTML=c.value;c.div.className=0<c.value?"counter":"empty-counter";b=a.firstChild.value;a.firstChild.title=b+": "+c.value+(1!=c.value?" selected countries":" selected country")}function l(a,b){a&&(b?k.uniqueInsert(a):k.remove(a))}function n(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var c in b)a[c]=n(a[c],b[c]);return a}return b}var f={"ul-class":"default-selector",callback:null,maxSelectedItems:-1,
selectedItems:[]},g=[],k=new SortedArray,u=null;(function(){var a=h;if(a){"string"===typeof a&&(a={container:a});var b=JSON.parse(JSON.stringify(f)),d;for(d in a)b[d]=n(b[d],a[d]);a=b}else a=JSON.parse(JSON.stringify(f));h=a;a=q(c,null,1,null,null);u=a.ul;a=a.selectedItems;b=a.length;for(d=0;d<b;d++)a[d].onclick()})();this.render=function(){return u};this.clear=function(){for(var b=u.children.length,c=0;c<b;c++)a(u.children[c],null,!1)};this.selectAll=function(){for(var a=g.length,c=0;c<a;c++)b(g[c].liParent,
>>>>>>> enhancement-#20
null)}};
