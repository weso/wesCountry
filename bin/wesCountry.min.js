var jSVG=new function(){function a(g){function n(c,e,f,m){e=new a(e);var d;m=JSON.parse(JSON.stringify(m));if(f)for(d in f)m[d]=f[d];d=m;m={};for(var k in d)m[k]=new b(null,k,d[k]);e.attributes(m);c&&c.appendChild(e);return e}var d={width:500,height:500,version:"1.1"},c={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},b=function(b,c,e){this.namespace=b;this.name=c;this.value=e},e={},r={},k="",l=void 0,f=[];this.svg=function(b){b||
(b={});return n(null,"svg",b,d)};this.elementByName=function(b,e){return n(this,b,e,c)};this.g=function(b){return n(this,"g",b,c)};this.path=function(b){return n(this,"path",b,c)};this.rectangle=function(b){return n(this,"rect",b,c)};this.circle=function(b){return n(this,"circle",b,c)};this.line=function(b){return n(this,"line",b,c)};this.text=function(b){var e=n(this,"text",b,c);e.value(b.value);return e};this.a=function(b,e){var f=n(this,"a",b,c);f.attribute("http://www.w3.org/1999/xlink","xlink:href",
e);return f};this.attribute=function(c,f,a){e[f]=new b(c,f,a);return this};this.attributes=function(b){e=b;return this};this.style=function(b){k=b;return this};this.value=function(b){l=b;return this};this.event=function(b,c){r[b]=c;return this};this.width=function(){return e.width.value};this.height=function(){return e.height.value};this.appendChild=function(b){f.push(b)};this.render=function(){var b=document.createElementNS("http://www.w3.org/2000/svg",g),c;for(c in e){var a=e[c];b.setAttributeNS(a.namespace,
a.name,a.value)}b.setAttributeNS(null,"style",k);for(var m in r)b[m]=r[m];for(c=0;c<f.length;c++)b.appendChild(f[c].render());l&&(c=document.createTextNode(l),b.appendChild(c));return b};this.toString=function(){var b="",c;for(c in e)var a=e[c],b=b+String.format(' {0}="{1}"',a.name,a.value);c="";for(a=0;a<f.length;a++)c+=f[a].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',g,"http://www.w3.org/2000/svg",b,k,c,l?l:"")}}return new a};
String.format=function(a){for(var g=1;g<arguments.length;g++)a=a.replace(RegExp("\\{"+(g-1)+"\\}","g"),arguments[g]);return a};String.prototype.toFirstUpperCase=function(){var a=this[0].toUpperCase(),g=this.substr(1);return a+g};"undefined"===typeof exports&&(exports={});if("undefined"===typeof wesCountry)var wesCountry={};
wesCountry.charts=new function(){function a(c,b){if(b instanceof Array)return b;if("object"===typeof b){for(var e in b)c[e]=a(c[e],b[e]);return c}return b}function g(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(c){if(d){var b=c?c:event;c=b.clientX;b=b.clientY;diffX=24;diffY=0;d.style.top=b-2+diffY+document.body.scrollTop+"px";d.style.left=c-2+diffX+document.body.scrollLeft+"px"}}this.defaultOptions={width:600,height:400,chartType:"bar",container:"body",margins:[10,
20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica",
"font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es",
"http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"},tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(c,b,e){c=String.format("Series '{0}': ({1}, {2})",c,b,e);console.log(c);wesCountry.charts.showTooltip(c)},onmouseout:function(){wesCountry.charts.hideTooltip()},onclick:function(){}}};this.sortSeries=
function(c){c.sort(function(b,c){for(var a=b.values,d=c.values,l=Math.max(a.length,d.length),f=0,h=0;h<l;h++)(a[h]?a[h]:0)>(d[h]?d[h]:0)&&f++;return f>=l/2?-1:1});return c};this.getSVG=function(c){return jSVG.svg({width:c.width,height:c.height})};this.showLegend=function(c,b,a){for(var d=a.series.length,k=b.width-0.2*b.marginRight,l=0;l<d;l++){var f=b.marginTop+2.5*(b.legendItemSize+b.barMargin)*l;c.circle({cx:k,cy:f,r:b.legendItemSize}).style(String.format("fill: {0}",a.serieColours[l%a.serieColours.length]));
c.text({x:k-2*b.legendItemSize,y:f,value:a.series[l].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.legend["font-colour"],a.legend["font-family"],a.legend["font-size"]))}};this.mergeOptionsAndDefaultOptions=function(c,b){if(c){"string"===typeof c&&(c={container:c});var e=this.clone(b),d;for(d in c)e[d]=a(e[d],c[d]);c=e}else c=this.clone(b);return c};this.clone=function(c){if(null==c||"object"!=typeof c)return c;var b=c.constructor(),
a;for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);return b};this.setAxisY=function(c,b,a){c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.yAxisMargin,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.yAxis.colour));for(var d=b.ticksY+1,k=0;k<d;k++)c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:b.marginTop+k*b.yTickHeight,y2:b.marginTop+k*b.yTickHeight}).style(String.format("stroke: {0}",a.yAxis.tickColour));for(k=0;k<d;k++)c.text({x:b.marginLeft+
b.yAxisMargin/1.8,y:b.marginTop+k*b.yTickHeight,value:(b.maxValue-k*b.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));d=b.marginLeft;b=b.marginTop+(b.innerHeight-b.xAxisMargin)/2;c.text({x:d,y:b,value:a.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",d,b)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.yAxis["font-colour"],
a.yAxis["font-family"],a.yAxis["font-size"]))};this.setAxisX=function(c,b,a){var d=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(b.maxValue-b.minValue)*(b.innerHeight-b.xAxisMargin);c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",a.xAxis.colour));for(var d=b.maxValueLength,k=0;k<d;k++){var l=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*k;c.line({x1:l,x2:l,y1:b.marginTop,y2:b.innerHeight+
b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.xAxis.tickColour));c.text({x:l,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:a.xAxis.values[k]?a.xAxis.values[k]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}c.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:a.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))};this.getMaxAndMinValuesAxisY=function(a){for(var b=0,d=Number.MAX_VALUE,r=a.series.length,k=null,l=null,f=0,h=0;h<r;h++){k=a.series[h].values.length;k>f&&(f=k);for(var p=0;p<k;p++)l=a.series[h].values[p],l instanceof Array&&(l=l[1]?l[1]:0),l>b&&(b=l),l<d&&(d=l)}!0==a.yAxis["from-zero"]&&0<d&&(d=0);a=this.getNearestNumber(d,b);return{max:a.max,min:a.min,valueLength:f,inc:a.inc}};this.setBackground=function(a,b,d){a.rectangle({x:0,
y:0,width:b.width,height:b.height}).style(String.format("fill: {0}",d.backgroundColour))};this.getNearestNumber=function(a,b){var d;d=b-a;var r=0;15>d?r=1:30>d?r=5:(d=1+Math.floor(Math.log(d)/Math.log(10)),r=Math.pow(10,d-1));d=r;return{max:Math.ceil(b/d)*d,min:Math.floor(a/d)*d,inc:d}};this.guid=function(){return g()+g()+"-"+g()+"-"+g()+"-"+g()+"-"+g()+g()+g()};var d=null;this.createTooltip=function(a){if(!0==a.tooltip.show){if(d=document.getElementById("wesCountryTooltip"),!d){d=document.createElement("span");
d.id="wesCountryTooltip";document.body.appendChild(d);var b="",e;for(e in a.tooltip.style)b+=String.format("{0}:{1};",e,a.tooltip.style[e]);d.setAttribute("style",b)}}else d=null};this.showTooltip=function(a){d&&(n(),d.innerHTML=a,d.style.display="block",window.onscroll=n)};this.hideTooltip=function(){d&&(d.style.display="none")}};
wesCountry.charts.barChart=function(a){function g(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,r=c*d.margins[1]/100,k=b*d.margins[2]/100,l=c*d.margins[3]/100,f=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,p=c-l-r,s=b-e-k,m=wesCountry.charts.getMaxAndMinValuesAxisY(d),t=m.max,u=0<m.min?0:m.min,v=m.valueLength,q=(t-u)/m.inc,m=(p-f)/m.valueLength,g=d.groupMargin*m/100,m=m-2*g,w=m/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:r,marginBottom:k,marginLeft:l,
innerWidth:p,innerHeight:s,yAxisMargin:f,xAxisMargin:h,maxValue:t,minValue:u,maxValueLength:v,ticksY:q,yTickHeight:0!=q?(s-h)/q:0,xTickWidth:m,valueInc:0!=q?(t-u)/q:0,barMargin:x,groupMargin:g,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.yAxis["from-zero"]=!0;a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var n=wesCountry.charts.getSVG(a),d=g(n,a),c=n.g();wesCountry.charts.setBackground(c,
d,a);wesCountry.charts.setAxisY(c,d,a);wesCountry.charts.setAxisX(c,d,a);for(var b=d.maxValueLength,e=a.series.length,r=d.barWidth,k=d.innerHeight-d.xAxisMargin,l=d.minValue/(d.maxValue-d.minValue)*k,f=0;f<b;f++)for(var h=0;h<e;h++){var p=a.series[h].name,s=a.series[h].values[f],m=a.series[h].urls?a.series[h].urls[f]:"",t=a.xAxis.values[h];s||(s=0);var u=d.marginLeft+d.yAxisMargin+d.groupMargin*(2*f+1)+d.barMargin+d.xTickWidth*f+(r+2*d.barMargin)*h,v=0<=s?d.marginTop+d.innerHeight-d.xAxisMargin+l-
s/(d.maxValue-d.minValue)*k:d.marginTop+d.innerHeight-d.xAxisMargin+l,q=Math.abs(s)/(d.maxValue-d.minValue)*k,p={x:u,y:v,width:r,height:q,serie:p,value:s,pos:t},t=String.format("fill: {0}",a.serieColours[h]),q=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},z=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
w=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};m&&""!=m?c.a({},m?m:"").rectangle(p).style(t).event("onmouseover",q).event("onmouseout",z).event("onclick",w):c.rectangle(p).style(t).event("onmouseover",q).event("onmouseout",z).event("onclick",w);!0==a.valueOnItem.show&&c.text({x:u+r/2,y:v-a.height/100*a.valueOnItem.margin,value:s.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]))}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return n}()};wesCountry.charts.lineChart=function(a){return this.generateLineChart(a,!1)};wesCountry.charts.areaChart=function(a){return this.generateLineChart(a,!0)};
wesCountry.charts.generateLineChart=function(a,g){function n(a,b,d,r){return b.marginTop+b.innerHeight-b.xAxisMargin+d-a/(b.maxValue-b.minValue)*r}function d(a,b){var d=a.width(),r=a.height(),k=r*b.margins[0]/100,l=d*b.margins[1]/100,f=r*b.margins[2]/100,h=d*b.margins[3]/100,p=b.yAxis.margin*d/100,s=b.xAxis.margin*r/100,m=d-h-l,t=r-k-f,u=wesCountry.charts.getMaxAndMinValuesAxisY(b),v=u.max,q=u.min,n=u.valueLength;q==v&&(q=0<=q?0:q-2,v+=2);var w=(v-q)/u.inc,u=(m-p)/u.valueLength,g=b.groupMargin*u/
100,u=u-2*g,D=u/b.series.length,y=b.barMargin*D/100;return{width:d,height:r,marginTop:k,marginRight:l,marginBottom:f,marginLeft:h,innerWidth:m,innerHeight:t,yAxisMargin:p,xAxisMargin:s,maxValue:v,minValue:q,maxValueLength:n,ticksY:w,yTickHeight:0!=w?(t-s)/w:0,xTickWidth:u,valueInc:0!=w?(v-q)/w:0,barMargin:y,groupMargin:g,barWidth:D-2*y,legendItemSize:b.legend.itemSize*d/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=
wesCountry.charts.sortSeries(a.series));var c=wesCountry.charts.getSVG(a),b=d(c,a),e=c.g();wesCountry.charts.setBackground(e,b,a);wesCountry.charts.setAxisY(e,b,a);wesCountry.charts.setAxisX(e,b,a);for(var r=a.series.length,k=b.maxValueLength,l=b.innerHeight-b.xAxisMargin,f=b.minValue/(b.maxValue-b.minValue)*l,h=0;h<r;h++){var p="";if(g)var s=e.path();for(var m=Math.max(0,b.minValue),m=n(m,b,f,l),t="l"+wesCountry.charts.guid(),u=0;u<k;u++){var v=a.series[h].values[u],q=0<u?a.series[h].values[u-1]:
0,z=a.series[h].urls?a.series[h].urls[u]:"",w=a.series[h].name,x=a.xAxis.values[u];v||(v=0);q||(q=0);var D=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*u,y=n(v,b,f,l),B=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*(u-1),q=n(q,b,f,l),w={cx:D,cy:y,r:5,"class":t,serie:w,value:v,pos:x},x=String.format("fill: {0}",a.serieColours[h%a.serieColours.length]),A=function(a,b){for(var d=a.getAttribute("class"),d=a.parentNode.querySelectorAll("line."+
d),c=d.length,f=0;f<c;f++)d[f].setAttribute("stroke-width",b)},E=function(){this.setAttribute("r",8);A(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},F=function(){this.setAttribute("r",5);A(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},C=function(){this.setAttribute("r",5);A(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};
z&&""!=z?e.a({},z?z:"").circle(w).style(x).event("onmouseover",E).event("onmouseout",F).event("onclick",C):e.circle(w).style(x).event("onmouseover",E).event("onmouseout",F).event("onclick",C);!0==a.valueOnItem.show&&e.text({x:D,y:y-a.height/100*a.valueOnItem.margin,value:0==v?"0":v.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));0<u?(e.line({x1:B,
x2:D,y1:q,y2:y,"stroke-width":1,"class":t}).style(String.format("stroke: {0}",a.serieColours[h%a.serieColours.length])).event("onmouseover",function(){A(this,2)}).event("onmouseout",function(){A(this,1)}),p+=String.format(" L{0} {1}",D,y)):p=String.format("M{0} {1} L{2} {3}",D,m,D,y)}p+=String.format(" L{0} {1} Z",D,m);g&&s.attribute(null,"d",p).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[h%a.serieColours.length]))}a.legend.show&&wesCountry.charts.showLegend(e,b,a);wesCountry.charts.createTooltip(a);
return c}()};
wesCountry.charts.pieChart=function(a){function g(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,r=c*d.margins[1]/100,k=b*d.margins[2]/100,l=c*d.margins[3]/100,f=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,p=c-l-r,s=b-e-k,m=wesCountry.charts.getMaxAndMinValuesAxisY(d),t=m.max,u=m.min,v=m.valueLength,q=(t-u)/m.inc,m=(p-f)/m.valueLength,g=d.groupMargin*m/100,m=m-2*g,w=m/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:r,marginBottom:k,marginLeft:l,innerWidth:p,
innerHeight:s,yAxisMargin:f,xAxisMargin:h,maxValue:t,minValue:u,maxValueLength:v,ticksY:q,yTickHeight:0!=q?(s-h)/q:0,xTickWidth:m,valueInc:0!=q?(t-u)/q:0,barMargin:x,groupMargin:g,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var n=wesCountry.charts.getSVG(a),d=g(n,a),c=n.g();wesCountry.charts.setBackground(c,d,a);var b=d.maxValueLength;
if(1==b)var e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/2,r=d.innerWidth/2,k=d.innerHeight/2,l=0,f=1;else 2==b?(e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/4,r=d.marginLeft+e,k=d.innerHeight/2,l=d.innerWidth-2*e,f=2):(8<b&&(b=8),e=Math.min(d.innerWidth,d.innerHeight-2*d.xAxisMargin)/4,f=Math.ceil(b/2),r=d.marginLeft+e,k=d.marginTop+e,l=(d.innerWidth-2*f*e)/(f-1)+2*e);for(var h=0;h<b;h++){if(h<f)var p=r+l*h,s=k;else p=b-f,s=(d.innerWidth-2*p*e)/
(p<f?p+1:p-1),l=s+2*e,p=d.marginLeft+(p<f?s:0)+e+l*(h%f),s=d.marginTop+d.innerHeight-d.xAxisMargin-e;c.text({x:p,y:s+e+d.xAxisMargin/2,value:a.xAxis.values[h]?a.xAxis.values[h]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));for(var m=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),
this.getAttribute("value"))},t=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},u=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},v=0,q=0,z=a.series.length,w=0;w<z;w++){var x=Math.abs(a.series[w].values[h]);x||(x=0);0!=x&&q++;v+=x}for(var D=[],w=0;w<z;w++)(x=Math.abs(2*(a.series[w].values[h]/v)*Math.PI))||(x=0),D[w]=x;if(1==
q){for(var y="",q=x=v="",w=0;w<z;w++)if(0!=D[w]){y=a.serieColours[w];v=a.series[w].name;x=Math.abs(a.series[0].values[w]).toFixed(2);q=a.xAxis.values[h];break}c.circle({cx:p,cy:s,r:e,serie:v,value:x,pos:q}).event("onmouseover",m).event("onmouseout",t).event("onclick",u).style(String.format("fill: {0}",y))}else for(w=y=0;w<z;w++){var B=y+D[w],x=Math.abs(a.series[w].values[h]).toFixed(2),v=a.series[w].name,q=a.xAxis.values[h],A=p+e*Math.sin(y),E=s-e*Math.cos(y),F=p+e*Math.sin(B),C=s-e*Math.cos(B),H=
y+(B-y)/2,G=e+e/100*a.valueOnItem.margin,I=p+G*Math.sin(H),H=s-G*Math.cos(H),G=0;B-y>Math.PI&&(G=1);c.path({d:"M "+p+","+s+" L "+A+","+E+" A "+e+","+e+" 0 "+G+" 1 "+F+","+C+" Z",serie:v,value:x,pos:q}).event("onmouseover",m).event("onmouseout",t).event("onclick",u).style(String.format("fill: {0}",a.serieColours[w]));!0==a.valueOnItem.show&&c.text({x:I,y:H,value:x}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],
a.valueOnItem["font-family"],a.valueOnItem["font-size"]));y=B}}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return n}()};
wesCountry.charts.polarChart=function(a){function g(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,r=c*d.margins[1]/100,k=b*d.margins[2]/100,l=c*d.margins[3]/100,f=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,p=c-l-r,s=b-e-k,m=wesCountry.charts.getMaxAndMinValuesAxisY(d),t=m.max,u=0<m.min?0:m.min,v=m.valueLength,q=(t-u)/m.inc,m=(p-f)/m.valueLength,g=d.groupMargin*m/100,m=m-2*g,w=m/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:r,marginBottom:k,marginLeft:l,
innerWidth:p,innerHeight:s,yAxisMargin:f,xAxisMargin:h,maxValue:t,minValue:u,maxValueLength:v,ticksY:q,yTickHeight:0!=q?(s-h)/q:0,xTickWidth:m,valueInc:0!=q?(t-u)/q:0,barMargin:x,groupMargin:g,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var n=wesCountry.charts.getSVG(a),d=g(n,a),c=n.g();wesCountry.charts.setBackground(c,d,a);for(var b=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-
2*d.xAxisMargin)/2,e=d.maxValueLength,r=d.width/2,k=d.height/2,l=[],f=0;f<e;f++)l.push({x:r+b*Math.cos(2*Math.PI*f/e-Math.PI/2),y:k+b*Math.sin(2*Math.PI*f/e-Math.PI/2)});for(f=0;f<e;f++){var h=l[f];c.line({x1:r,y1:k,x2:h.x,y2:h.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}for(f=0;f<e;f++){var h=r+(b+d.xAxisMargin/2)*Math.cos(2*Math.PI*f/e-Math.PI/2),p=k+(b+d.xAxisMargin/2)*Math.sin(2*Math.PI*f/e-Math.PI/2),s=a.xAxis.values[f]?a.xAxis.values[f]:"";c.text({x:h,y:p,value:s}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}for(var m=d.maxValue,t=d.minValue,m=5*Math.ceil(m/5),t=5*Math.floor(t/5),u=b/5,s=(m-t)/5,f=0;5>=f;f++){l=[];h=u*f;c.text({x:r-d.xAxisMargin/2,y:k-h,value:t+f*s}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));for(var v=0;v<e;v++)l.push({x:r+h*Math.cos(2*Math.PI*v/e-Math.PI/2),y:k+h*Math.sin(2*Math.PI*v/e-
Math.PI/2)});for(v=0;v<e;v++){var h=l[v],q=0==v?l[e-1]:l[v-1];c.line({x1:q.x,y1:q.y,x2:h.x,y2:h.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}}q=Math.abs(t/(m-t))*b;u=a.series.length;l=[];for(f=0;f<u;f++)for(l[f]=[],v=0;v<e;v++)(s=a.series[f].values[v])||(s=0),s=0>s?q-Math.abs(s/t)*q:s/m*(b-q)+q,h=r+s*Math.cos(2*Math.PI*v/e-Math.PI/2),p=k+s*Math.sin(2*Math.PI*v/e-Math.PI/2),l[f].push({x:h,y:p});for(var z=function(a,b){for(var d=a.getAttribute("class"),d=a.parentNode.querySelectorAll("line."+
d),c=d.length,f=0;f<c;f++)d[f].setAttribute("stroke-width",b)},b=function(){this.setAttribute("r",8);z(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},r=function(){this.setAttribute("r",5);z(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},k=function(){this.setAttribute("r",5);z(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
f=0;f<u;f++)for(m="l"+wesCountry.charts.guid(),v=0;v<e;v++)h=l[f][v],q=0==v?l[f][e-1]:l[f][v-1],s=a.series[f].values[v],c.circle({cx:h.x,cy:h.y,r:5,serie:a.series[f].name,value:s,pos:a.xAxis.values[v],"class":m}).style(String.format("fill: {0}",a.serieColours[f%a.serieColours.length])).event("onmouseover",b).event("onmouseout",r).event("onclick",k),c.line({x1:q.x,y1:q.y,x2:h.x,y2:h.y,"class":m}).style(String.format("stroke: {0};",a.serieColours[f%a.serieColours.length]));a.legend.show&&wesCountry.charts.showLegend(c,
d,a);wesCountry.charts.createTooltip(a);return n}()};
wesCountry.charts.scatterPlot=function(a){function g(a,c){var b=a.width(),e=a.height(),r=e*c.margins[0]/100,k=b*c.margins[1]/100,l=e*c.margins[2]/100,f=b*c.margins[3]/100,h=c.yAxis.margin*b/100,p=c.xAxis.margin*e/100,s=b-f-k,m=e-r-l,t=wesCountry.charts.getMaxAndMinValuesAxisY(c),u=t.max,v=t.min,q=t.valueLength,g=(u-v)/t.inc,t=(s-h)/t.valueLength,n=c.groupMargin*t/100,t=t-2*n,x=t/c.series.length,D=c.barMargin*x/100;return{width:b,height:e,marginTop:r,marginRight:k,marginBottom:l,marginLeft:f,innerWidth:s,
innerHeight:m,yAxisMargin:h,xAxisMargin:p,maxValue:u,minValue:v,maxValueLength:q,ticksY:g,yTickHeight:0!=g?(m-p)/g:0,xTickWidth:t,valueInc:0!=g?(u-v)/g:0,barMargin:D,groupMargin:n,barWidth:x-2*D,legendItemSize:c.legend.itemSize*b/100}}function n(a,c,b){var e=c.marginTop+c.innerHeight-c.xAxisMargin+c.minValue/(0!=c.maxValue-c.minValue?c.maxValue-c.minValue:1)*(c.innerHeight-c.xAxisMargin);a.line({x1:c.marginLeft+c.yAxisMargin,x2:c.marginLeft+c.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",
b.xAxis.colour));for(var e=0,r=Number.MAX_VALUE,k=b.series.length,l=null,f=null,h=0;h<k;h++)for(var l=b.series[h].values.length,p=0;p<l;p++)f=b.series[h].values[p][0]?b.series[h].values[p][0]:0,f>e&&(e=f),f<r&&(r=f);for(var e=wesCountry.charts.getNearestNumber(r,e),e={max:e.max,min:e.min,inc:e.inc},r=e.max,k=e.min,l=e.valueLength,f=(r-k)/e.inc,h=(c.innerWidth-c.yAxisMargin)/f,p=e.inc,s=f+1,m=0;m<s;m++){var t=c.marginLeft+c.yAxisMargin+h*m;a.line({x1:t,x2:t,y1:c.marginTop,y2:c.innerHeight+c.marginTop-
c.xAxisMargin}).style(String.format("stroke: {0}",b.xAxis.tickColour));a.text({x:t,y:c.marginTop+c.innerHeight-c.xAxisMargin/2,value:k+p*m}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]))}a.text({x:c.marginLeft+c.yAxisMargin+(c.innerWidth-c.yAxisMargin)/2,y:c.marginTop+c.innerHeight+c.xAxisMargin/2,value:b.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]));return{maxAndMinValues:e,maxValue:r,minValue:k,maxValueLength:l,ticksX:f,xTickWidth:h,incX:p}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var d=wesCountry.charts.getSVG(a),c=g(d,a),b=d.g();wesCountry.charts.setBackground(b,c,a);wesCountry.charts.setAxisY(b,c,a);var e=n(b,c,a),r=a.series.length,k=c.innerHeight-c.xAxisMargin,l=c.innerWidth-c.yAxisMargin,f=0;0>=c.minValue&&
0!=c.maxValue-c.minValue&&(f=c.minValue/(c.maxValue-c.minValue)*k);var h=0;0>=e.minValue&&(h=e.xTickWidth*Math.abs(e.minValue));for(var p=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},s=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},m=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},t=0;t<r;t++)for(var u=a.series[t].values,v=u.length,q=0;q<v;q++){var z=u[q][0]?u[q][0]:0,w=0,x=a.series[t].values[q],D=a.series[t].name,y=z;0<q&&(w=u[q-1][0]?u[q-1][0]:0);z||(z=0);w||(w=0);var w=u[q][1]?u[q][1]:0,B=0;0<q&&(B=u[q-1][1]?u[q-1][1]:0);w||(w=0);B||(B=0);b.circle({cx:c.marginLeft+c.yAxisMargin+h+(0==e.maxValue-e.minValue?0:(z-e.minValue)/(e.maxValue-e.minValue))*l,cy:c.marginTop+c.innerHeight-c.xAxisMargin+f-(0==c.maxValue-c.minValue?
1:(w-c.minValue)/(c.maxValue-c.minValue))*k,r:5,serie:D,value:x,pos:y}).style(String.format("fill: {0}",a.serieColours[t%a.serieColours.length])).event("onmouseover",p).event("onmouseout",s).event("onclick",m)}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return d}()};NodeList.prototype.indexOf=function(a){for(var g=0;g<this.length;g++)if(this[g]==a)return g;return-1};
wesCountry.charts.chart=function(a){var g;g="string"!==typeof a.container?a.container:void 0;a.container="string"===typeof a.container?a.container:wesCountry.charts.defaultOptions.container;a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var n;switch(a.chartType.toLowerCase()){case "bar":n=this.barChart(a);break;case "line":n=this.lineChart(a);break;case "pie":n=this.pieChart(a);break;case "area":n=this.areaChart(a)}void 0===g&&(g=document.querySelector(a.container));
g.appendChild(n.render());return g.parentNode};var graphicsItemsSave={series:[],xAxisValues:[]};
wesCountry.charts.multiChart=function(a,g,n){function d(b){var d=l.querySelector(".active").innerHTML.toLowerCase();a.chartType=d;a.container=void 0===b?".chartDiv":b;return wesCountry.charts.chart(a)}function c(a){a.querySelector(".chartDiv").innerHTML="";d(a.querySelector(".chartDiv"))}function b(){for(var a=this.innerHTML,b=this.parentNode.parentNode,d=b.querySelector(".active"),b=b.querySelectorAll(".inactive"),k=b.length,m=0;m<k;m++)b[m].className=a===b[m].innerHTML?"active":"inactive";a!==d.innerHTML&&
(d.className="inactive");c(this.parentNode.parentNode.parentNode.parentNode)}function e(){for(var b=function(a){a=r(a);return{series:wesCountry.charts.clone(graphicsItemsSave.series[a]),xAxisValues:wesCountry.charts.clone(graphicsItemsSave.xAxisValues[a])}}(this),d=this.parentNode.querySelectorAll("input"),k=b.series.length,e=0;e<k;e++)d[e].checked||delete b.series[e];(function(){for(var d=[],c=0;c<k;c++)void 0!==b.series[c]&&d.push(b.series[c]);a.series=d})();a.xAxis.values=b.xAxisValues;c(this.parentNode.parentNode)}
function r(a){a=a.parentNode;return document.querySelectorAll("."+a.className).indexOf(a)}a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);g||void 0===g?(graphicsItemsSave.series.push(wesCountry.charts.clone(a.series)),graphicsItemsSave.xAxisValues.push(wesCountry.charts.clone(a.xAxis.values))):(g=r(n),graphicsItemsSave.series[g]=wesCountry.charts.clone(a.series),graphicsItemsSave.xAxisValues[g]=wesCountry.charts.clone(a.xAxis.values));var k=a.chartType,k=k instanceof
Array?k:[k],l=document.createElement("div");document.querySelector(a.container).appendChild(l);(function(){var a=document.createElement("div");a.className="chartSelector";for(var d=document.createElement("ul"),c=0;c<k.length;c++){var e=document.createElement("li"),m=document.createElement("a");m.className="inactive";m.onclick=b;m.innerHTML=k[c].toFirstUpperCase();e.appendChild(m);d.appendChild(e)}a.appendChild(d);a.querySelector("li a").className="active";l.appendChild(a)})();(function(){var b=document.createElement("div");
b.className="seriesSelector";for(var d=0;d<a.series.length;d++){var c=document.createElement("input"),k=document.createElement("label");c.id=a.series[d].name+"Checkbox"+wesCountry.charts.guid();c.type="checkbox";c.className="checks";c.onchange=e;c.checked=!0;k.for=c.id;k.innerHTML=a.series[d].name;b.appendChild(c);b.appendChild(k)}l.appendChild(b)})();return function(){var a=document.createElement("div");a.className="chartDiv";l.appendChild(a);return d(a)}()};
Element.prototype.insertAfter=function(a){this.parentNode.insertBefore(a,this.nextSibling)};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.data=new function(){var a,g,n;function d(a){this.parseByIndicator=function(){var a=b.indicator=d(function(a,b){return a.year-b.year},"indicatorCode","countryName","value","year");b.indicator=a[0];return a[1]};this.parseByTime=function(){var a=d(void 0,"year","countryName","value","indicatorCode");b.time=a[0];return a[1]};this.parseByRegion=function(){var a=d(function(a,b){return a.year-b.year},"countryName","indicatorCode","value","year");b.region=a[0];return a[1]};var d=function(b,d,c,
k,e){function r(a){return a[d]===D}function l(a){0>h.indexOf(a)&&h.push(a)}for(var h=[],g=new HashTable,n=0;n<a.length;n++){var D=a[n][d];if(!g.hasItem(D)){for(var y=a.filter(r),y=y.sort(b),B=new HashTable,A=0;A<y.length;A++){if(B.hasItem(y[A][c])){var E=B.getItem(y[A][c]);E.push(parseFloat(y[A][k]))}else E=[parseFloat(y[A][k])];B.setItem(y[A][c],E);l(y[A][e])}g.setItem(a[n][d],B)}}return[g,h]}}function c(b){this.byIndicator=function(c){c=b.indicator;a=[];d(c,l.indicator,a)};this.byTime=function(a){a=
b.time;g=[];d(a,l.time,g)};this.byRegion=function(a){a=b.region;n=[];d(a,l.region,n)};var d=function(a,b,d){function c(){var a=this.parentNode.parentNode;f(!1);a.remove()}function f(a){e.series=d[h.selectedIndex];if(1===h.childNodes.length){var b=document.createElement("p");b.innerHTML=g[0];h.parentNode.insertBefore(b,h);h.remove()}a=wesCountry.charts.multiChart(e,a,h);a.insertBefore(l,a.childNodes[0]);B.appendChild(a)}if(null!==a){var l=document.createElement("div");l.className="indicatorSelector";
var h=document.createElement("select");l.appendChild(h);h.onchange=c;for(var g=a.keys(),g=g.array,n=0;n<g.length;n++){for(var x=a.getItem(g[n]).keys().array,D=[],y=0;y<x.length;y++)D.push({name:x[y],values:a.getItem(g[n]).getItem(x[y])});d.push(D);x=document.createElement("option");x.innerHTML=g[n];h.appendChild(x)}var B=document.createElement("div");null===r?document.querySelector(e.container).appendChild(B):"above"===r.toLowerCase()?k.insertAfter(B):"below"===r.toLowerCase()&&k.parentNode.insertBefore(B,
k);e.xAxis.values=b;f()}}}var b={},e={},r=null,k,l={};n=g=a=void 0;this.parseJSON=function(a){e=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a=e.data;l.time=(new d(a)).parseByTime();l.indicator=(new d(a)).parseByIndicator();l.region=(new d(a)).parseByRegion();return this};this.parseTable=function(a,b,d){for(var c=document.querySelectorAll(".graphs"),m=0;m<c.length;m++){k=c[m];for(var e=c[m].querySelectorAll("th"),l=c[m].querySelectorAll("tr"),g=[],n=1;n<l.length;n++){for(var z=
{},w=l[n].querySelectorAll("td"),x=0;x<w.length;x++)z[e[x].className]=w[x].innerHTML;g.push(z)}a.data=g;void 0===a.container&&(r=a.tablePosition);this.parseJSON(a).iterate()[b](d)}};this.iterate=function(){return new c(b)}};"undefined"===typeof wesCountry&&(wesCountry={});wesCountry.table={};
wesCountry.table.pages=new function(){function a(a){for(var b=a.querySelectorAll("tr.empty"),c=b.length,f=0;f<c;f++)b[f].parentNode.removeChild(b[f]);a.numberOfPages=Math.ceil(a.numberOfRows/a.rowsPerPage);var b=a.numberOfPages*a.rowsPerPage,c=0<a.numberOfColumns?a.numberOfColumns:1,e=a.tBodies;if(1<a.numberOfPages&&b>a.numberOfRows&&0<e.length)for(var p=a.numberOfRows;b>p;){var s=document.createElement("tr");s.className="empty";for(f=0;f<c;f++){var m=document.createElement("td");m.innerHTML="&nbsp";
s.appendChild(m)}e[0].appendChild(s);p++}a.selectedPage=1;n(a);a.changePage=g;a.reloadPage=function(){n(this)};d(a)}function g(a){a>this.numberOfPages||1>a||(this.firstShownRow=(a-1)*this.rowsPerPage,this.selectedPage=a,n(this))}function n(a){for(var b=a.firstShownRow,d=a.tBodies,c=0,e=0,p=b+1*a.rowsPerPage-1,g=d.length,m=0,t=0;t<g;t++)for(var u=d[t].rows,n=u.length,q=0;q<n;q++){var z=u[q];z.style.display=!0==(c>=b&&c<=p)?"table-row":"none";z.cells.length>m&&(m=z.cells.length);"empty"!=z.className&&
e++;c++}b=a.selectedPage;d=a.numberOfPages;if(c=a.querySelector("tFoot a.first"))c.className=1<b?"not-number first":"not-number first disabled",c.index=1<b?1:-1;if(c=a.querySelector("tFoot a.previous"))c.className=1<b?"not-number previous":"not-number previous disabled",c.index=1<b?b-1:-1;if(c=a.querySelector("tFoot a.next"))c.className=b<d?"not-number next":"not-number next disabled",c.index=b<d?b+1:-1;if(c=a.querySelector("tFoot a.last"))c.className=b<d?"not-number last":"not-number last disabled",
c.index=b<d?d:-1;d=a.querySelectorAll("tFoot a.number");c=d.length;p=Math.min(a.numberFooterAnchors,c);p=Math.floor(p/2);g=b>p?p:b-1;p=b-g;g=b+(a.numberFooterAnchors-1-g);g>c&&(p-=g-c,g=c);for(t=1;t<=c;t++)d[t-1].className=(t==b?"number selected ":"number ")+(t>=p&&t<=g?"shown":"hidden");b=(b-1)*a.rowsPerPage+1;d=b+a.rowsPerPage-1>a.numberOfRows?a.numberOfRows:b+a.rowsPerPage-1;if(c=a.querySelector("tFoot span.details"))c.innerHTML=b+" - "+d+" of "+a.numberOfRows+" items.";a.numberOfRows=e;a.numberOfColumns=
m}function d(a){var b=a.querySelector("tFoot.pagination");b||(b=document.createElement("tFoot"),b.className="pagination",a.appendChild(b),a.navFooter=b);b.innerHTML="";var c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);b.colSpan=a.numberOfColumns;c=document.createElement("span");c.className="details";b.appendChild(c);c.innerHTML=(0<a.numberOfRows?1:0)+" - "+(a.numberOfRows>a.rowsPerPage?a.rowsPerPage:a.numberOfRows)+" of "+a.numberOfRows+" items.";
c=e(a,"<<","not-number first disabled",-1);b.appendChild(c);c=e(a,"<","not-number previous disabled",-1);b.appendChild(c);for(var d=a.numberOfPages,h=1;h<=d;h++)c=e(a,h,(1==h?"number selected ":"number ")+(h>a.numberFooterAnchors?"hidden":"shown"),h),b.appendChild(c);c=e(a,">",1<d?"not-number next":"not-number next disabled",1<d?2:-1);b.appendChild(c);c=e(a,">>",1<d?"not-number last":"not-number last disabled",1<d?d:-1);b.appendChild(c)}function c(c){var d=c.tHead,e=c.numberOfRows,f=0==e?1:Math.floor(Math.log(e)/
Math.LN10)+1;if(d&&1<f){var h=document.createElement("tr");h.className="select";d.insertBefore(h,d.firstChild);d=document.createElement("th");d.colSpan=c.numberOfColumns;h.appendChild(d);var g=document.createElement("span");g.className="show";d.appendChild(g);g.appendChild(document.createTextNode("Show "));h=document.createElement("select");d.appendChild(h);h.table=c;g=document.createElement("span");g.className="entries";d.appendChild(g);g.appendChild(document.createTextNode(" entries"));f=Math.pow(10,
f-1);for(d=1;4>=d;d++){g=f*d;if(g>e)break;b(h,g,g)}b(h,"all",e);h.onchange=function(){this.table.rowsPerPage=this.options[this.selectedIndex].value;a(this.table);c.changePage(1)}}}function b(a,b,c){var d=document.createElement("option");d.text=b;d.value=c;a.appendChild(d)}function e(a,b,c,d){var e=document.createElement("a");e.className=c;e.table=a;e.index=d;e.onclick=function(){this.table.changePage(this.index)};a=document.createTextNode(b);e.appendChild(a);return e}(function(){for(var b=document.querySelectorAll("table.pages"),
d=b.length,e=0;e<d;e++){var f=b[e];f.isPaged=!0;f.firstShownRow=0;f.numberFooterAnchors=5;for(var h=f.tBodies,d=h.length,g=0,n=0;n<d;n++)g+=h[n].rows.length;f.numberOfRows=g;h=0==f.numberOfRows?1:Math.floor(Math.log(f.numberOfRows)/Math.LN10)+1;f.rowsPerPage=Math.pow(10,h-1);a(f);c(f)}})()};
wesCountry.table.sort=new function(){function a(a){for(var c=a.tHead.rows,b=c.length,e=0;e<b;e++)if("select"!=c[e].className){c[e].className="sorter";for(var n=c[e].cells.length,k=0;k<n;k++){c[e].cells[k].table=a;c[e].cells[k].index=k;c[e].cells[k].sort="empty";var l=new Image;l.className="empty";c[e].cells[k].appendChild(l);c[e].cells[k].onclick=function(){g(this.table,this.index,this)}}}}function g(a,c,b){for(var e=[],g=a.tBodies.length,k=0;k<g;k++)for(var l=a.tBodies[k],f=0;f<l.rows.length;f++)e.push(l.rows[f]);
b.sort="empty"==b.sort||"down"==b.sort?"up":"down";e.sort(function(a,d){if("empty"==a.className||"empty"==d.className)return 1;a=a.cells[c].innerHTML.toString();d=d.cells[c].innerHTML.toString();return a<d?"up"==b.sort?-1:1:a>d?"up"==b.sort?1:-1:0});b.querySelector("img").className=b.sort;l=a.querySelectorAll("tHead tr.sorter th");g=l.length;for(k=0;k<g;k++)k!=c&&n(l[k]);g=a.tHead;for(k=a.tFoot;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(g);k&&a.appendChild(k);l=document.createElement("tbody");
a.appendChild(l);g=e.length;for(k=0;k<g;k++)l.appendChild(e[k]);a.changePage&&a.changePage(1)}function n(a){var c=a.querySelectorAll("img");c&&c.length&&0<c.length&&(c[0].className="empty");a.sort="empty"}(function(){for(var d=document.querySelectorAll("table.sortable"),c=d.length,b=0;b<c;b++)a(d[b])})()};
function SortedArray(){var a=0;this.array=[];for(var g=arguments.length;a<g;)this.insert(arguments[a++]);this.length=0;this.insert=function(a){var d=this.array,c=d.length;d.push(a);for(this.length=this.array.length;c;){a=c;var b=--c;if(d[a]<d[b]){var e=d[a];d[a]=d[b];d[b]=e}}return this};this.get=function(a){return this.array[a]};this.getArray=function(){return this.array};this.uniqueInsert=function(a){-1==this.search(a)&&this.insert(a)};this.search=function(a){for(var d=0,c=this.array,b=c.length;b>
d;){var e=(b+d)/2>>>0,g=c[e];if(g<a)d=e+1;else if(g>a)b=e;else return e}return-1};this.remove=function(a){a=this.search(a);0<=a&&this.array.splice(a,1);this.length=this.array.length;return this}}"undefined"===typeof exports&&(exports={});
var Selector=exports.Selector=function(a,g){function n(a,b,e,f,k){var l=document.createElement("ul");l.className=g["ul-class"];a.sort(function(a,b){return a.label<b.label?-1:a.label>b.label?1:0});for(var p=a.length,r=null,s=!1,y=[],B=0;B<p;B++){var A=a[B],E=A.children&&A.children.length?A.children.length:0,F=document.createElement("li");l.appendChild(F);F.code=A.code;F.liParent=b;F.data=A;F.isSelected=!1;var C=document.createElement("a");C.href="javascript: void(0)";C.value=A.label;-1!=g.selectedItems.indexOf(F.code)&&
(s=!0,y.push(C));null==k&&h.push(C);C.previousSiblingLink=f;C.nextSiblingLink=null;C.parentLink=k;f&&(f.nextSiblingLink=C);0==B&&(r=C);C.className="circleAndText";F.appendChild(C);C.liParent=F;C.onclick=function(a){c(this.liParent,g.callback);a&&a.stopPropagation()};var H=document.createElement("div");H.className=0<E?"plusOrMinus":"hidden-plusOrMinus";H.innerHTML="+";C.appendChild(H);0<E&&(H.onclick=function(a){d(this);a.stopPropagation()});C.plusOrMinus=H;C.onkeydown=function(a){if(13==a.keyCode)return c(this.liParent,
g.callback),a.stopPropagation(),!1;if(38==a.keyCode)return this.previousSiblingLink&&this.previousSiblingLink.focus(),a.stopPropagation(),!1;if(40==a.keyCode)return this.plusOrMinus.opened&&this.firstChildLink?this.firstChildLink.focus():this.nextSiblingLink?this.nextSiblingLink.focus():this.parentLink.nextSiblingLink&&this.parentLink.nextSiblingLink.focus(),a.stopPropagation(),!1;if(37==a.keyCode||39==a.keyCode)return a.stopPropagation(),d(this.plusOrMinus),a.keyCode=9,a.keyCode};var G=document.createElement("div");
G.className="circle";C.appendChild(G);f=document.createElement("div");f.className="title";C.appendChild(f);var I=document.createTextNode(A.label);f.appendChild(I);f=C;0<E&&(E=document.createElement("span"),E.className="empty-counter",G.appendChild(E),I=document.createTextNode("0"),E.appendChild(I),F.counter={div:E,value:0},G=n(A.children,F,e+1,f,C),F.appendChild(G.ul),C.firstChildLink=G.firstChildLink,H.childrenUl=G.ul,!0==G.selected&&(s=!0,H.innerHTML="-"),y=y.concat(G.selectedItems));F.childNumber=
A.children?A.children.length:0}1<e&&!1==s&&(l.style.display="none");return{ul:l,firstChildLink:r,selected:s,selectedItems:y}}function d(a){"+"==a.innerHTML?(a.innerHTML="&#8212;",a.childrenUl&&(a.childrenUl.style.display="block"),a.opened=!0):(a.innerHTML="+",a.childrenUl&&(a.childrenUl.style.display="none"),a.opened=!1)}function c(a,c){var d=!a.isSelected;d&&0<g.maxSelectedItems&&p.length>=g.maxSelectedItems||b(a,c,d)}function b(a,b,c){e(a,c);if(a.liParent){var d=a.liParent.counter.value,d=c?d+1:
d-1;r(a.liParent,d);c?d==a.liParent.childNumber&&(a.liParent.className="selected",a.liParent.isSelected=!0,k(a.liParent.code,!0)):(a.liParent.className="not-selected",a.liParent.isSelected=!1,k(a.liParent.code,!1))}0<a.childNumber&&r(a,c?a.childNumber:0);b&&b.call(a,a.data,p)}function e(a,b){"li"==a.tagName.toLowerCase()&&(a.isSelected=b,a.className=b?"selected":"not-selected",k(a.code,b),a.firstChild.title=a.firstChild.value+(b?" is selected":""));for(var c=a&&a.children&&a.children.length?a.children.length:
0,d=0;d<c;d++)e(a.children[d],b)}function r(a,b){var c=a.counter;c.value=b;c.div.innerHTML=c.value;c.div.className=0<c.value?"counter":"empty-counter";b=a.firstChild.value;a.firstChild.title=b+": "+c.value+(1!=c.value?" selected countries":" selected country")}function k(a,b){a&&(b?p.uniqueInsert(a):p.remove(a))}function l(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var c in b)a[c]=l(a[c],b[c]);return a}return b}var f={"ul-class":"default-selector",callback:null,maxSelectedItems:-1,
selectedItems:[]},h=[],p=new SortedArray,s=null;(function(){var b=g;if(b){"string"===typeof b&&(b={container:b});var c=JSON.parse(JSON.stringify(f)),d;for(d in b)c[d]=l(c[d],b[d]);b=c}else b=JSON.parse(JSON.stringify(f));g=b;b=n(a,null,1,null,null);s=b.ul;b=b.selectedItems;c=b.length;for(d=0;d<c;d++)b[d].onclick()})();this.render=function(){return s};this.clear=function(){for(var a=s.children.length,c=0;c<a;c++)b(s.children[c],null,!1)};this.selectAll=function(){for(var a=h.length,b=0;b<a;b++)c(h[b].liParent,
null)}};
