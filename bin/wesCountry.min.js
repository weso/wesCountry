function HashTable(a){this.length=0;var q={},m=new SortedArray,c;for(c in a)a.hasOwnProperty(c)&&(q[c]=a[c],this.length++);this.setItem=function(b,a){var c=void 0;-1!=m.search(b)?c=q[b]:this.length++;q[b]=a;m.uniqueInsert(b);return c};this.getItem=function(b){return-1!=m.search(b)?q[b]:void 0};this.hasItem=function(b){return-1!=m.search(b)};this.removeItem=function(b){if(-1!=m.search(b))return previous=q[b],this.length--,delete q[b],m.remove(b),previous};this.keys=function(){return m};this.values=
function(){for(var b=[],a,c=0;c<m.getArray().length;c++)a=m.getArray()[c],b.push(q[a]);return b};this.each=function(b){for(var a in m)b(a,q[a])};this.clear=function(){q={};m=new SortedArray;this.length=0}}String.format=function(a){for(var q=1;q<arguments.length;q++)a=a.replace(RegExp("\\{"+(q-1)+"\\}","g"),arguments[q]);return a};
var wesCountry=new function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(b,a){if(a instanceof Array)return a;if("object"===typeof a){for(var c in a)b[c]=q(b[c],a[c]);return b}return a}function m(b){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);a||(a=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(b),a[1]=a[1]+""+a[1],a[2]=a[2]+""+a[2],a[3]=a[3]+""+a[3]);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}function c(b,
a,c){function g(b){b=Math.min(b,255);b=Math.max(b,0);b=b.toString(16);2>b.length&&(b="0"+b);return b}var f={};f.r=b.r+Math.round((a.r-b.r)*(c/100));f.g=b.g+Math.round((a.g-b.g)*(c/100));f.b=b.b+Math.round((a.b-b.b)*(c/100));f.cssColour="#"+g(f.r)+g(f.g)+g(f.b);return f}this.version="1.0.0.0";this.guid=function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};this.mergeOptionsAndDefaultOptions=function(b,a){if(b){"string"===typeof b&&(b={container:b});var c=this.clone(a),g;for(g in b)c[g]=
q(c[g],b[g]);b=c}else b=this.clone(a);return b};this.clone=function(b){if(null==b||"object"!=typeof b)return b;var a=b.constructor(),c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};this.colourRange=function(b,a){if(a<=b.length)return b.slice(0,a);for(var e=a/(b.length-1),g=[],f=0;f<b.length-1;f++)for(var n=m(b[f]),h=m(b[f+1]),k=0;k<e;k++)g.push(c(n,h,100*(k/e)).cssColour);return g}},jSVG=new function(){function a(q){function m(b,c,f,p){c=new a(c);var g;p=JSON.parse(JSON.stringify(p));if(f)for(g in f)p[g]=
f[g];g=p;p={};for(var h in g)p[h]=new d(null,h,g[h]);c.attributes(p);b&&b.appendChild(c);return c}var c={width:500,height:500,version:"1.1"},b={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},d=function(b,a,c){this.namespace=b;this.name=a;this.value=c},e={},g={},f="",n=void 0,h=[];this.svg=function(b){b||(b={});return m(null,"svg",b,c)};this.elementByName=function(a,c){return m(this,a,c,b)};this.g=function(a){return m(this,
"g",a,b)};this.path=function(a){return m(this,"path",a,b)};this.rectangle=function(a){return m(this,"rect",a,b)};this.circle=function(a){return m(this,"circle",a,b)};this.line=function(a){return m(this,"line",a,b)};this.text=function(a){var c=m(this,"text",a,b);c.value(a.value);return c};this.a=function(a,c){var d=m(this,"a",a,b);d.attribute("http://www.w3.org/1999/xlink","xlink:href",c);return d};this.attribute=function(b,a,c){e[a]=new d(b,a,c);return this};this.attributes=function(b){e=b;return this};
this.style=function(b){f=b;return this};this.value=function(b){n=b;return this};this.event=function(b,a){g[b]=a;return this};this.width=function(){return e.width.value};this.height=function(){return e.height.value};this.appendChild=function(b){h.push(b)};this.render=function(){var b=document.createElementNS("http://www.w3.org/2000/svg",q),a;for(a in e){var c=e[a];b.setAttributeNS(c.namespace,c.name,c.value)}b.setAttributeNS(null,"style",f);for(var d in g)b[d]=g[d];for(a=0;a<h.length;a++)b.appendChild(h[a].render());
n&&(a=document.createTextNode(n),b.appendChild(a));return b};this.toString=function(){var b="",a;for(a in e)var c=e[a],b=b+String.format(' {0}="{1}"',c.name,c.value);a="";for(c=0;c<h.length;c++)a+=h[c].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',q,"http://www.w3.org/2000/svg",b,f,a,n?n:"")}}return new a};String.format=function(a){for(var q=1;q<arguments.length;q++)a=a.replace(RegExp("\\{"+(q-1)+"\\}","g"),arguments[q]);return a};
String.prototype.toFirstUpperCase=function(){var a=this[0].toUpperCase(),q=this.substr(1);return a+q};"undefined"===typeof exports&&(exports={});"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.charts=new function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(a){if(m){var b=a?a:event;a=b.clientX;b=b.clientY;diffX=24;diffY=0;m.style.top=b-2+diffY+document.body.scrollTop+"px";m.style.left=a-2+diffX+document.body.scrollLeft+"px"}}this.defaultOptions={width:600,height:400,chartType:"bar",container:"body",margins:[10,20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,
barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica","font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es",
"http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"},
tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(a,b,d){a=String.format("Series '{0}': ({1}, {2})",a,b,d);console.log(a);wesCountry.charts.showTooltip(a)},onmouseout:function(){wesCountry.charts.hideTooltip()},onclick:function(){}},vertex:{show:!0},stroke:{width:1}};this.sortSeries=function(a){a.sort(function(b,a){for(var c=b.values,g=a.values,f=Math.max(c.length,
g.length),n=0,h=0;h<f;h++)(c[h]?c[h]:0)>(g[h]?g[h]:0)&&n++;return n>=f/2?-1:1});return a};this.getSVG=function(a){return jSVG.svg({width:a.width,height:a.height})};this.showLegend=function(a,b,d){for(var e=d.series.length,g=b.width-0.2*b.marginRight,f=0;f<e;f++){var n=b.marginTop+2.5*(b.legendItemSize+b.barMargin)*f;a.circle({cx:g,cy:n,r:b.legendItemSize}).style(String.format("fill: {0}",d.serieColours[f%d.serieColours.length]));a.text({x:g-2*b.legendItemSize,y:n,value:d.series[f].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",
d.legend["font-colour"],d.legend["font-family"],d.legend["font-size"]))}};this.setAxisY=function(a,b,d){a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.yAxisMargin,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",d.yAxis.colour));for(var e=b.ticksY+1,g=0;g<e;g++)a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:b.marginTop+g*b.yTickHeight,y2:b.marginTop+g*b.yTickHeight}).style(String.format("stroke: {0}",d.yAxis.tickColour));
for(g=0;g<e;g++)a.text({x:b.marginLeft+b.yAxisMargin/1.8,y:b.marginTop+g*b.yTickHeight,value:(b.maxValue-g*b.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",d.yAxis["font-colour"],d.yAxis["font-family"],d.yAxis["font-size"]));e=b.marginLeft;b=b.marginTop+(b.innerHeight-b.xAxisMargin)/2;a.text({x:e,y:b,value:d.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",e,b)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
d.yAxis["font-colour"],d.yAxis["font-family"],d.yAxis["font-size"]))};this.setAxisX=function(a,b,d){var e=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(b.maxValue-b.minValue)*(b.innerHeight-b.xAxisMargin);a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",d.xAxis.colour));for(var e=b.maxValueLength,g=0;g<e;g++){var f=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*g;a.line({x1:f,x2:f,y1:b.marginTop,
y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",d.xAxis.tickColour));a.text({x:f,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:d.xAxis.values[g]?d.xAxis.values[g]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]))}a.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:d.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]))};this.getMaxAndMinValuesAxisY=function(a){for(var b=0,d=Number.MAX_VALUE,e=a.series.length,g=null,f=null,n=0,h=0;h<e;h++){g=a.series[h].values.length;g>n&&(n=g);for(var k=0;k<g;k++)f=a.series[h].values[k],f instanceof Array&&(f=f[1]?f[1]:0),f>b&&(b=f),f<d&&(d=f)}!0==a.yAxis["from-zero"]&&0<d&&(d=0);a=this.getNearestNumber(d,b);return{max:a.max,min:a.min,valueLength:n,inc:a.inc}};this.setBackground=function(a,b,d){a.rectangle({x:0,
y:0,width:b.width,height:b.height}).style(String.format("fill: {0}",d.backgroundColour))};this.getNearestNumber=function(a,b){var d;d=b-a;var e=0;15>d?e=1:30>d?e=5:(d=1+Math.floor(Math.log(d)/Math.log(10)),e=Math.pow(10,d-1));d=e;return{max:Math.ceil(b/d)*d,min:Math.floor(a/d)*d,inc:d}};this.guid=function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};var m=null;this.createTooltip=function(a){if(!0==a.tooltip.show){if(m=document.getElementById("wesCountryTooltip"),!m){m=document.createElement("span");
m.id="wesCountryTooltip";document.body.appendChild(m);var b="",d;for(d in a.tooltip.style)b+=String.format("{0}:{1};",d,a.tooltip.style[d]);m.setAttribute("style",b)}}else m=null};this.showTooltip=function(a){m&&(q(),m.innerHTML=a,m.style.display="block",window.onscroll=q)};this.hideTooltip=function(){m&&(m.style.display="none")}};
wesCountry.charts.barChart=function(a){function q(a,c){var b=a.width(),d=a.height(),e=d*c.margins[0]/100,g=b*c.margins[1]/100,f=d*c.margins[2]/100,n=b*c.margins[3]/100,h=c.yAxis.margin*b/100,k=c.xAxis.margin*d/100,l=b-n-g,v=d-e-f,p=wesCountry.charts.getMaxAndMinValuesAxisY(c),r=p.max,u=0<p.min?0:p.min,t=p.valueLength,s=(r-u)/p.inc,p=(l-h)/p.valueLength,q=c.groupMargin*p/100,p=p-2*q,w=p/c.series.length,x=c.barMargin*w/100;return{width:b,height:d,marginTop:e,marginRight:g,marginBottom:f,marginLeft:n,
innerWidth:l,innerHeight:v,yAxisMargin:h,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:t,ticksY:s,yTickHeight:0!=s?(v-k)/s:0,xTickWidth:p,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:q,barWidth:w-2*x,legendItemSize:c.legend.itemSize*b/100}}return function(){a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.yAxis["from-zero"]=!0;a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var m=wesCountry.charts.getSVG(a),c=q(m,a),b=m.g();wesCountry.charts.setBackground(b,
c,a);wesCountry.charts.setAxisY(b,c,a);wesCountry.charts.setAxisX(b,c,a);for(var d=c.maxValueLength,e=a.series.length,g=c.barWidth,f=c.innerHeight-c.xAxisMargin,n=c.minValue/(c.maxValue-c.minValue)*f,h=0;h<d;h++)for(var k=0;k<e;k++){var l=a.series[k].name,v=a.series[k].values[h],p=a.series[k].urls?a.series[k].urls[h]:"",r=a.xAxis.values[k];v||(v=0);var u=c.marginLeft+c.yAxisMargin+c.groupMargin*(2*h+1)+c.barMargin+c.xTickWidth*h+(g+2*c.barMargin)*k,t=0<=v?c.marginTop+c.innerHeight-c.xAxisMargin+n-
v/(c.maxValue-c.minValue)*f:c.marginTop+c.innerHeight-c.xAxisMargin+n,s=Math.abs(v)/(c.maxValue-c.minValue)*f,l={x:u,y:t,width:g,height:s,serie:l,value:v,pos:r},r=String.format("fill: {0}",a.serieColours[k]),s=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},z=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
w=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};p&&""!=p?b.a({},p?p:"").rectangle(l).style(r).event("onmouseover",s).event("onmouseout",z).event("onclick",w):b.rectangle(l).style(r).event("onmouseover",s).event("onmouseout",z).event("onclick",w);!0==a.valueOnItem.show&&b.text({x:u+g/2,y:t-a.height/100*a.valueOnItem.margin,value:v.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]))}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return m}()};wesCountry.charts.lineChart=function(a){return this.generateLineChart(a,!1)};wesCountry.charts.areaChart=function(a){return this.generateLineChart(a,!0)};
wesCountry.charts.generateLineChart=function(a,q){function m(a,c,e,g){return c.marginTop+c.innerHeight-c.xAxisMargin+e-a/(c.maxValue-c.minValue)*g}function c(a,c){var e=a.width(),g=a.height(),f=g*c.margins[0]/100,n=e*c.margins[1]/100,h=g*c.margins[2]/100,k=e*c.margins[3]/100,l=c.yAxis.margin*e/100,m=c.xAxis.margin*g/100,p=e-k-n,r=g-f-h,u=wesCountry.charts.getMaxAndMinValuesAxisY(c),t=u.max,s=u.min,q=u.valueLength;s==t&&(s=0<=s?0:s-2,t+=2);var w=(t-s)/u.inc,u=(p-l)/u.valueLength,x=c.groupMargin*u/
100,u=u-2*x,B=u/c.series.length,y=c.barMargin*B/100;return{width:e,height:g,marginTop:f,marginRight:n,marginBottom:h,marginLeft:k,innerWidth:p,innerHeight:r,yAxisMargin:l,xAxisMargin:m,maxValue:t,minValue:s,maxValueLength:q,ticksY:w,yTickHeight:0!=w?(r-m)/w:0,xTickWidth:u,valueInc:0!=w?(t-s)/w:0,barMargin:y,groupMargin:x,barWidth:B-2*y,legendItemSize:c.legend.itemSize*e/100}}return function(){a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));
var b=wesCountry.charts.getSVG(a),d=c(b,a),e=b.g();wesCountry.charts.setBackground(e,d,a);wesCountry.charts.setAxisY(e,d,a);wesCountry.charts.setAxisX(e,d,a);for(var g=a.series.length,f=d.maxValueLength,n=d.innerHeight-d.xAxisMargin,h=d.minValue/(d.maxValue-d.minValue)*n,k=0;k<g;k++){var l="";if(q)var v=e.path();for(var p=Math.max(0,d.minValue),p=m(p,d,h,n),r="l"+wesCountry.charts.guid(),u=0;u<f;u++){var t=a.series[k].values[u],s=0<u?a.series[k].values[u-1]:0,z=a.series[k].urls?a.series[k].urls[u]:
"",w=a.series[k].name,x=a.xAxis.values[u];t||(t=0);s||(s=0);var B=d.marginLeft+d.yAxisMargin+d.groupMargin+d.xTickWidth/2+(d.xTickWidth+2*d.groupMargin)*u,y=m(t,d,h,n),C=d.marginLeft+d.yAxisMargin+d.groupMargin+d.xTickWidth/2+(d.xTickWidth+2*d.groupMargin)*(u-1),s=m(s,d,h,n),w={cx:B,cy:y,r:5,"class":r,serie:w,value:t,pos:x},x=String.format("fill: {0}",a.serieColours[k%a.serieColours.length]),D=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+c),g=c.length,f=
0;f<g;f++)c[f].setAttribute("stroke-width",b)},G=function(){this.setAttribute("r",8);D(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},E=function(){this.setAttribute("r",5);D(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},A=function(){this.setAttribute("r",5);D(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};a.vertex.show&&
(z&&""!=z?e.a({},z?z:"").circle(w).style(x).event("onmouseover",G).event("onmouseout",E).event("onclick",A):e.circle(w).style(x).event("onmouseover",G).event("onmouseout",E).event("onclick",A));!0==a.valueOnItem.show&&e.text({x:B,y:y-a.height/100*a.valueOnItem.margin,value:0==t?"0":t.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));0<u?(e.line({x1:C,
x2:B,y1:s,y2:y,"stroke-width":a.stroke.width,"class":r}).style(String.format("stroke: {0}",a.serieColours[k%a.serieColours.length])).event("onmouseover",function(){D(this,1.5*a.stroke.width)}).event("onmouseout",function(){D(this,a.stroke.width)}),l+=String.format(" L{0} {1}",B,y)):l=String.format("M{0} {1} L{2} {3}",B,p,B,y)}l+=String.format(" L{0} {1} Z",B,p);q&&v.attribute(null,"d",l).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[k%a.serieColours.length]))}a.legend.show&&
wesCountry.charts.showLegend(e,d,a);wesCountry.charts.createTooltip(a);return b}()};
wesCountry.charts.pieChart=function(a){function q(a,c){var b=a.width(),d=a.height(),e=d*c.margins[0]/100,g=b*c.margins[1]/100,f=d*c.margins[2]/100,n=b*c.margins[3]/100,h=c.yAxis.margin*b/100,k=c.xAxis.margin*d/100,l=b-n-g,v=d-e-f,p=wesCountry.charts.getMaxAndMinValuesAxisY(c),r=p.max,u=p.min,t=p.valueLength,s=(r-u)/p.inc,p=(l-h)/p.valueLength,q=c.groupMargin*p/100,p=p-2*q,w=p/c.series.length,x=c.barMargin*w/100;return{width:b,height:d,marginTop:e,marginRight:g,marginBottom:f,marginLeft:n,innerWidth:l,
innerHeight:v,yAxisMargin:h,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:t,ticksY:s,yTickHeight:0!=s?(v-k)/s:0,xTickWidth:p,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:q,barWidth:w-2*x,legendItemSize:c.legend.itemSize*b/100}}return function(){a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var m=wesCountry.charts.getSVG(a),c=q(m,a),b=m.g();wesCountry.charts.setBackground(b,c,a);var d=c.maxValueLength;
if(1==d)var e=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/2,g=c.innerWidth/2,f=c.innerHeight/2,n=0,h=1;else 2==d?(e=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/4,g=c.marginLeft+e,f=c.innerHeight/2,n=c.innerWidth-2*e,h=2):(8<d&&(d=8),e=Math.min(c.innerWidth,c.innerHeight-2*c.xAxisMargin)/4,h=Math.ceil(d/2),g=c.marginLeft+e,f=c.marginTop+e,n=(c.innerWidth-2*h*e)/(h-1)+2*e);for(var k=0;k<d;k++){if(k<h)var l=g+n*k,v=f;else l=d-h,v=(c.innerWidth-2*l*e)/
(l<h?l+1:l-1),n=v+2*e,l=c.marginLeft+(l<h?v:0)+e+n*(k%h),v=c.marginTop+c.innerHeight-c.xAxisMargin-e;b.text({x:l,y:v+e+c.xAxisMargin/2,value:a.xAxis.values[k]?a.xAxis.values[k]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));for(var p=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),
this.getAttribute("value"))},r=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},u=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},t=0,s=0,z=a.series.length,w=0;w<z;w++){var x=Math.abs(a.series[w].values[k]);x||(x=0);0!=x&&s++;t+=x}for(var B=[],w=0;w<z;w++)(x=Math.abs(2*(a.series[w].values[k]/t)*Math.PI))||(x=0),B[w]=x;if(1==
s){for(var y="",s=x=t="",w=0;w<z;w++)if(0!=B[w]){y=a.serieColours[w];t=a.series[w].name;x=Math.abs(a.series[0].values[w]).toFixed(2);s=a.xAxis.values[k];break}b.circle({cx:l,cy:v,r:e,serie:t,value:x,pos:s}).event("onmouseover",p).event("onmouseout",r).event("onclick",u).style(String.format("fill: {0}",y))}else for(w=y=0;w<z;w++){var C=y+B[w],x=Math.abs(a.series[w].values[k]).toFixed(2),t=a.series[w].name,s=a.xAxis.values[k],D=l+e*Math.sin(y),G=v-e*Math.cos(y),E=l+e*Math.sin(C),A=v-e*Math.cos(C),H=
y+(C-y)/2,F=e+e/100*a.valueOnItem.margin,J=l+F*Math.sin(H),H=v-F*Math.cos(H),F=0;C-y>Math.PI&&(F=1);b.path({d:"M "+l+","+v+" L "+D+","+G+" A "+e+","+e+" 0 "+F+" 1 "+E+","+A+" Z",serie:t,value:x,pos:s}).event("onmouseover",p).event("onmouseout",r).event("onclick",u).style(String.format("fill: {0}",a.serieColours[w]));!0==a.valueOnItem.show&&b.text({x:J,y:H,value:x}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],
a.valueOnItem["font-family"],a.valueOnItem["font-size"]));y=C}}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return m}()};
wesCountry.charts.polarChart=function(a){function q(a,c){var b=a.width(),d=a.height(),e=d*c.margins[0]/100,g=b*c.margins[1]/100,f=d*c.margins[2]/100,n=b*c.margins[3]/100,h=c.yAxis.margin*b/100,k=c.xAxis.margin*d/100,l=b-n-g,v=d-e-f,p=wesCountry.charts.getMaxAndMinValuesAxisY(c),r=p.max,u=0<p.min?0:p.min,t=p.valueLength,s=(r-u)/p.inc,p=(l-h)/p.valueLength,q=c.groupMargin*p/100,p=p-2*q,w=p/c.series.length,x=c.barMargin*w/100;return{width:b,height:d,marginTop:e,marginRight:g,marginBottom:f,marginLeft:n,
innerWidth:l,innerHeight:v,yAxisMargin:h,xAxisMargin:k,maxValue:r,minValue:u,maxValueLength:t,ticksY:s,yTickHeight:0!=s?(v-k)/s:0,xTickWidth:p,valueInc:0!=s?(r-u)/s:0,barMargin:x,groupMargin:q,barWidth:w-2*x,legendItemSize:c.legend.itemSize*b/100}}return function(){a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var m=wesCountry.charts.getSVG(a),c=q(m,a),b=m.g();wesCountry.charts.setBackground(b,c,a);for(var d=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/
2,e=c.maxValueLength,g=c.width/2,f=c.height/2,n=[],h=0;h<e;h++)n.push({x:g+d*Math.cos(2*Math.PI*h/e-Math.PI/2),y:f+d*Math.sin(2*Math.PI*h/e-Math.PI/2)});for(h=0;h<e;h++){var k=n[h];b.line({x1:g,y1:f,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}for(h=0;h<e;h++){var k=g+(d+c.xAxisMargin/2)*Math.cos(2*Math.PI*h/e-Math.PI/2),l=f+(d+c.xAxisMargin/2)*Math.sin(2*Math.PI*h/e-Math.PI/2),v=a.xAxis.values[h]?a.xAxis.values[h]:"";b.text({x:k,y:l,value:v}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}for(var p=c.maxValue,r=c.minValue,p=5*Math.ceil(p/5),r=5*Math.floor(r/5),u=d/5,v=(p-r)/5,h=0;5>=h;h++){n=[];k=u*h;b.text({x:g-c.xAxisMargin/2,y:f-k,value:r+h*v}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));for(var t=0;t<e;t++)n.push({x:g+k*Math.cos(2*Math.PI*t/e-Math.PI/2),y:f+k*Math.sin(2*Math.PI*t/e-
Math.PI/2)});for(t=0;t<e;t++){var k=n[t],s=0==t?n[e-1]:n[t-1];b.line({x1:s.x,y1:s.y,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}}s=Math.abs(r/(p-r))*d;u=a.series.length;n=[];for(h=0;h<u;h++)for(n[h]=[],t=0;t<e;t++)(v=a.series[h].values[t])||(v=0),v=0>v?s-Math.abs(v/r)*s:v/p*(d-s)+s,k=g+v*Math.cos(2*Math.PI*t/e-Math.PI/2),l=f+v*Math.sin(2*Math.PI*t/e-Math.PI/2),n[h].push({x:k,y:l});for(var z=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),f=c.length,g=0;g<f;g++)c[g].setAttribute("stroke-width",b)},d=function(){this.setAttribute("r",8);z(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},g=function(){this.setAttribute("r",5);z(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},f=function(){this.setAttribute("r",5);z(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
h=0;h<u;h++){p="l"+wesCountry.charts.guid();r="";for(t=0;t<e;t++){var k=n[h][t],s=0==t?n[h][e-1]:n[h][t-1],v=a.series[h].values[t],l=a.series[h].name,w=a.xAxis.values[t];a.vertex.show&&b.circle({cx:k.x,cy:k.y,r:5,serie:l,value:v,pos:w,"class":p}).style(String.format("fill: {0}",a.serieColours[h%a.serieColours.length])).event("onmouseover",d).event("onmouseout",g).event("onclick",f);b.line({x1:s.x,y1:s.y,x2:k.x,y2:k.y,"class":p}).style(String.format("stroke: {0};",a.serieColours[h%a.serieColours.length]));
r+=String.format("{0}{1} {2}",0==t?"M":"L",k.x,k.y)}0<u&&(k=n[h][0],r+=String.format(" L{0} {1} Z",k.x,k.y),b.path({d:r}).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[h%a.serieColours.length])))}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return m}()};
wesCountry.charts.scatterPlot=function(a){function q(a,b){var d=a.width(),e=a.height(),g=e*b.margins[0]/100,f=d*b.margins[1]/100,n=e*b.margins[2]/100,h=d*b.margins[3]/100,k=b.yAxis.margin*d/100,l=b.xAxis.margin*e/100,m=d-h-f,p=e-g-n,r=wesCountry.charts.getMaxAndMinValuesAxisY(b),u=r.max,t=r.min,s=r.valueLength,q=(u-t)/r.inc,r=(m-k)/r.valueLength,w=b.groupMargin*r/100,r=r-2*w,x=r/b.series.length,B=b.barMargin*x/100;return{width:d,height:e,marginTop:g,marginRight:f,marginBottom:n,marginLeft:h,innerWidth:m,
innerHeight:p,yAxisMargin:k,xAxisMargin:l,maxValue:u,minValue:t,maxValueLength:s,ticksY:q,yTickHeight:0!=q?(p-l)/q:0,xTickWidth:r,valueInc:0!=q?(u-t)/q:0,barMargin:B,groupMargin:w,barWidth:x-2*B,legendItemSize:b.legend.itemSize*d/100}}function m(a,b,d){var e=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(0!=b.maxValue-b.minValue?b.maxValue-b.minValue:1)*(b.innerHeight-b.xAxisMargin);a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",
d.xAxis.colour));for(var e=0,g=Number.MAX_VALUE,f=d.series.length,n=null,h=null,k=0;k<f;k++)for(var n=d.series[k].values.length,l=0;l<n;l++)h=d.series[k].values[l][0]?d.series[k].values[l][0]:0,h>e&&(e=h),h<g&&(g=h);for(var e=wesCountry.charts.getNearestNumber(g,e),e={max:e.max,min:e.min,inc:e.inc},g=e.max,f=e.min,n=e.valueLength,h=(g-f)/e.inc,k=(b.innerWidth-b.yAxisMargin)/h,l=e.inc,m=h+1,p=0;p<m;p++){var r=b.marginLeft+b.yAxisMargin+k*p;a.line({x1:r,x2:r,y1:b.marginTop,y2:b.innerHeight+b.marginTop-
b.xAxisMargin}).style(String.format("stroke: {0}",d.xAxis.tickColour));a.text({x:r,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:f+l*p}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]))}a.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:d.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
d.xAxis["font-colour"],d.xAxis["font-family"],d.xAxis["font-size"]));return{maxAndMinValues:e,maxValue:g,minValue:f,maxValueLength:n,ticksX:h,xTickWidth:k,incX:l}}return function(){a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var c=wesCountry.charts.getSVG(a),b=q(c,a),d=c.g();wesCountry.charts.setBackground(d,b,a);wesCountry.charts.setAxisY(d,b,a);var e=m(d,b,a),g=a.series.length,f=b.innerHeight-b.xAxisMargin,n=b.innerWidth-b.yAxisMargin,h=0;0>=b.minValue&&0!=b.maxValue-
b.minValue&&(h=b.minValue/(b.maxValue-b.minValue)*f);var k=0;0>=e.minValue&&(k=e.xTickWidth*Math.abs(e.minValue));for(var l=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},v=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},p=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},r=0;r<g;r++)for(var u=a.series[r].values,t=u.length,s=0;s<t;s++){var z=u[s][0]?u[s][0]:0,w=0,x=a.series[r].values[s],B=a.series[r].name,y=z;0<s&&(w=u[s-1][0]?u[s-1][0]:0);z||(z=0);w||(w=0);var w=u[s][1]?u[s][1]:0,C=0;0<s&&(C=u[s-1][1]?u[s-1][1]:0);w||(w=0);C||(C=0);d.circle({cx:b.marginLeft+b.yAxisMargin+k+(0==e.maxValue-e.minValue?0:(z-e.minValue)/(e.maxValue-e.minValue))*n,cy:b.marginTop+b.innerHeight-b.xAxisMargin+h-(0==b.maxValue-b.minValue?
1:(w-b.minValue)/(b.maxValue-b.minValue))*f,r:5,serie:B,value:x,pos:y}).style(String.format("fill: {0}",a.serieColours[r%a.serieColours.length])).event("onmouseover",l).event("onmouseout",v).event("onclick",p)}a.legend.show&&wesCountry.charts.showLegend(d,b,a);wesCountry.charts.createTooltip(a);return c}()};NodeList.prototype.indexOf=function(a){for(var q=0;q<this.length;q++)if(this[q]==a)return q;return-1};
wesCountry.charts.chart=function(a){var q;q="string"!==typeof a.container?a.container:void 0;a.container="string"===typeof a.container?a.container:wesCountry.charts.defaultOptions.container;a=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var m;switch(a.chartType?a.chartType.toLowerCase():"bar"){case "bar":m=this.barChart(a);break;case "line":m=this.lineChart(a);break;case "pie":m=this.pieChart(a);break;case "area":m=this.areaChart(a);break;case "scatter":m=this.scatterPlot(a);
break;case "polar":m=this.polarChart(a)}void 0===q&&(q=document.querySelector(a.container));q.appendChild(m.render());return q.parentNode};var optionsSave=[],pushIndex=optionsSave.length;wesCountry.charts.multiChartRemoveData=function(a,q){optionsSave.splice(a,q)};wesCountry.charts.setPushIndex=function(a){pushIndex="length"===a?optionsSave.length:a};
wesCountry.charts.multiChart=function(a,q,m){function c(a){var b="bar",c=k.querySelector(".active");c&&c.innerHTML&&(b=c.innerHTML.toLowerCase());options.chartType=b;options.container=void 0===a?".chartDiv":a;return wesCountry.charts.chart(options)}function b(a){a.querySelector(".chartDiv").innerHTML="";c(a.querySelector(".chartDiv"))}function d(){for(var a=this.innerHTML,c=this.parentNode.parentNode,f=c.querySelector(".active"),c=c.querySelectorAll(".inactive"),d=c.length,h=0;h<d;h++)c[h].className=
a===c[h].innerHTML?"active":"inactive";a!==f.innerHTML&&(f.className="inactive");a=this.parentNode.parentNode.parentNode.parentNode;f=g(this.parentNode.parentNode);options.series=f.series;options.xAxis.values=f.xAxisValues;b(a)}function e(){for(var a=g(this),c=this.parentNode.querySelectorAll("input"),f=a.series.length,d=0;d<f;d++)c[d].checked||delete a.series[d];c=[];for(d=0;d<f;d++)void 0!==a.series[d]&&c.push(a.series[d]);options.series=c;options.xAxis.values=a.xAxisValues;b(this.parentNode.parentNode)}
function g(a){a=f(a);return{series:wesCountry.clone(optionsSave[a].series),xAxisValues:wesCountry.clone(optionsSave[a].xAxis.values)}}function f(a){a=a.parentNode;return document.querySelectorAll("."+a.className).indexOf(a)}var n=a.container;a.container="body";options=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);options.container=n;a.container=n;q||void 0===q?(a=wesCountry.clone(options),a.xAxis=wesCountry.clone(options.xAxis),optionsSave.splice(pushIndex,0,a),wesCountry.charts.setPushIndex("length")):
(a=f(m),optionsSave[a].series=wesCountry.clone(options.series),options.xAxis=wesCountry.clone(options.xAxis));var h=options.chartType,h=h instanceof Array?h:[h],k=document.createElement("div");"string"===typeof options.container?document.querySelector(options.container).appendChild(k):options.container.appendChild(k);(function(){var a=document.createElement("div");a.className="chartSelector";for(var b=document.createElement("ul"),c=0;c<h.length;c++){var f=document.createElement("li"),g=document.createElement("a");
g.className="inactive";g.onclick=d;g.innerHTML=h[c].toFirstUpperCase();f.appendChild(g);b.appendChild(f)}a.appendChild(b);a.querySelector("li a").className="active";k.appendChild(a);1>=h.length&&(a.style.display="none")})();(function(){var a=document.createElement("div");a.className="seriesSelector";for(var b=0;b<options.series.length;b++){var c=document.createElement("input"),f=document.createElement("label");c.id=options.series[b].name+"Checkbox"+wesCountry.charts.guid();c.type="checkbox";c.className=
"checks";c.onchange=e;c.checked=!0;f.for=c.id;f.innerHTML=options.series[b].name;a.appendChild(c);a.appendChild(f)}k.appendChild(a)})();return function(){var a=document.createElement("div");a.className="chartDiv";k.appendChild(a);return c(a)}()};Element.prototype.insertAfter=function(a){this.parentNode.insertBefore(a,this.nextSibling)};Array.prototype.pushIfNotExist=function(a){0>this.indexOf(a)&&this.push(a)};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.data=new function(){var a,q,m,c,b,d;function e(a){this.parseByIndicator=function(){var a=c(b,"indicatorCode","countryName","value","year");f.indicator=a[0];return a[1]};this.parseByTime=function(){var a=c(void 0,"year","countryName","value","indicatorCode");f.time=a[0];return a[1]};this.parseByRegion=function(){var a=c(b,"countryName","indicatorCode","value","year");f.region=a[0];return a[1]};this.parseByIndicatorAndTime=function(){var a=c(b,"indicatorCode","year","value","countryName");
f.indicatorAndTime=a[0];return a[1]};this.parseByIndicatorAndRegion=function(){var a=c(b,"indicatorCode","countryName","value","year");f.indicatorAndRegion=a[0];return a[1]};this.parseByTimeAndRegion=function(){var a=c(b,"year","countryName","value","indicatorCode");f.timeAndRegion=a[0];return a[1]};var b=function(a,b){return a.year-b.year},c=function(b,c,f,g,d){function h(a){return a[c]===q}function e(a){0>k.indexOf(a)&&k.push(a)}function n(b,c){for(var f=0;f<a.length;f++)c.pushIfNotExist(a[f][b])}
var k=[],l=new HashTable;n("year",v);n("countryName",r);n("indicatorCode",p);for(var m=0;m<a.length;m++){var q=a[m][c];if(!l.hasItem(q)){for(var t=a.filter(h),t=t.sort(b),s=new HashTable,I=0;I<t.length;I++){if(s.hasItem(t[I][f])){var K=s.getItem(t[I][f]);K.push(parseFloat(t[I][g]))}else K=[parseFloat(t[I][g])];s.setItem(t[I][f],K);e(t[I][d])}l.setItem(a[m][c],s)}}return[l,k]}}function g(f){function g(a){var b,c,f,d,h;this.createSelect=function(c,f){b=document.createElement("select");c.appendChild(b);
b.onchange=this.onIndicatorChanged;b.className=a;for(var g=0;g<f.length;g++){var d=document.createElement("option");d.innerHTML=f[g];b.appendChild(d)}};this.drawSelectedIndicator=function(a,b,g,p,n,k,l){c=g;f=p;d=n;h=k;e(a,l)};var e=function(a,g){n.series=c[a];if(1>=b.options.length){var e=document.createElement("p");e.innerHTML=h[0];b.parentNode.insertBefore(e,b);b.style.display="none"}e=wesCountry.charts.multiChart(n,g,b);e.insertBefore(f,e.childNodes[0]);d.appendChild(e)};this.onIndicatorChanged=
function(){var a=this.parentNode.parentNode;e(b.selectedIndex,!1);a.remove()};this.putSeriesByIndicator=function(a,b,c,f,g,d,h){a:{for(var e=0;e<h.length;e++)if(h[e]===d){h=e;break a}h=void 0}for(e=0;e<f.length;e++)void 0!==d?b.push({name:f[e],values:[a.getItem(c[g]).getItem(f[e])[h]]}):b.push({name:f[e],values:a.getItem(c[g]).getItem(f[e])})};this.by=(new y).by}function e(a,b){var c,f,g,d,h,p,k;this.createSelect=function(g,d,h){c=document.createElement("select");f=document.createElement("select");
c.className=a;f.className=b;g.appendChild(c);g.appendChild(f);c.onchange=this.onIndicatorChanged;f.onchange=this.onIndicatorChanged;for(g=0;g<d.length;g++){var e=document.createElement("option");e.innerHTML=d[g];c.appendChild(e)}for(g=0;g<h.length;g++)e=document.createElement("option"),e.innerHTML=h[g],f.appendChild(e)};this.drawSelectedIndicator=function(a,b,e,n,r,m,u,C){g=e;d=n;h=r;p=m;k=u;1>=c.options.length&&(e=document.createElement("p"),e.innerHTML=p[0],c.parentNode.insertBefore(e,c),c.style.display=
"none");1>=f.options.length&&(e=document.createElement("p"),e.innerHTML=k[0],f.parentNode.insertBefore(e,f),f.style.display="none");l(a,b,C)};var l=function(a,b,f){n.series=g[a][b];a=wesCountry.charts.multiChart(n,f,c);a.insertBefore(d,a.childNodes[0]);h.appendChild(a)};this.onIndicatorChanged=function(){var a=this.parentNode.parentNode;l(c.selectedIndex,f.selectedIndex,!1);a.remove()};this.putSeriesByIndicator=function(a,b,c,f,g,d,e){a:{for(var h=0;h<e.length;h++)if(e[h]===d){e=h;break a}e=void 0}for(h=
0;h<f.length;h++)void 0!==d?(b[h]=[],b[h].push({name:f[h],values:[a.getItem(c[g]).getItem(f[h])[e]]})):(b[h]=[],b[h].push({name:f[h],values:a.getItem(c[g]).getItem(f[h])}))};this.by=(new y).by}function z(a,b){var c,f,g;this.createSelect=function(){};this.drawSelectedIndicator=function(a,b,h,d,e,p,k,l){c=h;f=d;g=e;n.series=c[a][b];a=wesCountry.charts.multiChart(n,l,void 0);a.insertBefore(f,a.childNodes[0]);g.appendChild(a)};this.putSeriesByIndicator=function(c,f,g,h,d,e,p){for(var n=function(){for(var a=
0;a<p.length;a++)if(p[a]===e)return a}(),k=0;k<h.length;k++)void 0!==e?(f[k]=[],f[k].push({name:h[k],values:[c.getItem(g[d]).getItem(h[k])[n]]})):(f[k]=[],f[k].push({name:h[k],values:c.getItem(g[d]).getItem(h[k])}));var l;"max"===b?l=function(a,b){return a<b}:"min"===b&&(l=function(a,b){return a>b});c=f[0][0].values;for(d=0;d<c.length;d++)for(f=c.length;f>d;f--)l(c[d],c[f])&&(g=c[d],c[d]=c[f],c[f]=g,g=p[d],p[d]=p[f],p[f]=g);c=c.slice(0,a)};this.by=(new y).by}function w(){var a,b,c,f,g,d,h;this.createSelect=
function(a,b,c){var k=document.createElement("p");k.innerHTML=b[0];a.appendChild(k);b=document.createElement("p");b.innerHTML=c[0];a.appendChild(b);c=document.createElement("div");a.appendChild(c);d=document.createElement("button");d.innerHTML=String.fromCharCode(8656);d.disabled=!0;d.onclick=p;a.appendChild(d);g=document.createElement("div");g.innerHTML=f[0];c.appendChild(g);h=document.createElement("button");h.innerHTML=String.fromCharCode(8658);h.onclick=e;a.appendChild(h)};var e=function(){k.bind(this)(1)},
p=function(){k.bind(this)(-1)},k=function(a){a=f.indexOf(g.innerHTML)+a;g.innerHTML=f[a];var b=this.parentNode.parentNode;n(0,a,!1);b.remove();a+1>=f.length?(h.disabled=!0,d.disabled=!1):0>=a?(h.disabled=!1,d.disabled=!0):(h.disabled=!1,d.disabled=!1)};this.drawSelectedIndicator=function(f,g,d,h,e,p,k,l){a=d;b=h;c=e;n(f,g,l)};var n=function(f,g,d){d=document.createElement("p");d.innerHTML=a[f][g][0].values[0];d.insertBefore(b,d.childNodes[0]);c.appendChild(d)};this.putSeriesByIndicator=function(a,
b,c,g,d,h,e){for(h=0;h<e.length;h++)b[h]=[],b[h].push({name:g[0],values:[a.getItem(c[d]).getItem(g[0])[h]]});f=e};this.by=(new y).by}function x(){var a;this.createSelect=function(){};this.drawSelectedIndicator=function(c,f,g,d,h,e,p,k){a=g;b(c,f,k)};var b=function(b,c,f){b=a[0][0][0].values;var g={};g.sum=b.reduce(function(a,b){return a+b});g.average=g.sum/b.length;g.max=b.reduce(function(a,b){return a>b?a:b});g.min=b.reduce(function(a,b){return a<b?a:b});b.sort();g.median=0==b.length%2?(b[b.length/
2]+b[b.length/2-1])/2:b[(b.length-1)/2];(function(){var a=document.createElement("table"),b=document.createElement("thead");a.appendChild(b);var c=document.createElement("tr");b.appendChild(c);for(var f=["Statistical aggregate","Value"],d=0;d<f.length;d++)b=document.createElement("td"),b.innerHTML=f[d],c.appendChild(b);f=document.createElement("tbody");a.appendChild(f);for(var h in g)c=document.createElement("tr"),f.appendChild(c),b=document.createElement("td"),b.innerHTML=h,c.appendChild(b),b=document.createElement("td"),
b.innerHTML=g[h],c.appendChild(b);("string"===typeof n.container?document.querySelector(n.container):n.container).appendChild(a)})()};this.putSeriesByIndicator=function(a,b,c,f,g,d,h){a:{for(var e=0;e<h.length;e++)if(h[e]===d){h=e;break a}h=void 0}for(e=0;e<f.length;e++)void 0!==d?(b[e]=[],b[e].push({name:f[e],values:[a.getItem(c[g]).getItem(f[e])[h]]})):(b[e]=[],b[e].push({name:f[e],values:a.getItem(c[g]).getItem(f[e])}))};this.by=(new y).by}function B(a,b,c,f){var g,d,h,e,p,k,r;void 0===b&&(b=[]);
b[0]=void 0===b[0]?10:b[0];b[1]=void 0===b[1]?100:b[1];void 0===a&&(a=[]);a[0]=void 0===a[0]?"#00FF00":a[0];a[1]=void 0===a[1]?"#FF8000":a[1];a[2]=void 0===a[2]?"#FF0000":a[2];this.createSelect=function(a,b,h){g=document.createElement("select");d=document.createElement("select");g.className=c;d.className=f;a.appendChild(g);a.appendChild(d);g.onchange=this.onIndicatorChanged;d.onchange=this.onIndicatorChanged;for(a=0;a<b.length;a++){var e=document.createElement("option");e.innerHTML=b[a];g.appendChild(e)}for(a=
0;a<h.length;a++)e=document.createElement("option"),e.innerHTML=h[a],d.appendChild(e)};this.drawSelectedIndicator=function(a,b,c,f,p,n,l,u){h=c;e=f;wrapperDiv=p;k=n;r=l;1>=g.options.length&&(c=document.createElement("p"),c.innerHTML=k[0],g.parentNode.insertBefore(c,g),g.style.display="none");1>=d.options.length&&(c=document.createElement("p"),c.innerHTML=r[0],d.parentNode.insertBefore(c,d),d.style.display="none");m(a,b,u)};var m=function(c,f,g){f=h[c][f][0].values;c=document.createElement("table");
g=document.createElement("tbody");c.appendChild(g);for(var d=0;d<f.length;d++){var k=document.createElement("tr");g.appendChild(k);var r=document.createElement("td");r.innerHTML=l.timeAndRegion[d];k.appendChild(r);r=document.createElement("td");r.style.backgroundColor=f[d]<=b[0]?a[0]:f[d]>b[0]&&f[d]<b[1]?a[1]:a[2];r.innerHTML=f[d].toFixed(2);k.appendChild(r)}f="string"===typeof n.container?document.querySelector(n.container):n.container;p=document.createElement("div");p.className="semaphoreDiv";f.appendChild(p);
p.appendChild(e);p.appendChild(c)};this.onIndicatorChanged=function(){p.remove();m(g.selectedIndex,d.selectedIndex,!1)};this.putSeriesByIndicator=function(a,b,c,f,g,d,h){a:{for(var e=0;e<h.length;e++)if(h[e]===d){h=e;break a}h=void 0}for(e=0;e<f.length;e++)void 0!==d?(b[e]=[],b[e].push({name:f[e],values:[a.getItem(c[g]).getItem(f[e])[h]]})):(b[e]=[],b[e].push({name:f[e],values:a.getItem(c[g]).getItem(f[e])}))};this.by=(new y).by}function y(){this.by=function(a,b,c,f,g,d){function e(a){return a===
f}function p(a){return a===g}if(null!==a){var l=document.createElement("div");l.className="indicatorSelector";for(var r=void 0!==f?a.keys().array.filter(e):a.keys().array,m=0;m<r.length;m++){var u=void 0!==g?a.getItem(r[m]).keys().array.filter(p):a.getItem(r[m]).keys().array,q=[];this.putSeriesByIndicator(a,q,r,u,m,d,b);c.push(q)}this.createSelect(l,r,u);a=document.createElement("div");h?"below"==h.toLowerCase()?k.parentNode.insertBefore(a,k):k.insertAfter(a):("string"===typeof n.container?document.querySelector(n.container):
n.container).appendChild(a);n.xAxis.values=b;this.drawSelectedIndicator(0,0,c,l,a,r,u)}}}this.selectBy=function(a,b){function c(){for(var d=document.querySelectorAll(".chartDiv"),e=g.querySelectorAll(".chartDiv"),h=document.querySelectorAll(".chartDiv"),p=[],k=0;k<h.length;k++)p.pushIfNotExist(h[k].parentNode.parentNode.parentNode);h={};h[a]=f.options[f.selectedIndex].innerHTML;if(0>=g.querySelectorAll(".chartDiv").length)for(var l=0;l<b.length;l++)this[b[l]+"Filtered"](h);else{k=e[0];p=d.indexOf(k);
wesCountry.charts.multiChartRemoveData(p,e.length);p=e.length;n.container=k.parentNode.parentNode.parentNode;k=[];for(l=0;l<p;l++)k.push(d.indexOf(e[l])),e[l].parentNode.parentNode.remove();for(d=0;d<p;d++)wesCountry.charts.setPushIndex(k[d]),this[b[d]+"Filtered"](h),wesCountry.charts.setPushIndex("length")}}var f=document.createElement("select");f.className="globalSelect";var g="string"===typeof n.container?document.querySelector(n.container):n.container;g.appendChild(f);var d;switch(a){case "indicator":d=
p;break;case "time":d=v;break;case "region":d=r}for(var e=0;e<d.length;e++){var h=document.createElement("option");h.innerHTML=d[e];f.appendChild(h)}c.bind(this)();f.onchange=c.bind(this)};this.byIndicator=function(b){var c=f.indicator;a=[];(new g("indicatorSelect")).by(c,l.indicator,a,b)};this.byIndicatorFiltered=function(b){var c=f.indicator;a=[];(new g("indicatorSelect")).by(c,l.indicator,a,b.indicator,b.region,b.time)};this.byTime=function(a){var b=f.time;q=[];(new g("timeSelect")).by(b,l.time,
q,a)};this.byTimeFiltered=function(a){var b=f.time;q=[];(new g("timeSelect")).by(b,l.time,q,a.time,a.region,a.indicator)};this.byRegion=function(a){var b=f.region;m=[];(new g("regionSelect")).by(b,l.region,m,a)};this.byRegionFiltered=function(a){var b=f.region;m=[];(new g("regionSelect")).by(b,l.region,m,a.region,a.indicator,a.time)};this.byIndicatorAndTime=function(a,b){var g=f.indicatorAndTime;c=[];(new e("indicatorSelect","timeSelect")).by(g,l.indicatorAndTime,c,a,b)};this.byIndicatorAndTimeFiltered=
function(a){var b=f.indicatorAndTime;c=[];(new e("indicatorSelect","timeSelect")).by(b,l.indicatorAndTime,c,a.indicator,a.time,a.region)};this.byIndicatorAndRegion=function(a,c){var g=f.indicatorAndRegion;b=[];(new e("indicatorSelect","regionSelect")).by(g,l.indicatorAndRegion,b,a,c)};this.byIndicatorAndRegionFiltered=function(a){var c=f.indicatorAndRegion;b=[];(new e("indicatorSelect","regionSelect")).by(c,l.indicatorAndRegion,b,a.indicator,a.region,a.time)};this.byTimeAndRegion=function(a,b){var c=
f.timeAndRegion;d=[];(new e("timeSelect","regionSelect")).by(c,l.timeAndRegion,d,a,b)};this.byTimeAndRegionFiltered=function(a){var b=f.timeAndRegion;d=[];(new e("timeSelect","regionSelect")).by(b,l.timeAndRegion,d,a.time,a.region,a.indicator)};this.max=function(a,b,g){var d=f.indicatorAndTime;c=[];(new z(a,"max")).by(d,l.indicatorAndTime,c,b,g)};this.min=function(a,b,g){var d=f.indicatorAndTime;c=[];(new z(a,"min")).by(d,l.indicatorAndTime,c,b,g)};this.byOneElementChangingYears=function(a,c,g){g=
f.indicatorAndRegion;b=[];(new w).by(g,l.indicatorAndRegion,b,a,c)};this.statisticalAggregates=function(a,c){var g=f.indicatorAndRegion;b=[];(new x).by(g,l.indicatorAndRegion,b,a,c)};this.semaphore=function(a,b,c,g){var e=f.timeAndRegion;d=[];(new B(a,b,"timeSelect","regionSelect")).by(e,l.timeAndRegion,d,c,g)}}var f={},n={},h=null,k,l={};d=b=c=m=q=a=void 0;var v=[],p=[],r=[];this.parseJSON=function(a){n=wesCountry.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a=n.data;l.time=
(new e(a)).parseByTime();l.indicator=(new e(a)).parseByIndicator();l.region=(new e(a)).parseByRegion();l.indicatorAndTime=(new e(a)).parseByIndicatorAndTime();l.indicatorAndRegion=(new e(a)).parseByIndicatorAndRegion();l.timeAndRegion=(new e(a)).parseByTimeAndRegion();return this};this.parseTable=function(a,b,c){for(var f=(a.container?document.querySelector(a.container):document).querySelectorAll(".graphs"),g=0;g<f.length;g++){k=f[g];for(var d=f[g].querySelectorAll("th"),e=f[g].querySelectorAll("tr"),
p=[],n=1;n<e.length;n++){for(var l={},r=e[n].querySelectorAll("td"),m=0;m<r.length;m++)l[d[m].className]=r[m].innerHTML;p.push(l)}a.data=p;h=a.tablePosition;this.parseJSON(a).iterate()[b](c)}};this.iterate=function(){return new g(f)}};"undefined"===typeof wesCountry&&(wesCountry={});wesCountry.table={};
wesCountry.table.pages=new function(){function a(a){for(var b=a.querySelectorAll("tr.empty"),d=b.length,e=0;e<d;e++)b[e].parentNode.removeChild(b[e]);a.numberOfPages=Math.ceil(a.numberOfRows/a.rowsPerPage);var b=a.numberOfPages*a.rowsPerPage,d=0<a.numberOfColumns?a.numberOfColumns:1,k=a.tBodies;if(1<a.numberOfPages&&b>a.numberOfRows&&0<k.length)for(var l=a.numberOfRows;b>l;){var v=document.createElement("tr");v.className="empty";for(e=0;e<d;e++){var p=document.createElement("td");p.innerHTML="&nbsp";
v.appendChild(p)}k[0].appendChild(v);l++}a.selectedPage=1;m(a);a.changePage=q;a.reloadPage=function(){m(this)};c(a)}function q(a){a>this.numberOfPages||1>a||(this.firstShownRow=(a-1)*this.rowsPerPage,this.selectedPage=a,m(this))}function m(a){for(var b=a.firstShownRow,c=a.tBodies,d=0,e=0,l=b+1*a.rowsPerPage-1,m=c.length,p=0,r=0;r<m;r++)for(var u=c[r].rows,q=u.length,s=0;s<q;s++){var z=u[s];z.style.display=!0==(d>=b&&d<=l)?"table-row":"none";z.cells.length>p&&(p=z.cells.length);"empty"!=z.className&&
e++;d++}b=a.selectedPage;c=a.numberOfPages;if(d=a.querySelector("tFoot a.first"))d.className=1<b?"not-number first":"not-number first disabled",d.index=1<b?1:-1;if(d=a.querySelector("tFoot a.previous"))d.className=1<b?"not-number previous":"not-number previous disabled",d.index=1<b?b-1:-1;if(d=a.querySelector("tFoot a.next"))d.className=b<c?"not-number next":"not-number next disabled",d.index=b<c?b+1:-1;if(d=a.querySelector("tFoot a.last"))d.className=b<c?"not-number last":"not-number last disabled",
d.index=b<c?c:-1;c=a.querySelectorAll("tFoot a.number");d=c.length;l=Math.min(a.numberFooterAnchors,d);l=Math.floor(l/2);m=b>l?l:b-1;l=b-m;m=b+(a.numberFooterAnchors-1-m);m>d&&(l-=m-d,m=d);for(r=1;r<=d;r++)c[r-1].className=(r==b?"number selected ":"number ")+(r>=l&&r<=m?"shown":"hidden");b=(b-1)*a.rowsPerPage+1;c=b+a.rowsPerPage-1>a.numberOfRows?a.numberOfRows:b+a.rowsPerPage-1;if(d=a.querySelector("tFoot span.details"))d.innerHTML=b+" - "+c+" of "+a.numberOfRows+" items.";a.numberOfRows=e;a.numberOfColumns=
p}function c(a){var b=a.querySelector("tFoot.pagination");b||(b=document.createElement("tFoot"),b.className="pagination",a.appendChild(b),a.navFooter=b);b.innerHTML="";var c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);b.colSpan=a.numberOfColumns;c=document.createElement("span");c.className="details";b.appendChild(c);c.innerHTML=(0<a.numberOfRows?1:0)+" - "+(a.numberOfRows>a.rowsPerPage?a.rowsPerPage:a.numberOfRows)+" of "+a.numberOfRows+" items.";
c=e(a,"<<","not-number first disabled",-1);b.appendChild(c);c=e(a,"<","not-number previous disabled",-1);b.appendChild(c);for(var d=a.numberOfPages,k=1;k<=d;k++)c=e(a,k,(1==k?"number selected ":"number ")+(k>a.numberFooterAnchors?"hidden":"shown"),k),b.appendChild(c);c=e(a,">",1<d?"not-number next":"not-number next disabled",1<d?2:-1);b.appendChild(c);c=e(a,">>",1<d?"not-number last":"not-number last disabled",1<d?d:-1);b.appendChild(c)}function b(b){var c=b.tHead,e=b.numberOfRows,h=0==e?1:Math.floor(Math.log(e)/
Math.LN10)+1;if(c&&1<h){var k=document.createElement("tr");k.className="select";c.insertBefore(k,c.firstChild);c=document.createElement("th");c.colSpan=b.numberOfColumns;k.appendChild(c);var l=document.createElement("span");l.className="show";c.appendChild(l);l.appendChild(document.createTextNode("Show "));k=document.createElement("select");c.appendChild(k);k.table=b;l=document.createElement("span");l.className="entries";c.appendChild(l);l.appendChild(document.createTextNode(" entries"));h=Math.pow(10,
h-1);for(c=1;4>=c;c++){l=h*c;if(l>e)break;d(k,l,l)}d(k,"all",e);k.onchange=function(){this.table.rowsPerPage=this.options[this.selectedIndex].value;a(this.table);b.changePage(1)}}}function d(a,b,c){var d=document.createElement("option");d.text=b;d.value=c;a.appendChild(d)}function e(a,b,c,d){var e=document.createElement("a");e.className=c;e.table=a;e.index=d;e.onclick=function(){this.table.changePage(this.index)};a=document.createTextNode(b);e.appendChild(a);return e}this.apply=function(){for(var c=
document.querySelectorAll("table.pages"),d=c.length,e=0;e<d;e++){var h=c[e];h.isPaged=!0;h.firstShownRow=0;h.numberFooterAnchors=5;for(var k=h.tBodies,d=k.length,l=0,m=0;m<d;m++)l+=k[m].rows.length;h.numberOfRows=l;k=0==h.numberOfRows?1:Math.floor(Math.log(h.numberOfRows)/Math.LN10)+1;h.rowsPerPage=Math.pow(10,k-1);a(h);b(h)}};this.apply()};
wesCountry.table.sort=new function(){function a(a){for(var b=a.tHead.rows,d=b.length,e=0;e<d;e++)if("select"!=b[e].className){b[e].className="sorter";for(var g=b[e].cells.length,f=0;f<g;f++){b[e].cells[f].table=a;b[e].cells[f].index=f;b[e].cells[f].sort="empty";var m=new Image;m.className="empty";b[e].cells[f].appendChild(m);b[e].cells[f].onclick=function(){q(this.table,this.index,this)}}}}function q(a,b,d){for(var e=[],g=a.tBodies.length,f=0;f<g;f++)for(var n=a.tBodies[f],h=0;h<n.rows.length;h++)e.push(n.rows[h]);
d.sort="empty"==d.sort||"down"==d.sort?"up":"down";e.sort(function(a,c){if("empty"==a.className||"empty"==c.className)return 1;a=a.cells[b].innerHTML.toString();c=c.cells[b].innerHTML.toString();return a<c?"up"==d.sort?-1:1:a>c?"up"==d.sort?1:-1:0});d.querySelector("img").className=d.sort;n=a.querySelectorAll("tHead tr.sorter th");g=n.length;for(f=0;f<g;f++)f!=b&&m(n[f]);g=a.tHead;for(f=a.tFoot;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(g);f&&a.appendChild(f);n=document.createElement("tbody");
a.appendChild(n);g=e.length;for(f=0;f<g;f++)n.appendChild(e[f]);a.changePage&&a.changePage(1)}function m(a){var b=a.querySelectorAll("img");b&&b.length&&0<b.length&&(b[0].className="empty");a.sort="empty"}this.apply=function(){for(var c=document.querySelectorAll("table.sortable"),b=c.length,d=0;d<b;d++)a(c[d])};this.apply()};
function SortedArray(){var a=0;this.array=[];for(var q=arguments.length;a<q;)this.insert(arguments[a++]);this.length=0;this.insert=function(a){var c=this.array,b=c.length;c.push(a);for(this.length=this.array.length;b;){a=b;var d=--b;if(c[a]<c[d]){var e=c[a];c[a]=c[d];c[d]=e}}return this};this.get=function(a){return this.array[a]};this.getArray=function(){return this.array};this.uniqueInsert=function(a){-1==this.search(a)&&this.insert(a)};this.search=function(a){for(var c=0,b=this.array,d=b.length;d>
c;){var e=(d+c)/2>>>0,g=b[e];if(g<a)c=e+1;else if(g>a)d=e;else return e}return-1};this.remove=function(a){a=this.search(a);0<=a&&this.array.splice(a,1);this.length=this.array.length;return this}}"undefined"===typeof exports&&(exports={});
var Selector=exports.Selector=function(a,q){function m(a,d,e,f,g){var h=document.createElement("ul");h.className=q["ul-class"];a.sort(function(a,b){return a.label<b.label?-1:a.label>b.label?1:0});for(var l=a.length,n=null,v=!1,y=[],C=0;C<l;C++){var D=a[C],G=D.children&&D.children.length?D.children.length:0,E=document.createElement("li");h.appendChild(E);E.code=D.code;E.liParent=d;E.data=D;E.isSelected=!1;var A=document.createElement("a");A.href="javascript: void(0)";A.value=D.label;-1!=q.selectedItems.indexOf(E.code)&&
(v=!0,y.push(A));null==g&&k.push(A);A.previousSiblingLink=f;A.nextSiblingLink=null;A.parentLink=g;f&&(f.nextSiblingLink=A);0==C&&(n=A);A.className="circleAndText";E.appendChild(A);A.liParent=E;A.onclick=function(a){b(this.liParent,q.callback);a&&a.stopPropagation()};var H=document.createElement("div");H.className=0<G?"plusOrMinus":"hidden-plusOrMinus";H.innerHTML="+";A.appendChild(H);0<G&&(H.onclick=function(a){c(this);a.stopPropagation()});A.plusOrMinus=H;A.onkeydown=function(a){if(13==a.keyCode)return b(this.liParent,
q.callback),a.stopPropagation(),!1;if(38==a.keyCode)return this.previousSiblingLink&&this.previousSiblingLink.focus(),a.stopPropagation(),!1;if(40==a.keyCode)return this.plusOrMinus.opened&&this.firstChildLink?this.firstChildLink.focus():this.nextSiblingLink?this.nextSiblingLink.focus():this.parentLink.nextSiblingLink&&this.parentLink.nextSiblingLink.focus(),a.stopPropagation(),!1;if(37==a.keyCode||39==a.keyCode)return a.stopPropagation(),c(this.plusOrMinus),a.keyCode=9,a.keyCode};var F=document.createElement("div");
F.className="circle";A.appendChild(F);f=document.createElement("div");f.className="title";A.appendChild(f);var J=document.createTextNode(D.label);f.appendChild(J);f=A;0<G&&(G=document.createElement("span"),G.className="empty-counter",F.appendChild(G),J=document.createTextNode("0"),G.appendChild(J),E.counter={div:G,value:0},F=m(D.children,E,e+1,f,A),E.appendChild(F.ul),A.firstChildLink=F.firstChildLink,H.childrenUl=F.ul,!0==F.selected&&(v=!0,H.innerHTML="-"),y=y.concat(F.selectedItems));E.childNumber=
D.children?D.children.length:0}1<e&&!1==v&&(h.style.display="none");return{ul:h,firstChildLink:n,selected:v,selectedItems:y}}function c(a){"+"==a.innerHTML?(a.innerHTML="&#8212;",a.childrenUl&&(a.childrenUl.style.display="block"),a.opened=!0):(a.innerHTML="+",a.childrenUl&&(a.childrenUl.style.display="none"),a.opened=!1)}function b(a,b){var c=!a.isSelected;c&&0<q.maxSelectedItems&&l.length>=q.maxSelectedItems||d(a,b,c)}function d(a,b,c){e(a,c);if(a.liParent){var d=a.liParent.counter.value,d=c?d+1:
d-1;g(a.liParent,d);c?d==a.liParent.childNumber&&(a.liParent.className="selected",a.liParent.isSelected=!0,f(a.liParent.code,!0)):(a.liParent.className="not-selected",a.liParent.isSelected=!1,f(a.liParent.code,!1))}0<a.childNumber&&g(a,c?a.childNumber:0);b&&b.call(a,a.data,l)}function e(a,b){"li"==a.tagName.toLowerCase()&&(a.isSelected=b,a.className=b?"selected":"not-selected",f(a.code,b),a.firstChild.title=a.firstChild.value+(b?" is selected":""));for(var c=a&&a.children&&a.children.length?a.children.length:
0,d=0;d<c;d++)e(a.children[d],b)}function g(a,b){var c=a.counter;c.value=b;c.div.innerHTML=c.value;c.div.className=0<c.value?"counter":"empty-counter";b=a.firstChild.value;a.firstChild.title=b+": "+c.value+(1!=c.value?" selected countries":" selected country")}function f(a,b){a&&(b?l.uniqueInsert(a):l.remove(a))}function n(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var c in b)a[c]=n(a[c],b[c]);return a}return b}var h={"ul-class":"default-selector",callback:null,maxSelectedItems:-1,
selectedItems:[]},k=[],l=new SortedArray,v=null;(function(){var b=q;if(b){"string"===typeof b&&(b={container:b});var c=JSON.parse(JSON.stringify(h)),d;for(d in b)c[d]=n(c[d],b[d]);b=c}else b=JSON.parse(JSON.stringify(h));q=b;b=m(a,null,1,null,null);v=b.ul;b=b.selectedItems;c=b.length;for(d=0;d<c;d++)b[d].onclick()})();this.render=function(){return v};this.clear=function(){for(var a=v.children.length,b=0;b<a;b++)d(v.children[b],null,!1)};this.selectAll=function(){for(var a=k.length,c=0;c<a;c++)b(k[c].liParent,
null)}};
