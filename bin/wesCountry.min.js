var jSVG=new function(){function a(n){function t(c,e,g,l){e=new a(e);var f;l=JSON.parse(JSON.stringify(l));if(g)for(f in g)l[f]=g[f];f=l;l={};for(var d in f)l[d]=new b(null,d,f[d]);e.attributes(l);c&&c.appendChild(e);return e}var d={width:500,height:500,version:"1.1"},c={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},b=function(b,c,e){this.namespace=b;this.name=c;this.value=e},e={},p={},f="",m=void 0,g=[];this.svg=function(b){b||
(b={});return t(null,"svg",b,d)};this.elementByName=function(b,e){return t(this,b,e,c)};this.g=function(b){return t(this,"g",b,c)};this.path=function(b){return t(this,"path",b,c)};this.rectangle=function(b){return t(this,"rect",b,c)};this.circle=function(b){return t(this,"circle",b,c)};this.line=function(b){return t(this,"line",b,c)};this.text=function(b){var e=t(this,"text",b,c);e.value(b.value);return e};this.a=function(b,e){var a=t(this,"a",b,c);a.attribute("http://www.w3.org/1999/xlink","xlink:href",
e);return a};this.attribute=function(c,a,g){e[a]=new b(c,a,g);return this};this.attributes=function(b){e=b;return this};this.style=function(b){f=b;return this};this.value=function(b){m=b;return this};this.event=function(b,c){p[b]=c;return this};this.width=function(){return e.width.value};this.height=function(){return e.height.value};this.appendChild=function(b){g.push(b)};this.render=function(){var b=document.createElementNS("http://www.w3.org/2000/svg",n),c;for(c in e){var a=e[c];b.setAttributeNS(a.namespace,
a.name,a.value)}b.setAttributeNS(null,"style",f);for(var l in p)b[l]=p[l];for(c=0;c<g.length;c++)b.appendChild(g[c].render());m&&(c=document.createTextNode(m),b.appendChild(c));return b};this.toString=function(){var b="",c;for(c in e)var a=e[c],b=b+String.format(' {0}="{1}"',a.name,a.value);c="";for(a=0;a<g.length;a++)c+=g[a].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',n,"http://www.w3.org/2000/svg",b,f,c,m?m:"")}}return new a};
String.format=function(a){for(var n=1;n<arguments.length;n++)a=a.replace(RegExp("\\{"+(n-1)+"\\}","g"),arguments[n]);return a};String.prototype.toFirstUpperCase=function(){var a=this[0].toUpperCase(),n=this.substr(1);return a+n};"undefined"===typeof exports&&(exports={});if("undefined"===typeof wesCountry)var wesCountry={};
wesCountry.charts=new function(){function a(c,b){if(b instanceof Array)return b;if("object"===typeof b){for(var e in b)c[e]=a(c[e],b[e]);return c}return b}function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function t(c){if(d){var b=c?c:event;c=b.clientX;b=b.clientY;diffX=24;diffY=0;d.style.top=b-2+diffY+document.body.scrollTop+"px";d.style.left=c-2+diffX+document.body.scrollLeft+"px"}}this.defaultOptions={width:600,height:400,chartType:"bar",container:"body",margins:[10,
20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica",
"font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es",
"http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"},tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(c,b,e){c=String.format("Series '{0}': ({1}, {2})",c,b,e);console.log(c);wesCountry.charts.showTooltip(c)},onmouseout:function(){wesCountry.charts.hideTooltip()},onclick:function(){}}};this.sortSeries=
function(c){c.sort(function(b,c){for(var a=b.values,f=c.values,d=Math.max(a.length,f.length),g=0,h=0;h<d;h++)(a[h]?a[h]:0)>(f[h]?f[h]:0)&&g++;return g>=d/2?-1:1});return c};this.getSVG=function(c){return jSVG.svg({width:c.width,height:c.height})};this.showLegend=function(c,b,a){for(var d=a.series.length,f=b.width-0.2*b.marginRight,m=0;m<d;m++){var g=b.marginTop+2.5*(b.legendItemSize+b.barMargin)*m;c.circle({cx:f,cy:g,r:b.legendItemSize}).style(String.format("fill: {0}",a.serieColours[m%a.serieColours.length]));
c.text({x:f-2*b.legendItemSize,y:g,value:a.series[m].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.legend["font-colour"],a.legend["font-family"],a.legend["font-size"]))}};this.mergeOptionsAndDefaultOptions=function(c,b){if(c){"string"===typeof c&&(c={container:c});var e=this.clone(b),d;for(d in c)e[d]=a(e[d],c[d]);c=e}else c=this.clone(b);return c};this.clone=function(c){if(null==c||"object"!=typeof c)return c;var b=c.constructor(),
a;for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);return b};this.setAxisY=function(c,b,a){c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.yAxisMargin,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.yAxis.colour));for(var d=b.ticksY+1,f=0;f<d;f++)c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:b.marginTop+f*b.yTickHeight,y2:b.marginTop+f*b.yTickHeight}).style(String.format("stroke: {0}",a.yAxis.tickColour));for(f=0;f<d;f++)c.text({x:b.marginLeft+
b.yAxisMargin/1.8,y:b.marginTop+f*b.yTickHeight,value:(b.maxValue-f*b.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));d=b.marginLeft;b=b.marginTop+(b.innerHeight-b.xAxisMargin)/2;c.text({x:d,y:b,value:a.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",d,b)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.yAxis["font-colour"],
a.yAxis["font-family"],a.yAxis["font-size"]))};this.setAxisX=function(c,b,a){var d=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(b.maxValue-b.minValue)*(b.innerHeight-b.xAxisMargin);c.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",a.xAxis.colour));for(var d=b.maxValueLength,f=0;f<d;f++){var m=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*f;c.line({x1:m,x2:m,y1:b.marginTop,y2:b.innerHeight+
b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",a.xAxis.tickColour));c.text({x:m,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:a.xAxis.values[f]?a.xAxis.values[f]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}c.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:a.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))};this.getMaxAndMinValuesAxisY=function(a){for(var b=0,d=Number.MAX_VALUE,p=a.series.length,f=null,m=null,g=0,h=0;h<p;h++){f=a.series[h].values.length;f>g&&(g=f);for(var k=0;k<f;k++)m=a.series[h].values[k],m instanceof Array&&(m=m[1]?m[1]:0),m>b&&(b=m),m<d&&(d=m)}!0==a.yAxis["from-zero"]&&0<d&&(d=0);a=this.getNearestNumber(d,b);return{max:a.max,min:a.min,valueLength:g,inc:a.inc}};this.setBackground=function(a,b,d){a.rectangle({x:0,
y:0,width:b.width,height:b.height}).style(String.format("fill: {0}",d.backgroundColour))};this.getNearestNumber=function(a,b){var d;d=b-a;var p=0;15>d?p=1:30>d?p=5:(d=1+Math.floor(Math.log(d)/Math.log(10)),p=Math.pow(10,d-1));d=p;return{max:Math.ceil(b/d)*d,min:Math.floor(a/d)*d,inc:d}};this.guid=function(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()};var d=null;this.createTooltip=function(a){if(!0==a.tooltip.show){if(d=document.getElementById("wesCountryTooltip"),!d){d=document.createElement("span");
d.id="wesCountryTooltip";document.body.appendChild(d);var b="",e;for(e in a.tooltip.style)b+=String.format("{0}:{1};",e,a.tooltip.style[e]);d.setAttribute("style",b)}}else d=null};this.showTooltip=function(a){d&&(t(),d.innerHTML=a,d.style.display="block",window.onscroll=t)};this.hideTooltip=function(){d&&(d.style.display="none")}};
wesCountry.charts.barChart=function(a){function n(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,f=b*d.margins[2]/100,m=c*d.margins[3]/100,g=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,k=c-m-p,s=b-e-f,l=wesCountry.charts.getMaxAndMinValuesAxisY(d),q=l.max,r=0<l.min?0:l.min,v=l.valueLength,u=(q-r)/l.inc,l=(k-g)/l.valueLength,n=d.groupMargin*l/100,l=l-2*n,w=l/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:f,marginLeft:m,
innerWidth:k,innerHeight:s,yAxisMargin:g,xAxisMargin:h,maxValue:q,minValue:r,maxValueLength:v,ticksY:u,yTickHeight:0!=u?(s-h)/u:0,xTickWidth:l,valueInc:0!=u?(q-r)/u:0,barMargin:x,groupMargin:n,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.yAxis["from-zero"]=!0;a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var t=wesCountry.charts.getSVG(a),d=n(t,a),c=t.g();wesCountry.charts.setBackground(c,
d,a);wesCountry.charts.setAxisY(c,d,a);wesCountry.charts.setAxisX(c,d,a);for(var b=d.maxValueLength,e=a.series.length,p=d.barWidth,f=d.innerHeight-d.xAxisMargin,m=d.minValue/(d.maxValue-d.minValue)*f,g=0;g<b;g++)for(var h=0;h<e;h++){var k=a.series[h].name,s=a.series[h].values[g],l=a.series[h].urls?a.series[h].urls[g]:"",q=a.xAxis.values[h];s||(s=0);var r=d.marginLeft+d.yAxisMargin+d.groupMargin*(2*g+1)+d.barMargin+d.xTickWidth*g+(p+2*d.barMargin)*h,v=0<=s?d.marginTop+d.innerHeight-d.xAxisMargin+m-
s/(d.maxValue-d.minValue)*f:d.marginTop+d.innerHeight-d.xAxisMargin+m,u=Math.abs(s)/(d.maxValue-d.minValue)*f,k={x:r,y:v,width:p,height:u,serie:k,value:s,pos:q},q=String.format("fill: {0}",a.serieColours[h]),u=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},y=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
w=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};l&&""!=l?c.a({},l?l:"").rectangle(k).style(q).event("onmouseover",u).event("onmouseout",y).event("onclick",w):c.rectangle(k).style(q).event("onmouseover",u).event("onmouseout",y).event("onclick",w);!0==a.valueOnItem.show&&c.text({x:r+p/2,y:v-a.height/100*a.valueOnItem.margin,value:s.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]))}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return t}()};wesCountry.charts.lineChart=function(a){return this.generateLineChart(a,!1)};wesCountry.charts.areaChart=function(a){return this.generateLineChart(a,!0)};
wesCountry.charts.generateLineChart=function(a,n){function t(a,b,d,p){return b.marginTop+b.innerHeight-b.xAxisMargin+d-a/(b.maxValue-b.minValue)*p}function d(a,b){var d=a.width(),p=a.height(),f=p*b.margins[0]/100,m=d*b.margins[1]/100,g=p*b.margins[2]/100,h=d*b.margins[3]/100,k=b.yAxis.margin*d/100,s=b.xAxis.margin*p/100,l=d-h-m,q=p-f-g,r=wesCountry.charts.getMaxAndMinValuesAxisY(b),v=r.max,u=r.min,t=r.valueLength;u==v&&(u=0<=u?0:u-2,v+=2);var w=(v-u)/r.inc,r=(l-k)/r.valueLength,n=b.groupMargin*r/
100,r=r-2*n,C=r/b.series.length,z=b.barMargin*C/100;return{width:d,height:p,marginTop:f,marginRight:m,marginBottom:g,marginLeft:h,innerWidth:l,innerHeight:q,yAxisMargin:k,xAxisMargin:s,maxValue:v,minValue:u,maxValueLength:t,ticksY:w,yTickHeight:0!=w?(q-s)/w:0,xTickWidth:r,valueInc:0!=w?(v-u)/w:0,barMargin:z,groupMargin:n,barWidth:C-2*z,legendItemSize:b.legend.itemSize*d/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=
wesCountry.charts.sortSeries(a.series));var c=wesCountry.charts.getSVG(a),b=d(c,a),e=c.g();wesCountry.charts.setBackground(e,b,a);wesCountry.charts.setAxisY(e,b,a);wesCountry.charts.setAxisX(e,b,a);for(var p=a.series.length,f=b.maxValueLength,m=b.innerHeight-b.xAxisMargin,g=b.minValue/(b.maxValue-b.minValue)*m,h=0;h<p;h++){var k="";if(n)var s=e.path();for(var l=Math.max(0,b.minValue),l=t(l,b,g,m),q="l"+wesCountry.charts.guid(),r=0;r<f;r++){var v=a.series[h].values[r],u=0<r?a.series[h].values[r-1]:
0,y=a.series[h].urls?a.series[h].urls[r]:"",w=a.series[h].name,x=a.xAxis.values[r];v||(v=0);u||(u=0);var C=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*r,z=t(v,b,g,m),B=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*(r-1),u=t(u,b,g,m),w={cx:C,cy:z,r:5,"class":q,serie:w,value:v,pos:x},x=String.format("fill: {0}",a.serieColours[h%a.serieColours.length]),E=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,g=0;g<d;g++)c[g].setAttribute("stroke-width",b)},G=function(){this.setAttribute("r",8);E(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},F=function(){this.setAttribute("r",5);E(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},A=function(){this.setAttribute("r",5);E(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};
y&&""!=y?e.a({},y?y:"").circle(w).style(x).event("onmouseover",G).event("onmouseout",F).event("onclick",A):e.circle(w).style(x).event("onmouseover",G).event("onmouseout",F).event("onclick",A);!0==a.valueOnItem.show&&e.text({x:C,y:z-a.height/100*a.valueOnItem.margin,value:0==v?"0":v.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));0<r?(e.line({x1:B,
x2:C,y1:u,y2:z,"stroke-width":1,"class":q}).style(String.format("stroke: {0}",a.serieColours[h%a.serieColours.length])).event("onmouseover",function(){E(this,2)}).event("onmouseout",function(){E(this,1)}),k+=String.format(" L{0} {1}",C,z)):k=String.format("M{0} {1} L{2} {3}",C,l,C,z)}k+=String.format(" L{0} {1} Z",C,l);n&&s.attribute(null,"d",k).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[h%a.serieColours.length]))}a.legend.show&&wesCountry.charts.showLegend(e,b,a);wesCountry.charts.createTooltip(a);
return c}()};
wesCountry.charts.pieChart=function(a){function n(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,f=b*d.margins[2]/100,m=c*d.margins[3]/100,g=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,k=c-m-p,s=b-e-f,l=wesCountry.charts.getMaxAndMinValuesAxisY(d),q=l.max,r=l.min,v=l.valueLength,u=(q-r)/l.inc,l=(k-g)/l.valueLength,n=d.groupMargin*l/100,l=l-2*n,w=l/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:f,marginLeft:m,innerWidth:k,
innerHeight:s,yAxisMargin:g,xAxisMargin:h,maxValue:q,minValue:r,maxValueLength:v,ticksY:u,yTickHeight:0!=u?(s-h)/u:0,xTickWidth:l,valueInc:0!=u?(q-r)/u:0,barMargin:x,groupMargin:n,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a.sortSeries&&(a.series=wesCountry.charts.sortSeries(a.series));var t=wesCountry.charts.getSVG(a),d=n(t,a),c=t.g();wesCountry.charts.setBackground(c,d,a);var b=d.maxValueLength;
if(1==b)var e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/2,p=d.innerWidth/2,f=d.innerHeight/2,m=0,g=1;else 2==b?(e=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-2*d.xAxisMargin)/4,p=d.marginLeft+e,f=d.innerHeight/2,m=d.innerWidth-2*e,g=2):(8<b&&(b=8),e=Math.min(d.innerWidth,d.innerHeight-2*d.xAxisMargin)/4,g=Math.ceil(b/2),p=d.marginLeft+e,f=d.marginTop+e,m=(d.innerWidth-2*g*e)/(g-1)+2*e);for(var h=0;h<b;h++){if(h<g)var k=p+m*h,s=f;else k=b-g,s=(d.innerWidth-2*k*e)/
(k<g?k+1:k-1),m=s+2*e,k=d.marginLeft+(k<g?s:0)+e+m*(h%g),s=d.marginTop+d.innerHeight-d.xAxisMargin-e;c.text({x:k,y:s+e+d.xAxisMargin/2,value:a.xAxis.values[h]?a.xAxis.values[h]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));for(var l=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),
this.getAttribute("value"))},q=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},r=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},v=0,u=0,y=a.series.length,w=0;w<y;w++){var x=Math.abs(a.series[w].values[h]);x||(x=0);0!=x&&u++;v+=x}for(var C=[],w=0;w<y;w++)(x=Math.abs(2*(a.series[w].values[h]/v)*Math.PI))||(x=0),C[w]=x;if(1==
u){for(var z="",u=x=v="",w=0;w<y;w++)if(0!=C[w]){z=a.serieColours[w];v=a.series[w].name;x=Math.abs(a.series[0].values[w]).toFixed(2);u=a.xAxis.values[h];break}c.circle({cx:k,cy:s,r:e,serie:v,value:x,pos:u}).event("onmouseover",l).event("onmouseout",q).event("onclick",r).style(String.format("fill: {0}",z))}else for(w=z=0;w<y;w++){var B=z+C[w],x=Math.abs(a.series[w].values[h]).toFixed(2),v=a.series[w].name,u=a.xAxis.values[h],E=k+e*Math.sin(z),G=s-e*Math.cos(z),F=k+e*Math.sin(B),A=s-e*Math.cos(B),H=
z+(B-z)/2,D=e+e/100*a.valueOnItem.margin,I=k+D*Math.sin(H),H=s-D*Math.cos(H),D=0;B-z>Math.PI&&(D=1);c.path({d:"M "+k+","+s+" L "+E+","+G+" A "+e+","+e+" 0 "+D+" 1 "+F+","+A+" Z",serie:v,value:x,pos:u}).event("onmouseover",l).event("onmouseout",q).event("onclick",r).style(String.format("fill: {0}",a.serieColours[w]));!0==a.valueOnItem.show&&c.text({x:I,y:H,value:x}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],
a.valueOnItem["font-family"],a.valueOnItem["font-size"]));z=B}}a.legend.show&&wesCountry.charts.showLegend(c,d,a);wesCountry.charts.createTooltip(a);return t}()};
wesCountry.charts.polarChart=function(a){function n(a,d){var c=a.width(),b=a.height(),e=b*d.margins[0]/100,p=c*d.margins[1]/100,f=b*d.margins[2]/100,m=c*d.margins[3]/100,g=d.yAxis.margin*c/100,h=d.xAxis.margin*b/100,k=c-m-p,s=b-e-f,l=wesCountry.charts.getMaxAndMinValuesAxisY(d),q=l.max,r=0<l.min?0:l.min,v=l.valueLength,u=(q-r)/l.inc,l=(k-g)/l.valueLength,n=d.groupMargin*l/100,l=l-2*n,w=l/d.series.length,x=d.barMargin*w/100;return{width:c,height:b,marginTop:e,marginRight:p,marginBottom:f,marginLeft:m,
innerWidth:k,innerHeight:s,yAxisMargin:g,xAxisMargin:h,maxValue:q,minValue:r,maxValueLength:v,ticksY:u,yTickHeight:0!=u?(s-h)/u:0,xTickWidth:l,valueInc:0!=u?(q-r)/u:0,barMargin:x,groupMargin:n,barWidth:w-2*x,legendItemSize:d.legend.itemSize*c/100}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var t=wesCountry.charts.getSVG(a),d=n(t,a),c=t.g();wesCountry.charts.setBackground(c,d,a);for(var b=Math.min(d.innerWidth-2*d.yAxisMargin,d.innerHeight-
2*d.xAxisMargin)/2,e=d.maxValueLength,p=d.width/2,f=d.height/2,m=[],g=0;g<e;g++)m.push({x:p+b*Math.cos(2*Math.PI*g/e-Math.PI/2),y:f+b*Math.sin(2*Math.PI*g/e-Math.PI/2)});for(g=0;g<e;g++){var h=m[g];c.line({x1:p,y1:f,x2:h.x,y2:h.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}for(g=0;g<e;g++){var h=p+(b+d.xAxisMargin/2)*Math.cos(2*Math.PI*g/e-Math.PI/2),k=f+(b+d.xAxisMargin/2)*Math.sin(2*Math.PI*g/e-Math.PI/2),s=a.xAxis.values[g]?a.xAxis.values[g]:"";c.text({x:h,y:k,value:s}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}for(var l=d.maxValue,q=d.minValue,l=5*Math.ceil(l/5),q=5*Math.floor(q/5),r=b/5,s=(l-q)/5,g=0;5>=g;g++){m=[];h=r*g;c.text({x:p-d.xAxisMargin/2,y:f-h,value:q+g*s}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));for(var v=0;v<e;v++)m.push({x:p+h*Math.cos(2*Math.PI*v/e-Math.PI/2),y:f+h*Math.sin(2*Math.PI*v/e-
Math.PI/2)});for(v=0;v<e;v++){var h=m[v],u=0==v?m[e-1]:m[v-1];c.line({x1:u.x,y1:u.y,x2:h.x,y2:h.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}}u=Math.abs(q/(l-q))*b;r=a.series.length;m=[];for(g=0;g<r;g++)for(m[g]=[],v=0;v<e;v++)(s=a.series[g].values[v])||(s=0),s=0>s?u-Math.abs(s/q)*u:s/l*(b-u)+u,h=p+s*Math.cos(2*Math.PI*v/e-Math.PI/2),k=f+s*Math.sin(2*Math.PI*v/e-Math.PI/2),m[g].push({x:h,y:k});for(var y=function(a,b){for(var c=a.getAttribute("class"),c=a.parentNode.querySelectorAll("line."+
c),d=c.length,g=0;g<d;g++)c[g].setAttribute("stroke-width",b)},b=function(){this.setAttribute("r",8);y(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},p=function(){this.setAttribute("r",5);y(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},f=function(){this.setAttribute("r",5);y(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
g=0;g<r;g++)for(l="l"+wesCountry.charts.guid(),v=0;v<e;v++)h=m[g][v],u=0==v?m[g][e-1]:m[g][v-1],s=a.series[g].values[v],c.circle({cx:h.x,cy:h.y,r:5,serie:a.series[g].name,value:s,pos:a.xAxis.values[v],"class":l}).style(String.format("fill: {0}",a.serieColours[g%a.serieColours.length])).event("onmouseover",b).event("onmouseout",p).event("onclick",f),c.line({x1:u.x,y1:u.y,x2:h.x,y2:h.y,"class":l}).style(String.format("stroke: {0};",a.serieColours[g%a.serieColours.length]));a.legend.show&&wesCountry.charts.showLegend(c,
d,a);wesCountry.charts.createTooltip(a);return t}()};
wesCountry.charts.scatterPlot=function(a){function n(a,c){var b=a.width(),e=a.height(),p=e*c.margins[0]/100,f=b*c.margins[1]/100,m=e*c.margins[2]/100,g=b*c.margins[3]/100,h=c.yAxis.margin*b/100,k=c.xAxis.margin*e/100,s=b-g-f,l=e-p-m,q=wesCountry.charts.getMaxAndMinValuesAxisY(c),r=q.max,v=q.min,u=q.valueLength,n=(r-v)/q.inc,q=(s-h)/q.valueLength,t=c.groupMargin*q/100,q=q-2*t,x=q/c.series.length,C=c.barMargin*x/100;return{width:b,height:e,marginTop:p,marginRight:f,marginBottom:m,marginLeft:g,innerWidth:s,
innerHeight:l,yAxisMargin:h,xAxisMargin:k,maxValue:r,minValue:v,maxValueLength:u,ticksY:n,yTickHeight:0!=n?(l-k)/n:0,xTickWidth:q,valueInc:0!=n?(r-v)/n:0,barMargin:C,groupMargin:t,barWidth:x-2*C,legendItemSize:c.legend.itemSize*b/100}}function t(a,c,b){var e=c.marginTop+c.innerHeight-c.xAxisMargin+c.minValue/(0!=c.maxValue-c.minValue?c.maxValue-c.minValue:1)*(c.innerHeight-c.xAxisMargin);a.line({x1:c.marginLeft+c.yAxisMargin,x2:c.marginLeft+c.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",
b.xAxis.colour));for(var e=0,p=Number.MAX_VALUE,f=b.series.length,m=null,g=null,h=0;h<f;h++)for(var m=b.series[h].values.length,k=0;k<m;k++)g=b.series[h].values[k][0]?b.series[h].values[k][0]:0,g>e&&(e=g),g<p&&(p=g);for(var e=wesCountry.charts.getNearestNumber(p,e),e={max:e.max,min:e.min,inc:e.inc},p=e.max,f=e.min,m=e.valueLength,g=(p-f)/e.inc,h=(c.innerWidth-c.yAxisMargin)/g,k=e.inc,s=g+1,l=0;l<s;l++){var q=c.marginLeft+c.yAxisMargin+h*l;a.line({x1:q,x2:q,y1:c.marginTop,y2:c.innerHeight+c.marginTop-
c.xAxisMargin}).style(String.format("stroke: {0}",b.xAxis.tickColour));a.text({x:q,y:c.marginTop+c.innerHeight-c.xAxisMargin/2,value:f+k*l}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]))}a.text({x:c.marginLeft+c.yAxisMargin+(c.innerWidth-c.yAxisMargin)/2,y:c.marginTop+c.innerHeight+c.xAxisMargin/2,value:b.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]));return{maxAndMinValues:e,maxValue:p,minValue:f,maxValueLength:m,ticksX:g,xTickWidth:h,incX:k}}return function(){a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var d=wesCountry.charts.getSVG(a),c=n(d,a),b=d.g();wesCountry.charts.setBackground(b,c,a);wesCountry.charts.setAxisY(b,c,a);var e=t(b,c,a),p=a.series.length,f=c.innerHeight-c.xAxisMargin,m=c.innerWidth-c.yAxisMargin,g=0;0>=c.minValue&&
0!=c.maxValue-c.minValue&&(g=c.minValue/(c.maxValue-c.minValue)*f);var h=0;0>=e.minValue&&(h=e.xTickWidth*Math.abs(e.minValue));for(var k=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},s=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},l=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},q=0;q<p;q++)for(var r=a.series[q].values,v=r.length,u=0;u<v;u++){var y=r[u][0]?r[u][0]:0,w=0,x=a.series[q].values[u],C=a.series[q].name,z=y;0<u&&(w=r[u-1][0]?r[u-1][0]:0);y||(y=0);w||(w=0);var w=r[u][1]?r[u][1]:0,B=0;0<u&&(B=r[u-1][1]?r[u-1][1]:0);w||(w=0);B||(B=0);b.circle({cx:c.marginLeft+c.yAxisMargin+h+(0==e.maxValue-e.minValue?0:(y-e.minValue)/(e.maxValue-e.minValue))*m,cy:c.marginTop+c.innerHeight-c.xAxisMargin+g-(0==c.maxValue-c.minValue?
1:(w-c.minValue)/(c.maxValue-c.minValue))*f,r:5,serie:C,value:x,pos:z}).style(String.format("fill: {0}",a.serieColours[q%a.serieColours.length])).event("onmouseover",k).event("onmouseout",s).event("onclick",l)}a.legend.show&&wesCountry.charts.showLegend(b,c,a);wesCountry.charts.createTooltip(a);return d}()};NodeList.prototype.indexOf=function(a){for(var n=0;n<this.length;n++)if(this[n]==a)return n;return-1};
wesCountry.charts.chart=function(a){var n;n="string"!==typeof a.container?a.container:void 0;a.container="string"===typeof a.container?a.container:wesCountry.charts.defaultOptions.container;a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);var t;switch(a.chartType.toLowerCase()){case "bar":t=this.barChart(a);break;case "line":t=this.lineChart(a);break;case "pie":t=this.pieChart(a);break;case "area":t=this.areaChart(a)}void 0===n&&(n=document.querySelector(a.container));
n.appendChild(t.render());return n.parentNode};var optionsSave=[];
wesCountry.charts.multiChart=function(a,n,t){function d(b){var c=m.querySelector(".active").innerHTML.toLowerCase();a.chartType=c;a.container=void 0===b?".chartDiv":b;return wesCountry.charts.chart(a)}function c(a){a.querySelector(".chartDiv").innerHTML="";d(a.querySelector(".chartDiv"))}function b(){for(var a=this.innerHTML,b=this.parentNode.parentNode,d=b.querySelector(".active"),b=b.querySelectorAll(".inactive"),f=b.length,l=0;l<f;l++)b[l].className=a===b[l].innerHTML?"active":"inactive";a!==d.innerHTML&&
(d.className="inactive");c(this.parentNode.parentNode.parentNode.parentNode)}function e(){for(var b=function(a){a=p(a);return{series:wesCountry.charts.clone(optionsSave[a].series),xAxisValues:wesCountry.charts.clone(optionsSave[a].xAxis.values)}}(this),d=this.parentNode.querySelectorAll("input"),f=b.series.length,e=0;e<f;e++)d[e].checked||delete b.series[e];(function(){for(var c=[],d=0;d<f;d++)void 0!==b.series[d]&&c.push(b.series[d]);a.series=c})();a.xAxis.values=b.xAxisValues;c(this.parentNode.parentNode)}
function p(a){a=a.parentNode;return document.querySelectorAll("."+a.className).indexOf(a)}a=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);n||void 0===n?optionsSave.push(wesCountry.charts.clone(a)):(n=p(t),optionsSave[n].series=wesCountry.charts.clone(a.series),a.xAxis=optionsSave[n].xAxis);var f=a.chartType,f=f instanceof Array?f:[f],m=document.createElement("div");document.querySelector(a.container).appendChild(m);(function(){var a=document.createElement("div");
a.className="chartSelector";for(var c=document.createElement("ul"),d=0;d<f.length;d++){var e=document.createElement("li"),l=document.createElement("a");l.className="inactive";l.onclick=b;l.innerHTML=f[d].toFirstUpperCase();e.appendChild(l);c.appendChild(e)}a.appendChild(c);a.querySelector("li a").className="active";m.appendChild(a)})();(function(){var b=document.createElement("div");b.className="seriesSelector";for(var c=0;c<a.series.length;c++){var d=document.createElement("input"),f=document.createElement("label");
d.id=a.series[c].name+"Checkbox"+wesCountry.charts.guid();d.type="checkbox";d.className="checks";d.onchange=e;d.checked=!0;f.for=d.id;f.innerHTML=a.series[c].name;b.appendChild(d);b.appendChild(f)}m.appendChild(b)})();return function(){var a=document.createElement("div");a.className="chartDiv";m.appendChild(a);return d(a)}()};Element.prototype.insertAfter=function(a){this.parentNode.insertBefore(a,this.nextSibling)};"undefined"===typeof wesCountry&&(wesCountry={});
wesCountry.data=new function(){var a,n,t,d,c,b;function e(a){this.parseByIndicator=function(){var a=f.indicator=c(b,"indicatorCode","countryName","value","year");f.indicator=a[0];return a[1]};this.parseByTime=function(){var a=c(void 0,"year","countryName","value","indicatorCode");f.time=a[0];return a[1]};this.parseByRegion=function(){var a=c(b,"countryName","indicatorCode","value","year");f.region=a[0];return a[1]};this.parseByIndicatorAndTime=function(){var a=c(b,"indicatorCode","year","value","countryName");
f.indicatorAndTime=a[0];return a[1]};this.parseByIndicatorAndRegion=function(){var a=c(b,"indicatorCode","countryName","value","year");f.indicatorAndRegion=a[0];return a[1]};this.parseByTimeAndRegion=function(){var a=c(b,"year","countryName","value","indicatorCode");f.timeAndRegion=a[0];return a[1]};var b=function(a,b){return a.year-b.year},c=function(b,c,d,f,g){function l(a){return a[c]===q}function e(a){0>p.indexOf(a)&&p.push(a)}for(var p=[],m=new HashTable,h=0;h<a.length;h++){var q=a[h][c];if(!m.hasItem(q)){for(var k=
a.filter(l),k=k.sort(b),n=new HashTable,t=0;t<k.length;t++){if(n.hasItem(k[t][d])){var D=n.getItem(k[t][d]);D.push(parseFloat(k[t][f]))}else D=[parseFloat(k[t][f])];n.setItem(k[t][d],D);e(k[t][g])}m.setItem(a[h][c],n)}}return[m,p]}}function p(f){function l(){var a,b,c,d,f;this.createSelect=function(b,c){a=document.createElement("select");b.appendChild(a);a.onchange=this.onIndicatorChanged;for(var d=0;d<c.length;d++){var f=document.createElement("option");f.innerHTML=c[d];a.appendChild(f)}};this.drawSelectedIndicator=
function(a,g,l,p,m,h){b=g;c=l;d=p;f=m;e(a,h)};var e=function(g,e){m.series=b[g];if(1===a.childNodes.length){var l=document.createElement("p");l.innerHTML=f[0];a.parentNode.insertBefore(l,a);a.remove()}l=wesCountry.charts.multiChart(m,e,a);l.insertBefore(c,l.childNodes[0]);d.appendChild(l)};this.onIndicatorChanged=function(){var b=this.parentNode.parentNode;e(a.selectedIndex,!1);b.remove()};this.by=function(a,b,c,d){function f(a){return a===d}if(null!==a){var l=document.createElement("div");l.className=
"indicatorSelector";for(var e=void 0!==d?a.keys().array.filter(f):a.keys().array,p=0;p<e.length;p++){for(var r=a.getItem(e[p]).keys().array,k=[],q=0;q<r.length;q++)k.push({name:r[q],values:a.getItem(e[p]).getItem(r[q])});c.push(k)}this.createSelect(l,e,r);a=document.createElement("div");null===g?document.querySelector(m.container).appendChild(a):"above"===g.toLowerCase()?h.insertAfter(a):"below"===g.toLowerCase()&&h.parentNode.insertBefore(a,h);m.xAxis.values=b;this.drawSelectedIndicator(0,c,l,a,
e)}}}function e(){var a,b,c,d,f,l,p;this.createSelect=function(c,d,f){a=document.createElement("select");b=document.createElement("select");c.appendChild(a);c.appendChild(b);a.onchange=this.onIndicatorChanged;b.onchange=this.onIndicatorChanged;for(c=0;c<d.length;c++){var l=document.createElement("option");l.innerHTML=d[c];a.appendChild(l)}for(c=0;c<f.length;c++)l=document.createElement("option"),l.innerHTML=f[c],b.appendChild(l)};this.drawSelectedIndicator=function(a,b,e,g,m,h,r,q){c=e;d=g;f=m;l=
h;p=r;k(a,b,q)};var k=function(e,g,h){m.series=c[e][g];1===a.childNodes.length&&(e=document.createElement("p"),e.innerHTML=l[0],a.parentNode.insertBefore(e,a),a.remove());1===b.childNodes.length&&(e=document.createElement("p"),e.innerHTML=p[0],b.parentNode.insertBefore(e,b),b.remove());h=wesCountry.charts.multiChart(m,h,a);h.insertBefore(d,h.childNodes[0]);f.appendChild(h)};this.onIndicatorChanged=function(){var c=this.parentNode.parentNode;k(a.selectedIndex,b.selectedIndex,!1);c.remove()};this.by=
function(a,b,c,d,f){function l(a){return a===d}function e(a){return a===f}if(null!==a){var p=document.createElement("div");p.className="indicatorSelector";for(var k=void 0!==d?a.keys().array.filter(l):a.keys().array,r=0;r<k.length;r++){for(var q=void 0!==f?a.getItem(k[r]).keys().array.filter(e):a.getItem(k[r]).keys().array,v=[],s=0;s<q.length;s++)v[s]=[],v[s].push({name:q[s],values:a.getItem(k[r]).getItem(q[s])});c.push(v)}this.createSelect(p,k,q);a=document.createElement("div");null===g?document.querySelector(m.container).appendChild(a):
"above"===g.toLowerCase()?h.insertAfter(a):"below"===g.toLowerCase()&&h.parentNode.insertBefore(a,h);m.xAxis.values=b;this.drawSelectedIndicator(0,0,c,p,a,k,q)}}}this.byIndicator=function(b){var c=f.indicator;a=[];(new l).by(c,k.indicator,a,b)};this.byTime=function(a){var b=f.time;n=[];(new l).by(b,k.time,n,a)};this.byRegion=function(a){var b=f.region;t=[];(new l).by(b,k.region,t,a)};this.byIndicatorAndTime=function(a,b){var c=f.indicatorAndTime;d=[];(new e).by(c,k.indicatorAndTime,d,a,b)};this.byIndicatorAndRegion=
function(a,b){var d=f.indicatorAndRegion;c=[];(new e).by(d,k.indicatorAndRegion,c,a,b)};this.byTimeAndRegion=function(a,c){var d=f.timeAndRegion;b=[];(new e).by(d,k.timeAndRegion,b,a,c)}}var f={},m={},g=null,h,k={};b=c=d=t=n=a=void 0;this.parseJSON=function(a){m=wesCountry.charts.mergeOptionsAndDefaultOptions(a,wesCountry.charts.defaultOptions);a=m.data;k.time=(new e(a)).parseByTime();k.indicator=(new e(a)).parseByIndicator();k.region=(new e(a)).parseByRegion();k.indicatorAndTime=(new e(a)).parseByIndicatorAndTime();
k.indicatorAndRegion=(new e(a)).parseByIndicatorAndRegion();k.timeAndRegion=(new e(a)).parseByTimeAndRegion();return this};this.parseTable=function(a,b,c){for(var d=document.querySelectorAll(".graphs"),f=0;f<d.length;f++){h=d[f];for(var e=d[f].querySelectorAll("th"),p=d[f].querySelectorAll("tr"),m=[],k=1;k<p.length;k++){for(var n={},t=p[k].querySelectorAll("td"),B=0;B<t.length;B++)n[e[B].className]=t[B].innerHTML;m.push(n)}a.data=m;void 0===a.container&&(g=a.tablePosition);this.parseJSON(a).iterate()[b](c)}};
this.iterate=function(){return new p(f)}};"undefined"===typeof wesCountry&&(wesCountry={});wesCountry.table={};
wesCountry.table.pages=new function(){function a(a){for(var b=a.querySelectorAll("tr.empty"),c=b.length,e=0;e<c;e++)b[e].parentNode.removeChild(b[e]);a.numberOfPages=Math.ceil(a.numberOfRows/a.rowsPerPage);var b=a.numberOfPages*a.rowsPerPage,c=0<a.numberOfColumns?a.numberOfColumns:1,h=a.tBodies;if(1<a.numberOfPages&&b>a.numberOfRows&&0<h.length)for(var k=a.numberOfRows;b>k;){var s=document.createElement("tr");s.className="empty";for(e=0;e<c;e++){var l=document.createElement("td");l.innerHTML="&nbsp";
s.appendChild(l)}h[0].appendChild(s);k++}a.selectedPage=1;t(a);a.changePage=n;a.reloadPage=function(){t(this)};d(a)}function n(a){a>this.numberOfPages||1>a||(this.firstShownRow=(a-1)*this.rowsPerPage,this.selectedPage=a,t(this))}function t(a){for(var b=a.firstShownRow,c=a.tBodies,d=0,e=0,k=b+1*a.rowsPerPage-1,n=c.length,l=0,q=0;q<n;q++)for(var r=c[q].rows,v=r.length,t=0;t<v;t++){var y=r[t];y.style.display=!0==(d>=b&&d<=k)?"table-row":"none";y.cells.length>l&&(l=y.cells.length);"empty"!=y.className&&
e++;d++}b=a.selectedPage;c=a.numberOfPages;if(d=a.querySelector("tFoot a.first"))d.className=1<b?"not-number first":"not-number first disabled",d.index=1<b?1:-1;if(d=a.querySelector("tFoot a.previous"))d.className=1<b?"not-number previous":"not-number previous disabled",d.index=1<b?b-1:-1;if(d=a.querySelector("tFoot a.next"))d.className=b<c?"not-number next":"not-number next disabled",d.index=b<c?b+1:-1;if(d=a.querySelector("tFoot a.last"))d.className=b<c?"not-number last":"not-number last disabled",
d.index=b<c?c:-1;c=a.querySelectorAll("tFoot a.number");d=c.length;k=Math.min(a.numberFooterAnchors,d);k=Math.floor(k/2);n=b>k?k:b-1;k=b-n;n=b+(a.numberFooterAnchors-1-n);n>d&&(k-=n-d,n=d);for(q=1;q<=d;q++)c[q-1].className=(q==b?"number selected ":"number ")+(q>=k&&q<=n?"shown":"hidden");b=(b-1)*a.rowsPerPage+1;c=b+a.rowsPerPage-1>a.numberOfRows?a.numberOfRows:b+a.rowsPerPage-1;if(d=a.querySelector("tFoot span.details"))d.innerHTML=b+" - "+c+" of "+a.numberOfRows+" items.";a.numberOfRows=e;a.numberOfColumns=
l}function d(a){var b=a.querySelector("tFoot.pagination");b||(b=document.createElement("tFoot"),b.className="pagination",a.appendChild(b),a.navFooter=b);b.innerHTML="";var c=document.createElement("tr");b.appendChild(c);b=document.createElement("td");c.appendChild(b);b.colSpan=a.numberOfColumns;c=document.createElement("span");c.className="details";b.appendChild(c);c.innerHTML=(0<a.numberOfRows?1:0)+" - "+(a.numberOfRows>a.rowsPerPage?a.rowsPerPage:a.numberOfRows)+" of "+a.numberOfRows+" items.";
c=e(a,"<<","not-number first disabled",-1);b.appendChild(c);c=e(a,"<","not-number previous disabled",-1);b.appendChild(c);for(var d=a.numberOfPages,h=1;h<=d;h++)c=e(a,h,(1==h?"number selected ":"number ")+(h>a.numberFooterAnchors?"hidden":"shown"),h),b.appendChild(c);c=e(a,">",1<d?"not-number next":"not-number next disabled",1<d?2:-1);b.appendChild(c);c=e(a,">>",1<d?"not-number last":"not-number last disabled",1<d?d:-1);b.appendChild(c)}function c(c){var d=c.tHead,e=c.numberOfRows,g=0==e?1:Math.floor(Math.log(e)/
Math.LN10)+1;if(d&&1<g){var h=document.createElement("tr");h.className="select";d.insertBefore(h,d.firstChild);d=document.createElement("th");d.colSpan=c.numberOfColumns;h.appendChild(d);var k=document.createElement("span");k.className="show";d.appendChild(k);k.appendChild(document.createTextNode("Show "));h=document.createElement("select");d.appendChild(h);h.table=c;k=document.createElement("span");k.className="entries";d.appendChild(k);k.appendChild(document.createTextNode(" entries"));g=Math.pow(10,
g-1);for(d=1;4>=d;d++){k=g*d;if(k>e)break;b(h,k,k)}b(h,"all",e);h.onchange=function(){this.table.rowsPerPage=this.options[this.selectedIndex].value;a(this.table);c.changePage(1)}}}function b(a,b,c){var d=document.createElement("option");d.text=b;d.value=c;a.appendChild(d)}function e(a,b,c,d){var e=document.createElement("a");e.className=c;e.table=a;e.index=d;e.onclick=function(){this.table.changePage(this.index)};a=document.createTextNode(b);e.appendChild(a);return e}(function(){for(var b=document.querySelectorAll("table.pages"),
d=b.length,e=0;e<d;e++){var g=b[e];g.isPaged=!0;g.firstShownRow=0;g.numberFooterAnchors=5;for(var h=g.tBodies,d=h.length,k=0,n=0;n<d;n++)k+=h[n].rows.length;g.numberOfRows=k;h=0==g.numberOfRows?1:Math.floor(Math.log(g.numberOfRows)/Math.LN10)+1;g.rowsPerPage=Math.pow(10,h-1);a(g);c(g)}})()};
wesCountry.table.sort=new function(){function a(a){for(var c=a.tHead.rows,b=c.length,e=0;e<b;e++)if("select"!=c[e].className){c[e].className="sorter";for(var p=c[e].cells.length,f=0;f<p;f++){c[e].cells[f].table=a;c[e].cells[f].index=f;c[e].cells[f].sort="empty";var m=new Image;m.className="empty";c[e].cells[f].appendChild(m);c[e].cells[f].onclick=function(){n(this.table,this.index,this)}}}}function n(a,c,b){for(var e=[],n=a.tBodies.length,f=0;f<n;f++)for(var m=a.tBodies[f],g=0;g<m.rows.length;g++)e.push(m.rows[g]);
b.sort="empty"==b.sort||"down"==b.sort?"up":"down";e.sort(function(a,d){if("empty"==a.className||"empty"==d.className)return 1;a=a.cells[c].innerHTML.toString();d=d.cells[c].innerHTML.toString();return a<d?"up"==b.sort?-1:1:a>d?"up"==b.sort?1:-1:0});b.querySelector("img").className=b.sort;m=a.querySelectorAll("tHead tr.sorter th");n=m.length;for(f=0;f<n;f++)f!=c&&t(m[f]);n=a.tHead;for(f=a.tFoot;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(n);f&&a.appendChild(f);m=document.createElement("tbody");
a.appendChild(m);n=e.length;for(f=0;f<n;f++)m.appendChild(e[f]);a.changePage&&a.changePage(1)}function t(a){var c=a.querySelectorAll("img");c&&c.length&&0<c.length&&(c[0].className="empty");a.sort="empty"}(function(){for(var d=document.querySelectorAll("table.sortable"),c=d.length,b=0;b<c;b++)a(d[b])})()};
function SortedArray(){var a=0;this.array=[];for(var n=arguments.length;a<n;)this.insert(arguments[a++]);this.length=0;this.insert=function(a){var d=this.array,c=d.length;d.push(a);for(this.length=this.array.length;c;){a=c;var b=--c;if(d[a]<d[b]){var e=d[a];d[a]=d[b];d[b]=e}}return this};this.get=function(a){return this.array[a]};this.getArray=function(){return this.array};this.uniqueInsert=function(a){-1==this.search(a)&&this.insert(a)};this.search=function(a){for(var d=0,c=this.array,b=c.length;b>
d;){var e=(b+d)/2>>>0,n=c[e];if(n<a)d=e+1;else if(n>a)b=e;else return e}return-1};this.remove=function(a){a=this.search(a);0<=a&&this.array.splice(a,1);this.length=this.array.length;return this}}"undefined"===typeof exports&&(exports={});
var Selector=exports.Selector=function(a,n){function t(a,b,e,f,g){var k=document.createElement("ul");k.className=n["ul-class"];a.sort(function(a,b){return a.label<b.label?-1:a.label>b.label?1:0});for(var m=a.length,p=null,s=!1,z=[],B=0;B<m;B++){var E=a[B],G=E.children&&E.children.length?E.children.length:0,F=document.createElement("li");k.appendChild(F);F.code=E.code;F.liParent=b;F.data=E;F.isSelected=!1;var A=document.createElement("a");A.href="javascript: void(0)";A.value=E.label;-1!=n.selectedItems.indexOf(F.code)&&
(s=!0,z.push(A));null==g&&h.push(A);A.previousSiblingLink=f;A.nextSiblingLink=null;A.parentLink=g;f&&(f.nextSiblingLink=A);0==B&&(p=A);A.className="circleAndText";F.appendChild(A);A.liParent=F;A.onclick=function(a){c(this.liParent,n.callback);a&&a.stopPropagation()};var H=document.createElement("div");H.className=0<G?"plusOrMinus":"hidden-plusOrMinus";H.innerHTML="+";A.appendChild(H);0<G&&(H.onclick=function(a){d(this);a.stopPropagation()});A.plusOrMinus=H;A.onkeydown=function(a){if(13==a.keyCode)return c(this.liParent,
n.callback),a.stopPropagation(),!1;if(38==a.keyCode)return this.previousSiblingLink&&this.previousSiblingLink.focus(),a.stopPropagation(),!1;if(40==a.keyCode)return this.plusOrMinus.opened&&this.firstChildLink?this.firstChildLink.focus():this.nextSiblingLink?this.nextSiblingLink.focus():this.parentLink.nextSiblingLink&&this.parentLink.nextSiblingLink.focus(),a.stopPropagation(),!1;if(37==a.keyCode||39==a.keyCode)return a.stopPropagation(),d(this.plusOrMinus),a.keyCode=9,a.keyCode};var D=document.createElement("div");
D.className="circle";A.appendChild(D);f=document.createElement("div");f.className="title";A.appendChild(f);var I=document.createTextNode(E.label);f.appendChild(I);f=A;0<G&&(G=document.createElement("span"),G.className="empty-counter",D.appendChild(G),I=document.createTextNode("0"),G.appendChild(I),F.counter={div:G,value:0},D=t(E.children,F,e+1,f,A),F.appendChild(D.ul),A.firstChildLink=D.firstChildLink,H.childrenUl=D.ul,!0==D.selected&&(s=!0,H.innerHTML="-"),z=z.concat(D.selectedItems));F.childNumber=
E.children?E.children.length:0}1<e&&!1==s&&(k.style.display="none");return{ul:k,firstChildLink:p,selected:s,selectedItems:z}}function d(a){"+"==a.innerHTML?(a.innerHTML="&#8212;",a.childrenUl&&(a.childrenUl.style.display="block"),a.opened=!0):(a.innerHTML="+",a.childrenUl&&(a.childrenUl.style.display="none"),a.opened=!1)}function c(a,c){var d=!a.isSelected;d&&0<n.maxSelectedItems&&k.length>=n.maxSelectedItems||b(a,c,d)}function b(a,b,c){e(a,c);if(a.liParent){var d=a.liParent.counter.value,d=c?d+1:
d-1;p(a.liParent,d);c?d==a.liParent.childNumber&&(a.liParent.className="selected",a.liParent.isSelected=!0,f(a.liParent.code,!0)):(a.liParent.className="not-selected",a.liParent.isSelected=!1,f(a.liParent.code,!1))}0<a.childNumber&&p(a,c?a.childNumber:0);b&&b.call(a,a.data,k)}function e(a,b){"li"==a.tagName.toLowerCase()&&(a.isSelected=b,a.className=b?"selected":"not-selected",f(a.code,b),a.firstChild.title=a.firstChild.value+(b?" is selected":""));for(var c=a&&a.children&&a.children.length?a.children.length:
0,d=0;d<c;d++)e(a.children[d],b)}function p(a,b){var c=a.counter;c.value=b;c.div.innerHTML=c.value;c.div.className=0<c.value?"counter":"empty-counter";b=a.firstChild.value;a.firstChild.title=b+": "+c.value+(1!=c.value?" selected countries":" selected country")}function f(a,b){a&&(b?k.uniqueInsert(a):k.remove(a))}function m(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var c in b)a[c]=m(a[c],b[c]);return a}return b}var g={"ul-class":"default-selector",callback:null,maxSelectedItems:-1,
selectedItems:[]},h=[],k=new SortedArray,s=null;(function(){var b=n;if(b){"string"===typeof b&&(b={container:b});var c=JSON.parse(JSON.stringify(g)),d;for(d in b)c[d]=m(c[d],b[d]);b=c}else b=JSON.parse(JSON.stringify(g));n=b;b=t(a,null,1,null,null);s=b.ul;b=b.selectedItems;c=b.length;for(d=0;d<c;d++)b[d].onclick()})();this.render=function(){return s};this.clear=function(){for(var a=s.children.length,c=0;c<a;c++)b(s.children[c],null,!1)};this.selectAll=function(){for(var a=h.length,b=0;b<a;b++)c(h[b].liParent,
null)}};
