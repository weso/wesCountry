var jSVG=new function(){function G(F){function C(k,g,D,s){g=new G(g);var C;s=JSON.parse(JSON.stringify(s));if(D)for(C in D)s[C]=D[C];C=s;s={};for(var F in C)s[F]=new J(null,F,C[F]);g.attributes(s);k&&k.appendChild(g);return g}var Q={width:500,height:500,version:"1.1"},s={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},J=function(k,g,D){this.namespace=k;this.name=g;this.value=D},y={},K={},O="",H=void 0,M=[];this.svg=function(k){k||
(k={});return C(null,"svg",k,Q)};this.elementByName=function(k,g){return C(this,k,g,s)};this.g=function(k){return C(this,"g",k,s)};this.path=function(k){return C(this,"path",k,s)};this.rectangle=function(k){return C(this,"rect",k,s)};this.circle=function(k){return C(this,"circle",k,s)};this.line=function(k){return C(this,"line",k,s)};this.text=function(k){var g=C(this,"text",k,s);g.value(k.value);return g};this.a=function(k,g){var D=C(this,"a",k,s);D.attribute("http://www.w3.org/1999/xlink","xlink:href",
g);return D};this.attribute=function(k,g,D){y[g]=new J(k,g,D);return this};this.attributes=function(k){y=k;return this};this.style=function(k){O=k;return this};this.value=function(k){H=k;return this};this.event=function(k,g){K[k]=g;return this};this.width=function(){return y.width.value};this.height=function(){return y.height.value};this.appendChild=function(k){M.push(k)};this.render=function(){var k=document.createElementNS("http://www.w3.org/2000/svg",F),g;for(g in y){var D=y[g];k.setAttributeNS(D.namespace,
D.name,D.value)}k.setAttributeNS(null,"style",O);for(var s in K)k[s]=K[s];for(g=0;g<M.length;g++)k.appendChild(M[g].render());H&&(g=document.createTextNode(H),k.appendChild(g));return k};this.toString=function(){var k="",g;for(g in y)var s=y[g],k=k+String.format(' {0}="{1}"',s.name,s.value);g="";for(s=0;s<M.length;s++)g+=M[s].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',F,"http://www.w3.org/2000/svg",k,O,g,H?H:"")}}return new G};
String.format=function(G){for(var F=1;F<arguments.length;F++)G=G.replace(RegExp("\\{"+(F-1)+"\\}","g"),arguments[F]);return G};String.prototype.toFirstUpperCase=function(){var G=this[0].toUpperCase(),F=this.substr(1);return G+F};"undefined"===typeof exports&&(exports={});wesCountry||(wesCountry={});
wesCountry.charts=new function(){function G(a,b){function f(a,c,b,f){return c.marginTop+c.innerHeight-c.xAxisMargin+b-a/(c.maxValue-c.minValue)*f}function c(a,c){var b=a.width(),f=a.height(),I=f*c.margins[0]/100,v=b*c.margins[1]/100,l=f*c.margins[2]/100,m=b*c.margins[3]/100,L=c.yAxis.margin*b/100,w=c.xAxis.margin*f/100,n=b-m-v,t=f-I-l,r=H(c),q=r.max,p=r.min,k=r.valueLength;p==q&&(p=0<=p?0:p-2,q+=2);var u=(q-p)/r.inc,r=(n-L)/r.valueLength,g=c.groupMargin*r/100,r=r-2*g,s=r/c.series.length,E=c.barMargin*
s/100;return{width:b,height:f,marginTop:I,marginRight:v,marginBottom:l,marginLeft:m,innerWidth:n,innerHeight:t,yAxisMargin:L,xAxisMargin:w,maxValue:q,minValue:p,maxValueLength:k,ticksY:u,yTickHeight:0!=u?(t-w)/u:0,xTickWidth:r,valueInc:0!=u?(q-p)/u:0,barMargin:E,groupMargin:g,barWidth:s-2*E,legendItemSize:c.legend.itemSize*b/100}}return function(){a=s(a,P);a.sortSeries&&(a.series=F(a.series));var e=C(a),h=c(e,a),d=e.g();M(d,h,a);K(d,h,a);O(d,h,a);for(var A=a.series.length,I=h.maxValueLength,v=h.innerHeight-
h.xAxisMargin,l=h.minValue/(h.maxValue-h.minValue)*v,m=0;m<A;m++){var L="";if(b)var k=d.path();for(var n=Math.max(0,h.minValue),n=f(n,h,l,v),t="l"+D(),r=0;r<I;r++){var q=a.series[m].values[r],p=0<r?a.series[m].values[r-1]:0,g=a.series[m].urls?a.series[m].urls[r]:"",u=a.series[m].name,x=a.xAxis.values[r];q||(q=0);p||(p=0);var N=h.marginLeft+h.yAxisMargin+h.groupMargin+h.xTickWidth/2+(h.xTickWidth+2*h.groupMargin)*r,E=f(q,h,l,v),B=h.marginLeft+h.yAxisMargin+h.groupMargin+h.xTickWidth/2+(h.xTickWidth+
2*h.groupMargin)*(r-1),p=f(p,h,l,v),u={cx:N,cy:E,r:5,"class":t,serie:u,value:q,pos:x},x=String.format("fill: {0}",a.serieColours[m%a.serieColours.length]),y=function(a,c){for(var e=a.getAttribute("class"),e=a.parentNode.querySelectorAll("line."+e),b=e.length,h=0;h<b;h++)e[h].setAttribute("stroke-width",c)},G=function(){this.setAttribute("r",8);y(this,2);a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},H=function(){this.setAttribute("r",5);y(this,
1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},J=function(){this.setAttribute("r",5);y(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};g&&""!=g?d.a({},g?g:"").circle(u).style(x).event("onmouseover",G).event("onmouseout",H).event("onclick",J):d.circle(u).style(x).event("onmouseover",G).event("onmouseout",H).event("onclick",J);!0==a.valueOnItem.show&&d.text({x:N,y:E-a.height/100*a.valueOnItem.margin,
value:0==q?"0":q.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));0<r?(d.line({x1:B,x2:N,y1:p,y2:E,"stroke-width":1,"class":t}).style(String.format("stroke: {0}",a.serieColours[m%a.serieColours.length])).event("onmouseover",function(){y(this,2)}).event("onmouseout",function(){y(this,1)}),L+=String.format(" L{0} {1}",N,E)):L=String.format("M{0} {1} L{2} {3}",
N,n,N,E)}L+=String.format(" L{0} {1} Z",N,n);b&&k.attribute(null,"d",L).style(String.format("stroke: {0}; fill: {0}; opacity: 0.5",a.serieColours[m%a.serieColours.length]))}a.legend.show&&Q(d,h,a);R(a);return e}()}function F(a){a.sort(function(a,f){for(var c=a.values,e=f.values,h=Math.max(c.length,e.length),d=0,A=0;A<h;A++)(c[A]?c[A]:0)>(e[A]?e[A]:0)&&d++;return d>=h/2?-1:1});return a}function C(a){return jSVG.svg({width:a.width,height:a.height})}function Q(a,b,f){for(var c=f.series.length,e=b.width-
0.2*b.marginRight,h=0;h<c;h++){var d=b.marginTop+2.5*(b.legendItemSize+b.barMargin)*h;a.circle({cx:e,cy:d,r:b.legendItemSize}).style(String.format("fill: {0}",f.serieColours[h%f.serieColours.length]));a.text({x:e-2*b.legendItemSize,y:d,value:f.series[h].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",f.legend["font-colour"],f.legend["font-family"],f.legend["font-size"]))}}function s(a,b){if(a){"string"===typeof a&&(a={container:a});var f=
y(b),c;for(c in a)f[c]=J(f[c],a[c]);a=f}else a=y(b);return a}function J(a,b){if(b instanceof Array)return b;if("object"===typeof b){for(var f in b)a[f]=J(a[f],b[f]);return a}return b}function y(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor(),f;for(f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);return b}function K(a,b,f){a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.yAxisMargin,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",f.yAxis.colour));
for(var c=b.ticksY+1,e=0;e<c;e++)a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:b.marginTop+e*b.yTickHeight,y2:b.marginTop+e*b.yTickHeight}).style(String.format("stroke: {0}",f.yAxis.tickColour));for(e=0;e<c;e++)a.text({x:b.marginLeft+b.yAxisMargin/1.8,y:b.marginTop+e*b.yTickHeight,value:(b.maxValue-e*b.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",f.yAxis["font-colour"],f.yAxis["font-family"],
f.yAxis["font-size"]));c=b.marginLeft;b=b.marginTop+(b.innerHeight-b.xAxisMargin)/2;a.text({x:c,y:b,value:f.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",c,b)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",f.yAxis["font-colour"],f.yAxis["font-family"],f.yAxis["font-size"]))}function O(a,b,f){var c=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(b.maxValue-b.minValue)*(b.innerHeight-b.xAxisMargin);a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+
b.innerWidth,y1:c,y2:c}).style(String.format("stroke: {0}",f.xAxis.colour));for(var c=b.maxValueLength,e=0;e<c;e++){var h=b.marginLeft+b.yAxisMargin+b.groupMargin+b.xTickWidth/2+(b.xTickWidth+2*b.groupMargin)*e;a.line({x1:h,x2:h,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",f.xAxis.tickColour));a.text({x:h,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:f.xAxis.values[e]?f.xAxis.values[e]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
f.xAxis["font-colour"],f.xAxis["font-family"],f.xAxis["font-size"]))}a.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:f.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",f.xAxis["font-colour"],f.xAxis["font-family"],f.xAxis["font-size"]))}function H(a){for(var b=0,f=Number.MAX_VALUE,c=a.series.length,e=null,h=null,d=0,A=0;A<c;A++){e=a.series[A].values.length;e>d&&(d=e);for(var I=0;I<
e;I++)h=a.series[A].values[I],h instanceof Array&&(h=h[1]?h[1]:0),h>b&&(b=h),h<f&&(f=h)}!0==a.yAxis["from-zero"]&&0<f&&(f=0);a=k(f,b);return{max:a.max,min:a.min,valueLength:d,inc:a.inc}}function M(a,b,f){a.rectangle({x:0,y:0,width:b.width,height:b.height}).style(String.format("fill: {0}",f.backgroundColour))}function k(a,b){var f;f=b-a;var c=0;15>f?c=1:30>f?c=5:(f=1+Math.floor(Math.log(f)/Math.log(10)),c=Math.pow(10,f-1));f=c;return{max:Math.ceil(b/f)*f,min:Math.floor(a/f)*f,inc:f}}function g(){return Math.floor(65536*
(1+Math.random())).toString(16).substring(1)}function D(){return g()+g()+"-"+g()+"-"+g()+"-"+g()+"-"+g()+g()+g()}function R(a){if(!0==a.tooltip.show){if(B=document.getElementById("wesCountryTooltip"),!B){B=document.createElement("span");B.id="wesCountryTooltip";document.body.appendChild(B);var b="",f;for(f in a.tooltip.style)b+=String.format("{0}:{1};",f,a.tooltip.style[f]);B.setAttribute("style",b)}}else B=null}function S(a){if(B){var b=a?a:event;a=b.clientX;b=b.clientY;diffX=24;diffY=0;B.style.top=
b-2+diffY+document.body.scrollTop+"px";B.style.left=a-2+diffX+document.body.scrollLeft+"px"}}var P={width:600,height:400,chartType:"bar",container:"body",margins:[10,20,10,5],backgroundColour:"none",serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],overColour:"#333",groupMargin:4,barMargin:8,sortSeries:!1,valueOnItem:{show:!0,margin:5,"font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},xAxis:{title:"Months",colour:"none",margin:10,tickColour:"none",values:["Jan","Feb","Mar","Apr",
"May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica","font-colour":"#aaa","font-size":"16px","from-zero":!1},series:[{name:"First",values:[-1,4,5,3,6],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]},{name:"Second",values:[1,7,5,6,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es",
"http://www.google.es"]},{name:"Third",values:[0,1,2,3,4],urls:["http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es","http://www.google.es"]}],legend:{show:!0,itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"},tooltip:{show:!0,style:{display:"none",padding:"0.8em 0.5em","font-size":"12px",border:"0.1em solid #ccc","background-color":"#fff",position:"absolute",color:"#000"}},events:{onmouseover:function(a,b,f){a=String.format("Series '{0}': ({1}, {2})",
a,b,f);console.log(a);jGraf.showTooltip(a)},onmouseout:function(){jGraf.hideTooltip()},onclick:function(){}}};this.barChart=function(a){function b(a,c){var e=a.width(),b=a.height(),d=b*c.margins[0]/100,A=e*c.margins[1]/100,I=b*c.margins[2]/100,v=e*c.margins[3]/100,l=c.yAxis.margin*e/100,m=c.xAxis.margin*b/100,k=e-v-A,g=b-d-I,n=H(c),t=n.max,r=0<n.min?0:n.min,q=n.valueLength,p=(t-r)/n.inc,n=(k-l)/n.valueLength,s=c.groupMargin*n/100,n=n-2*s,u=n/c.series.length,x=c.barMargin*u/100;return{width:e,height:b,
marginTop:d,marginRight:A,marginBottom:I,marginLeft:v,innerWidth:k,innerHeight:g,yAxisMargin:l,xAxisMargin:m,maxValue:t,minValue:r,maxValueLength:q,ticksY:p,yTickHeight:0!=p?(g-m)/p:0,xTickWidth:n,valueInc:0!=p?(t-r)/p:0,barMargin:x,groupMargin:s,barWidth:u-2*x,legendItemSize:c.legend.itemSize*e/100}}return function(){a=s(a,P);a.yAxis["from-zero"]=!0;a.sortSeries&&(a.series=F(a.series));var f=C(a),c=b(f,a),e=f.g();M(e,c,a);K(e,c,a);O(e,c,a);for(var h=c.maxValueLength,d=a.series.length,A=c.barWidth,
I=c.innerHeight-c.xAxisMargin,v=c.minValue/(c.maxValue-c.minValue)*I,l=0;l<h;l++)for(var m=0;m<d;m++){var k=a.series[m].name,g=a.series[m].values[l],n=a.series[m].urls?a.series[m].urls[l]:"",t=a.xAxis.values[m];g||(g=0);var r=c.marginLeft+c.yAxisMargin+c.groupMargin*(2*l+1)+c.barMargin+c.xTickWidth*l+(A+2*c.barMargin)*m,q=0<=g?c.marginTop+c.innerHeight-c.xAxisMargin+v-g/(c.maxValue-c.minValue)*I:c.marginTop+c.innerHeight-c.xAxisMargin+v,p=Math.abs(g)/(c.maxValue-c.minValue)*I,k={x:r,y:q,width:A,height:p,
serie:k,value:g,pos:t},t=String.format("fill: {0}",a.serieColours[m]),p=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},z=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},u=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))};
n&&""!=n?e.a({},n?n:"").rectangle(k).style(t).event("onmouseover",p).event("onmouseout",z).event("onclick",u):e.rectangle(k).style(t).event("onmouseover",p).event("onmouseout",z).event("onclick",u);!0==a.valueOnItem.show&&e.text({x:r+A/2,y:q-a.height/100*a.valueOnItem.margin,value:g.toFixed(2)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]))}a.legend.show&&
Q(e,c,a);R(a);return f}()};this.lineChart=function(a){return G(a,!1)};this.areaChart=function(a){return G(a,!0)};this.pieChart=function(a){function b(a,c){var e=a.width(),b=a.height(),d=b*c.margins[0]/100,A=e*c.margins[1]/100,k=b*c.margins[2]/100,v=e*c.margins[3]/100,l=c.yAxis.margin*e/100,m=c.xAxis.margin*b/100,g=e-v-A,s=b-d-k,n=H(c),t=n.max,r=n.min,q=n.valueLength,p=(t-r)/n.inc,n=(g-l)/n.valueLength,z=c.groupMargin*n/100,n=n-2*z,u=n/c.series.length,x=c.barMargin*u/100;return{width:e,height:b,marginTop:d,
marginRight:A,marginBottom:k,marginLeft:v,innerWidth:g,innerHeight:s,yAxisMargin:l,xAxisMargin:m,maxValue:t,minValue:r,maxValueLength:q,ticksY:p,yTickHeight:0!=p?(s-m)/p:0,xTickWidth:n,valueInc:0!=p?(t-r)/p:0,barMargin:x,groupMargin:z,barWidth:u-2*x,legendItemSize:c.legend.itemSize*e/100}}return function(){a=s(a,P);a.sortSeries&&(a.series=F(a.series));var f=C(a),c=b(f,a),e=f.g();M(e,c,a);var h=c.maxValueLength;if(1==h)var d=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/2,A=
c.innerWidth/2,k=c.innerHeight/2,v=0,l=1;else 2==h?(d=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/4,A=c.marginLeft+d,k=c.innerHeight/2,v=c.innerWidth-2*d,l=2):(8<h&&(h=8),d=Math.min(c.innerWidth,c.innerHeight-2*c.xAxisMargin)/4,l=Math.ceil(h/2),A=c.marginLeft+d,k=c.marginTop+d,v=(c.innerWidth-2*l*d)/(l-1)+2*d);for(var m=0;m<h;m++){if(m<l)var g=A+v*m,w=k;else g=h-l,w=(c.innerWidth-2*g*d)/(g<l?g+1:g-1),v=w+2*d,g=c.marginLeft+(g<l?w:0)+d+v*(m%l),w=c.marginTop+c.innerHeight-c.xAxisMargin-
d;e.text({x:g,y:w+d+c.xAxisMargin/2,value:a.xAxis.values[m]?a.xAxis.values[m]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]));for(var n=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},t=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},r=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},q=0,p=0,z=a.series.length,u=0;u<z;u++){var x=Math.abs(a.series[u].values[m]);x||(x=0);0!=x&&p++;q+=x}for(var N=[],u=0;u<z;u++)(x=Math.abs(2*(a.series[u].values[m]/q)*Math.PI))||(x=0),N[u]=x;if(1==p){for(var E="",p=x=q="",u=0;u<z;u++)if(0!=N[u]){E=a.serieColours[u];q=a.series[u].name;x=Math.abs(a.series[0].values[u]).toFixed(2);
p=a.xAxis.values[m];break}e.circle({cx:g,cy:w,r:d,serie:q,value:x,pos:p}).event("onmouseover",n).event("onmouseout",t).event("onclick",r).style(String.format("fill: {0}",E))}else for(u=E=0;u<z;u++){var y=E+N[u],x=Math.abs(a.series[u].values[m]).toFixed(2),q=a.series[u].name,p=a.xAxis.values[m],D=g+d*Math.sin(E),B=w-d*Math.cos(E),G=g+d*Math.sin(y),H=w-d*Math.cos(y),J=E+(y-E)/2,K=d+d/100*a.valueOnItem.margin,O=g+K*Math.sin(J),J=w-K*Math.cos(J),K=0;y-E>Math.PI&&(K=1);e.path({d:"M "+g+","+w+" L "+D+","+
B+" A "+d+","+d+" 0 "+K+" 1 "+G+","+H+" Z",serie:q,value:x,pos:p}).event("onmouseover",n).event("onmouseout",t).event("onclick",r).style(String.format("fill: {0}",a.serieColours[u]));!0==a.valueOnItem.show&&e.text({x:O,y:J,value:x}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.valueOnItem["font-colour"],a.valueOnItem["font-family"],a.valueOnItem["font-size"]));E=y}}a.legend.show&&Q(e,c,a);R(a);return f}()};this.polarChart=function(a){function b(a,
c){var e=a.width(),b=a.height(),d=b*c.margins[0]/100,g=e*c.margins[1]/100,k=b*c.margins[2]/100,v=e*c.margins[3]/100,l=c.yAxis.margin*e/100,m=c.xAxis.margin*b/100,s=e-v-g,w=b-d-k,n=H(c),t=n.max,r=0<n.min?0:n.min,q=n.valueLength,p=(t-r)/n.inc,n=(s-l)/n.valueLength,z=c.groupMargin*n/100,n=n-2*z,u=n/c.series.length,x=c.barMargin*u/100;return{width:e,height:b,marginTop:d,marginRight:g,marginBottom:k,marginLeft:v,innerWidth:s,innerHeight:w,yAxisMargin:l,xAxisMargin:m,maxValue:t,minValue:r,maxValueLength:q,
ticksY:p,yTickHeight:0!=p?(w-m)/p:0,xTickWidth:n,valueInc:0!=p?(t-r)/p:0,barMargin:x,groupMargin:z,barWidth:u-2*x,legendItemSize:c.legend.itemSize*e/100}}return function(){a=s(a,P);var f=C(a),c=b(f,a),e=f.g();M(e,c,a);for(var h=Math.min(c.innerWidth-2*c.yAxisMargin,c.innerHeight-2*c.xAxisMargin)/2,d=c.maxValueLength,g=c.width/2,k=c.height/2,v=[],l=0;l<d;l++)v.push({x:g+h*Math.cos(2*Math.PI*l/d-Math.PI/2),y:k+h*Math.sin(2*Math.PI*l/d-Math.PI/2)});for(l=0;l<d;l++){var m=v[l];e.line({x1:g,y1:k,x2:m.x,
y2:m.y}).style(String.format("stroke: {0};",a.yAxis.tickColour))}for(l=0;l<d;l++){var m=g+(h+c.xAxisMargin/2)*Math.cos(2*Math.PI*l/d-Math.PI/2),L=k+(h+c.xAxisMargin/2)*Math.sin(2*Math.PI*l/d-Math.PI/2),w=a.xAxis.values[l]?a.xAxis.values[l]:"";e.text({x:m,y:L,value:w}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}for(var n=c.maxValue,t=c.minValue,n=5*Math.ceil(n/5),t=
5*Math.floor(t/5),r=h/5,w=(n-t)/5,l=0;5>=l;l++){v=[];m=r*l;e.text({x:g-c.xAxisMargin/2,y:k-m,value:t+l*w}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));for(var q=0;q<d;q++)v.push({x:g+m*Math.cos(2*Math.PI*q/d-Math.PI/2),y:k+m*Math.sin(2*Math.PI*q/d-Math.PI/2)});for(q=0;q<d;q++){var m=v[q],p=0==q?v[d-1]:v[q-1];e.line({x1:p.x,y1:p.y,x2:m.x,y2:m.y}).style(String.format("stroke: {0};",
a.yAxis.tickColour))}}p=Math.abs(t/(n-t))*h;r=a.series.length;v=[];for(l=0;l<r;l++)for(v[l]=[],q=0;q<d;q++)(w=a.series[l].values[q])||(w=0),w=0>w?p-Math.abs(w/t)*p:w/n*(h-p)+p,m=g+w*Math.cos(2*Math.PI*q/d-Math.PI/2),L=k+w*Math.sin(2*Math.PI*q/d-Math.PI/2),v[l].push({x:m,y:L});for(var z=function(a,c){for(var b=a.getAttribute("class"),b=a.parentNode.querySelectorAll("line."+b),e=b.length,d=0;d<e;d++)b[d].setAttribute("stroke-width",c)},h=function(){this.setAttribute("r",8);z(this,2);a.events.onmouseover(this.getAttribute("serie"),
this.getAttribute("pos"),this.getAttribute("value"))},g=function(){this.setAttribute("r",5);z(this,1);a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},k=function(){this.setAttribute("r",5);z(this,1);a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},l=0;l<r;l++)for(n="l"+D(),q=0;q<d;q++)m=v[l][q],p=0==q?v[l][d-1]:v[l][q-1],w=a.series[l].values[q],e.circle({cx:m.x,cy:m.y,r:5,serie:a.series[l].name,value:w,
pos:a.xAxis.values[q],"class":n}).style(String.format("fill: {0}",a.serieColours[l%a.serieColours.length])).event("onmouseover",h).event("onmouseout",g).event("onclick",k),e.line({x1:p.x,y1:p.y,x2:m.x,y2:m.y,"class":n}).style(String.format("stroke: {0};",a.serieColours[l%a.serieColours.length]));a.legend.show&&Q(e,c,a);R(a);return f}()};this.scatterPlot=function(a){function b(a,b){var h=a.width(),d=a.height(),f=d*b.margins[0]/100,g=h*b.margins[1]/100,k=d*b.margins[2]/100,l=h*b.margins[3]/100,m=b.yAxis.margin*
h/100,s=b.xAxis.margin*d/100,w=h-l-g,n=d-f-k,t=H(b),r=t.max,q=t.min,p=t.valueLength,z=(r-q)/t.inc,t=(w-m)/t.valueLength,u=b.groupMargin*t/100,t=t-2*u,x=t/b.series.length,y=b.barMargin*x/100;return{width:h,height:d,marginTop:f,marginRight:g,marginBottom:k,marginLeft:l,innerWidth:w,innerHeight:n,yAxisMargin:m,xAxisMargin:s,maxValue:r,minValue:q,maxValueLength:p,ticksY:z,yTickHeight:0!=z?(n-s)/z:0,xTickWidth:t,valueInc:0!=z?(r-q)/z:0,barMargin:y,groupMargin:u,barWidth:x-2*y,legendItemSize:b.legend.itemSize*
h/100}}function f(a,b,h){var d=b.marginTop+b.innerHeight-b.xAxisMargin+b.minValue/(0!=b.maxValue-b.minValue?b.maxValue-b.minValue:1)*(b.innerHeight-b.xAxisMargin);a.line({x1:b.marginLeft+b.yAxisMargin,x2:b.marginLeft+b.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",h.xAxis.colour));for(var d=0,f=Number.MAX_VALUE,g=h.series.length,v=null,l=null,m=0;m<g;m++)for(var v=h.series[m].values.length,s=0;s<v;s++)l=h.series[m].values[s][0]?h.series[m].values[s][0]:0,l>d&&(d=l),l<f&&(f=l);for(var d=
k(f,d),d={max:d.max,min:d.min,inc:d.inc},f=d.max,g=d.min,v=d.valueLength,l=(f-g)/d.inc,m=(b.innerWidth-b.yAxisMargin)/l,s=d.inc,w=l+1,n=0;n<w;n++){var t=b.marginLeft+b.yAxisMargin+m*n;a.line({x1:t,x2:t,y1:b.marginTop,y2:b.innerHeight+b.marginTop-b.xAxisMargin}).style(String.format("stroke: {0}",h.xAxis.tickColour));a.text({x:t,y:b.marginTop+b.innerHeight-b.xAxisMargin/2,value:g+s*n}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",h.xAxis["font-colour"],h.xAxis["font-family"],
h.xAxis["font-size"]))}a.text({x:b.marginLeft+b.yAxisMargin+(b.innerWidth-b.yAxisMargin)/2,y:b.marginTop+b.innerHeight+b.xAxisMargin/2,value:h.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",h.xAxis["font-colour"],h.xAxis["font-family"],h.xAxis["font-size"]));return{maxAndMinValues:d,maxValue:f,minValue:g,maxValueLength:v,ticksX:l,xTickWidth:m,incX:s}}return function(){a=s(a,P);var c=C(a),e=b(c,a),h=c.g();M(h,e,a);K(h,e,a);var d=f(h,e,a),g=a.series.length,
k=e.innerHeight-e.xAxisMargin,v=e.innerWidth-e.yAxisMargin,l=0;0>=e.minValue&&0!=e.maxValue-e.minValue&&(l=e.minValue/(e.maxValue-e.minValue)*k);var m=0;0>=d.minValue&&(m=d.xTickWidth*Math.abs(d.minValue));for(var y=function(){this.colour=this.style.fill;this.style.fill=a.overColour;a.events.onmouseover(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},w=function(){this.style.fill=this.colour;a.events.onmouseout(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},
n=function(){this.style.fill=this.colour;a.events.onclick(this.getAttribute("serie"),this.getAttribute("pos"),this.getAttribute("value"))},t=0;t<g;t++)for(var r=a.series[t].values,q=r.length,p=0;p<q;p++){var z=r[p][0]?r[p][0]:0,u=0,x=a.series[t].values[p],D=a.series[t].name,E=z;0<p&&(u=r[p-1][0]?r[p-1][0]:0);z||(z=0);u||(u=0);var u=r[p][1]?r[p][1]:0,B=0;0<p&&(B=r[p-1][1]?r[p-1][1]:0);u||(u=0);B||(B=0);h.circle({cx:e.marginLeft+e.yAxisMargin+m+(0==d.maxValue-d.minValue?0:(z-d.minValue)/(d.maxValue-
d.minValue))*v,cy:e.marginTop+e.innerHeight-e.xAxisMargin+l-(0==e.maxValue-e.minValue?1:(u-e.minValue)/(e.maxValue-e.minValue))*k,r:5,serie:D,value:x,pos:E}).style(String.format("fill: {0}",a.serieColours[t%a.serieColours.length])).event("onmouseover",y).event("onmouseout",w).event("onclick",n)}a.legend.show&&Q(h,e,a);R(a);return c}()};this.chart=function(a){a=s(a,P);var b;switch(a.chartType){case "bar":b=this.barChart(a);break;case "line":b=this.lineChart(a);break;case "pie":b=this.pieChart(a);break;
case "area":b=this.areaChart(a)}document.querySelector(a.container).appendChild(b.render())};this.multiChart=function(a){function b(){var b=d.querySelector(".active").innerHTML.toLowerCase();a.chartType=b;a.container=".chartDiv";jGraf.chart(a)}function f(){document.querySelector(".active");document.querySelector(".chartDiv").innerHTML="";b()}function c(){for(var a=this.innerHTML,b=document.querySelector(".active"),c=document.querySelectorAll(".inactive"),d=c.length,e=0;e<d;e++)c[e].className=a===
c[e].innerHTML?"active":"inactive";a!==b.innerHTML&&(b.className="inactive");f()}function e(){for(var b=y(seriesSave),c=document.querySelectorAll(".seriesSelector input"),e=b.length,d=0;d<e;d++)c[d].checked||delete b[d];c=[];for(d=0;d<e;d++)void 0!==b[d]&&c.push(b[d]);a.series=c;f()}a=s(a,P);seriesSave=y(a.series);var h=a.chartType,h=h instanceof Array?h:[h],d=document.querySelector(a.container);(function(){var a=document.createElement("div");a.className="chartSelector";for(var b=document.createElement("ul"),
e=0;e<h.length;e++){var f=document.createElement("li"),g=document.createElement("a");g.className="inactive";g.onclick=c;g.innerHTML=h[e].toFirstUpperCase();f.appendChild(g);b.appendChild(f)}a.appendChild(b);a.querySelector("li a").className="active";d.appendChild(a)})();(function(){var a=document.createElement("div");a.className="seriesSelector";for(var b=0;b<seriesSave.length;b++){var c=document.createElement("input"),f=document.createElement("label");c.id=seriesSave[b].name+"Checkbox"+D();c.type=
"checkbox";c.className="checks";c.onchange=e;c.checked=!0;f.for=c.id;f.innerHTML=seriesSave[b].name;a.appendChild(c);a.appendChild(f)}d.appendChild(a)})();(function(){var a=document.createElement("div");a.className="chartDiv";d.appendChild(a);b()})()};var B=null;this.showTooltip=function(a){B&&(S(),B.innerHTML=a,B.style.display="block",window.onscroll=S)};this.hideTooltip=function(){B&&(B.style.display="none")}};
